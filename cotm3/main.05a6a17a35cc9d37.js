"use strict";(self.webpackChunkcotm_front2=self.webpackChunkcotm_front2||[]).push([[179],{154:(A2,b,S)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.CallStack=void 0;const v=S(606),y=S(0),k=S(106),w=S(90),V=S(353),L=S(981),x=S(662),z=S(964),H=S(216),m=S(523);class T{constructor(){if(this._threadCounter=0,this._startOfRoot=x.Pointer.Null,arguments[0]instanceof k.Story)this._startOfRoot=x.Pointer.StartOf(arguments[0].rootContentContainer),this.Reset();else{let p=arguments[0];this._threads=[];for(let j of p._threads)this._threads.push(j.Copy());this._threadCounter=p._threadCounter,this._startOfRoot=p._startOfRoot.copy()}}get elements(){return this.callStack}get depth(){return this.elements.length}get currentElement(){let j=this._threads[this._threads.length-1].callstack;return j[j.length-1]}get currentElementIndex(){return this.callStack.length-1}get currentThread(){return this._threads[this._threads.length-1]}set currentThread(p){z.Debug.Assert(1==this._threads.length,"Shouldn't be directly setting the current thread when we have a stack of them"),this._threads.length=0,this._threads.push(p)}get canPop(){return this.callStack.length>1}Reset(){this._threads=[],this._threads.push(new T.Thread),this._threads[0].callstack.push(new T.Element(v.PushPopType.Tunnel,this._startOfRoot))}SetJsonToken(p,j){this._threads.length=0;let e2=p.threads;for(let n2 of e2){let t2=new T.Thread(n2,j);this._threads.push(t2)}this._threadCounter=parseInt(p.threadCounter),this._startOfRoot=x.Pointer.StartOf(j.rootContentContainer)}WriteJson(p){p.WriteObject(j=>{j.WritePropertyStart("threads"),j.WriteArrayStart();for(let e2 of this._threads)e2.WriteJson(j);j.WriteArrayEnd(),j.WritePropertyEnd(),j.WritePropertyStart("threadCounter"),j.WriteInt(this._threadCounter),j.WritePropertyEnd()})}PushThread(){let p=this.currentThread.Copy();this._threadCounter++,p.threadIndex=this._threadCounter,this._threads.push(p)}ForkThread(){let p=this.currentThread.Copy();return this._threadCounter++,p.threadIndex=this._threadCounter,p}PopThread(){if(!this.canPopThread)throw new Error("Can't pop thread");this._threads.splice(this._threads.indexOf(this.currentThread),1)}get canPopThread(){return this._threads.length>1&&!this.elementIsEvaluateFromGame}get elementIsEvaluateFromGame(){return this.currentElement.type==v.PushPopType.FunctionEvaluationFromGame}Push(p,j=0,e2=0){let n2=new T.Element(p,this.currentElement.currentPointer,!1);n2.evaluationStackHeightWhenPushed=j,n2.functionStartInOutputStream=e2,this.callStack.push(n2)}CanPop(p=null){return!!this.canPop&&(null==p||this.currentElement.type==p)}Pop(p=null){if(!this.CanPop(p))throw new Error("Mismatched push/pop in Callstack");this.callStack.pop()}GetTemporaryVariableWithName(p,j=-1){-1==j&&(j=this.currentElementIndex+1);let n2=H.tryGetValueFromMap(this.callStack[j-1].temporaryVariables,p,null);return n2.exists?n2.result:null}SetTemporaryVariable(p,j,e2,n2=-1){-1==n2&&(n2=this.currentElementIndex+1);let W=this.callStack[n2-1];if(!e2&&!W.temporaryVariables.get(p))throw new Error("Could not find temporary variable to set: "+p);let t2=H.tryGetValueFromMap(W.temporaryVariables,p,null);t2.exists&&V.ListValue.RetainListOriginsForAssignment(t2.result,j),W.temporaryVariables.set(p,j)}ContextForVariableNamed(p){return this.currentElement.temporaryVariables.get(p)?this.currentElementIndex+1:0}ThreadWithIndex(p){let j=this._threads.filter(e2=>{if(e2.threadIndex==p)return e2});return j.length>0?j[0]:null}get callStack(){return this.currentThread.callstack}get callStackTrace(){let p=new L.StringBuilder;for(let j=0;j<this._threads.length;j++){let e2=this._threads[j];p.AppendFormat("=== THREAD {0}/{1} {2}===\n",j+1,this._threads.length,j==this._threads.length-1?"(current) ":"");for(let W=0;W<e2.callstack.length;W++){p.Append(e2.callstack[W].type==v.PushPopType.Function?"  [FUNCTION] ":"  [TUNNEL] ");let t2=e2.callstack[W].currentPointer;if(!t2.isNull){if(p.Append("<SOMEWHERE IN "),null===t2.container)return m.throwNullException("pointer.container");p.Append(t2.container.path.toString()),p.AppendLine(">")}}}return p.toString()}}b.CallStack=T,function(f){class p{constructor(n2,W,t2=!1){this.evaluationStackHeightWhenPushed=0,this.functionStartInOutputStream=0,this.currentPointer=W.copy(),this.inExpressionEvaluation=t2,this.temporaryVariables=new Map,this.type=n2}Copy(){let n2=new p(this.type,this.currentPointer,this.inExpressionEvaluation);return n2.temporaryVariables=new Map(this.temporaryVariables),n2.evaluationStackHeightWhenPushed=this.evaluationStackHeightWhenPushed,n2.functionStartInOutputStream=this.functionStartInOutputStream,n2}}f.Element=p;class j{constructor(){if(this.threadIndex=0,this.previousPointer=x.Pointer.Null,this.callstack=[],arguments[0]&&arguments[1]){let n2=arguments[0],W=arguments[1];this.threadIndex=parseInt(n2.threadIndex);let t2=n2.callstack;for(let p2 of t2){let R,y2=p2,A=parseInt(y2.type),O=x.Pointer.Null,h=y2.cPath;if(typeof h<"u"){R=h.toString();let o2=W.ContentAtPath(new y.Path(R));if(O.container=o2.container,O.index=parseInt(y2.idx),null==o2.obj)throw new Error("When loading state, internal story location couldn't be found: "+R+". Has the story changed since this save data was created?");if(o2.approximate){if(null===O.container)return m.throwNullException("pointer.container");W.Warning("When loading state, exact internal story location couldn't be found: '"+R+"', so it was approximated to '"+O.container.path.toString()+"' to recover. Has the story changed since this save data was created?")}}let B=new p(A,O,!!y2.exp),l2=y2.temp;typeof l2<"u"?B.temporaryVariables=w.JsonSerialisation.JObjectToDictionaryRuntimeObjs(l2):B.temporaryVariables.clear(),this.callstack.push(B)}let U=n2.previousContentObject;if(typeof U<"u"){let p2=new y.Path(U.toString());this.previousPointer=W.PointerAtPath(p2)}}}Copy(){let n2=new j;n2.threadIndex=this.threadIndex;for(let W of this.callstack)n2.callstack.push(W.Copy());return n2.previousPointer=this.previousPointer.copy(),n2}WriteJson(n2){n2.WriteObjectStart(),n2.WritePropertyStart("callstack"),n2.WriteArrayStart();for(let W of this.callstack){if(n2.WriteObjectStart(),!W.currentPointer.isNull){if(null===W.currentPointer.container)return m.throwNullException("el.currentPointer.container");n2.WriteProperty("cPath",W.currentPointer.container.path.componentsString),n2.WriteIntProperty("idx",W.currentPointer.index)}n2.WriteProperty("exp",W.inExpressionEvaluation),n2.WriteIntProperty("type",W.type),W.temporaryVariables.size>0&&(n2.WritePropertyStart("temp"),w.JsonSerialisation.WriteDictionaryRuntimeObjs(n2,W.temporaryVariables),n2.WritePropertyEnd()),n2.WriteObjectEnd()}if(n2.WriteArrayEnd(),n2.WritePropertyEnd(),n2.WriteIntProperty("threadIndex",this.threadIndex),!this.previousPointer.isNull){let W=this.previousPointer.Resolve();if(null===W)return m.throwNullException("this.previousPointer.Resolve()");n2.WriteProperty("previousContentObject",W.path.toString())}n2.WriteObjectEnd()}}f.Thread=j}(T=b.CallStack||(b.CallStack={}))},782:(A2,b,S)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.Choice=void 0;const v=S(0),y=S(523),k=S(790);b.Choice=class w extends k.InkObject{constructor(){super(...arguments),this.text="",this.index=0,this.threadAtGeneration=null,this.sourcePath="",this.targetPath=null,this.isInvisibleDefault=!1,this.originalThreadIndex=0}get pathStringOnChoice(){return null===this.targetPath?y.throwNullException("Choice.targetPath"):this.targetPath.toString()}set pathStringOnChoice(L){this.targetPath=new v.Path(L)}}},250:(A2,b,S)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.ChoicePoint=void 0;const v=S(790),y=S(0),k=S(523);b.ChoicePoint=class w extends v.InkObject{constructor(L=!0){super(),this._pathOnChoice=null,this.hasCondition=!1,this.hasStartContent=!1,this.hasChoiceOnlyContent=!1,this.isInvisibleDefault=!1,this.onceOnly=!0,this.onceOnly=L}get pathOnChoice(){if(null!=this._pathOnChoice&&this._pathOnChoice.isRelative){let L=this.choiceTarget;L&&(this._pathOnChoice=L.path)}return this._pathOnChoice}set pathOnChoice(L){this._pathOnChoice=L}get choiceTarget(){return null===this._pathOnChoice?k.throwNullException("ChoicePoint._pathOnChoice"):this.ResolvePath(this._pathOnChoice).container}get pathStringOnChoice(){return null===this.pathOnChoice?k.throwNullException("ChoicePoint.pathOnChoice"):this.CompactPathString(this.pathOnChoice)}set pathStringOnChoice(L){this.pathOnChoice=new y.Path(L)}get flags(){let L=0;return this.hasCondition&&(L|=1),this.hasStartContent&&(L|=2),this.hasChoiceOnlyContent&&(L|=4),this.isInvisibleDefault&&(L|=8),this.onceOnly&&(L|=16),L}set flags(L){this.hasCondition=(1&L)>0,this.hasStartContent=(2&L)>0,this.hasChoiceOnlyContent=(4&L)>0,this.isInvisibleDefault=(8&L)>0,this.onceOnly=(16&L)>0}toString(){if(null===this.pathOnChoice)return k.throwNullException("ChoicePoint.pathOnChoice");return"Choice: -> "+this.pathOnChoice.toString()}}},932:(A2,b,S)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.Container=void 0;const v=S(353),y=S(523),k=S(981),w=S(790),V=S(272),L=S(0),x=S(964),z=S(216),H=S(475);class m extends w.InkObject{constructor(){super(...arguments),this.name=null,this._content=[],this.namedContent=new Map,this.visitsShouldBeCounted=!1,this.turnIndexShouldBeCounted=!1,this.countingAtStartOnly=!1,this._pathToFirstLeafContent=null}get hasValidName(){return null!=this.name&&this.name.length>0}get content(){return this._content}set content(f){this.AddContent(f)}get namedOnlyContent(){let f=new Map;for(let[p,j]of this.namedContent){let e2=H.asOrThrows(j,w.InkObject);f.set(p,e2)}for(let p of this.content){let j=H.asINamedContentOrNull(p);null!=j&&j.hasValidName&&f.delete(j.name)}return 0==f.size&&(f=null),f}set namedOnlyContent(f){let p=this.namedOnlyContent;if(null!=p)for(let[j]of p)this.namedContent.delete(j);if(null!=f)for(let[,j]of f){let e2=H.asINamedContentOrNull(j);null!=e2&&this.AddToNamedContentOnly(e2)}}get countFlags(){let f=0;return this.visitsShouldBeCounted&&(f|=m.CountFlags.Visits),this.turnIndexShouldBeCounted&&(f|=m.CountFlags.Turns),this.countingAtStartOnly&&(f|=m.CountFlags.CountStartOnly),f==m.CountFlags.CountStartOnly&&(f=0),f}set countFlags(f){let p=f;(p&m.CountFlags.Visits)>0&&(this.visitsShouldBeCounted=!0),(p&m.CountFlags.Turns)>0&&(this.turnIndexShouldBeCounted=!0),(p&m.CountFlags.CountStartOnly)>0&&(this.countingAtStartOnly=!0)}get pathToFirstLeafContent(){return null==this._pathToFirstLeafContent&&(this._pathToFirstLeafContent=this.path.PathByAppendingPath(this.internalPathToFirstLeafContent)),this._pathToFirstLeafContent}get internalPathToFirstLeafContent(){let f=[],p=this;for(;p instanceof m;)p.content.length>0&&(f.push(new L.Path.Component(0)),p=p.content[0]);return new L.Path(f)}AddContent(f){if(f instanceof Array){let p=f;for(let j of p)this.AddContent(j)}else{let p=f;if(this._content.push(p),p.parent)throw new Error("content is already in "+p.parent);p.parent=this,this.TryAddNamedContent(p)}}TryAddNamedContent(f){let p=H.asINamedContentOrNull(f);null!=p&&p.hasValidName&&this.AddToNamedContentOnly(p)}AddToNamedContentOnly(f){if(x.Debug.AssertType(f,w.InkObject,"Can only add Runtime.Objects to a Runtime.Container"),H.asOrThrows(f,w.InkObject).parent=this,null===f.name)return y.throwNullException("namedContentObj.name");this.namedContent.set(f.name,f)}ContentAtPath(f,p=0,j=-1){-1==j&&(j=f.length);let e2=new V.SearchResult;e2.approximate=!1;let n2=this,W=this;for(let t2=p;t2<j;++t2){let U=f.GetComponent(t2);if(null==n2){e2.approximate=!0;break}let p2=n2.ContentWithPathComponent(U);if(null==p2){e2.approximate=!0;break}W=p2,n2=H.asOrNull(p2,m)}return e2.obj=W,e2}InsertContent(f,p){if(this.content.splice(p,0,f),f.parent)throw new Error("content is already in "+f.parent);f.parent=this,this.TryAddNamedContent(f)}AddContentsOfContainer(f){this.content.push(...f.content);for(let p of f.content)p.parent=this,this.TryAddNamedContent(p)}ContentWithPathComponent(f){if(f.isIndex)return f.index>=0&&f.index<this.content.length?this.content[f.index]:null;if(f.isParent)return this.parent;{if(null===f.name)return y.throwNullException("component.name");let p=z.tryGetValueFromMap(this.namedContent,f.name,null);return p.exists?H.asOrThrows(p.result,w.InkObject):null}}BuildStringOfHierarchy(){let f;if(0==arguments.length)return f=new k.StringBuilder,this.BuildStringOfHierarchy(f,0,null),f.toString();f=arguments[0];let p=arguments[1],j=arguments[2];function e2(){for(let t2=0;t2<4*p;++t2)f.Append(" ")}e2(),f.Append("["),this.hasValidName&&f.AppendFormat(" ({0})",this.name),this==j&&f.Append("  <---"),f.AppendLine(),p++;for(let W=0;W<this.content.length;++W){let t2=this.content[W];t2 instanceof m?t2.BuildStringOfHierarchy(f,p,j):(e2(),t2 instanceof v.StringValue?(f.Append('"'),f.Append(t2.toString().replace("\n","\\n")),f.Append('"')):f.Append(t2.toString())),W!=this.content.length-1&&f.Append(","),!(t2 instanceof m)&&t2==j&&f.Append("  <---"),f.AppendLine()}let n2=new Map;for(let[W,t2]of this.namedContent)this.content.indexOf(H.asOrThrows(t2,w.InkObject))>=0||n2.set(W,t2);if(n2.size>0){e2(),f.AppendLine("-- named: --");for(let[,W]of n2)x.Debug.AssertType(W,m,"Can only print out named Containers"),W.BuildStringOfHierarchy(f,p,j),f.AppendLine()}p--,e2(),f.Append("]")}}b.Container=m,function(T){let f;var p;(p=f=T.CountFlags||(T.CountFlags={}))[p.Visits=1]="Visits",p[p.Turns=2]="Turns",p[p.CountStartOnly=4]="CountStartOnly"}(m=b.Container||(b.Container={}))},708:(A2,b,S)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.ControlCommand=void 0;const v=S(790);class y extends v.InkObject{constructor(w=y.CommandType.NotSet){super(),this._commandType=w}get commandType(){return this._commandType}Copy(){return new y(this.commandType)}static EvalStart(){return new y(y.CommandType.EvalStart)}static EvalOutput(){return new y(y.CommandType.EvalOutput)}static EvalEnd(){return new y(y.CommandType.EvalEnd)}static Duplicate(){return new y(y.CommandType.Duplicate)}static PopEvaluatedValue(){return new y(y.CommandType.PopEvaluatedValue)}static PopFunction(){return new y(y.CommandType.PopFunction)}static PopTunnel(){return new y(y.CommandType.PopTunnel)}static BeginString(){return new y(y.CommandType.BeginString)}static EndString(){return new y(y.CommandType.EndString)}static NoOp(){return new y(y.CommandType.NoOp)}static ChoiceCount(){return new y(y.CommandType.ChoiceCount)}static Turns(){return new y(y.CommandType.Turns)}static TurnsSince(){return new y(y.CommandType.TurnsSince)}static ReadCount(){return new y(y.CommandType.ReadCount)}static Random(){return new y(y.CommandType.Random)}static SeedRandom(){return new y(y.CommandType.SeedRandom)}static VisitIndex(){return new y(y.CommandType.VisitIndex)}static SequenceShuffleIndex(){return new y(y.CommandType.SequenceShuffleIndex)}static StartThread(){return new y(y.CommandType.StartThread)}static Done(){return new y(y.CommandType.Done)}static End(){return new y(y.CommandType.End)}static ListFromInt(){return new y(y.CommandType.ListFromInt)}static ListRange(){return new y(y.CommandType.ListRange)}static ListRandom(){return new y(y.CommandType.ListRandom)}toString(){return this.commandType.toString()}}b.ControlCommand=y,function(k){let w;var V;(V=w=k.CommandType||(k.CommandType={}))[V.NotSet=-1]="NotSet",V[V.EvalStart=0]="EvalStart",V[V.EvalOutput=1]="EvalOutput",V[V.EvalEnd=2]="EvalEnd",V[V.Duplicate=3]="Duplicate",V[V.PopEvaluatedValue=4]="PopEvaluatedValue",V[V.PopFunction=5]="PopFunction",V[V.PopTunnel=6]="PopTunnel",V[V.BeginString=7]="BeginString",V[V.EndString=8]="EndString",V[V.NoOp=9]="NoOp",V[V.ChoiceCount=10]="ChoiceCount",V[V.Turns=11]="Turns",V[V.TurnsSince=12]="TurnsSince",V[V.Random=13]="Random",V[V.SeedRandom=14]="SeedRandom",V[V.VisitIndex=15]="VisitIndex",V[V.SequenceShuffleIndex=16]="SequenceShuffleIndex",V[V.StartThread=17]="StartThread",V[V.Done=18]="Done",V[V.End=19]="End",V[V.ListFromInt=20]="ListFromInt",V[V.ListRange=21]="ListRange",V[V.ListRandom=22]="ListRandom",V[V.ReadCount=23]="ReadCount",V[V.TOTAL_VALUES=24]="TOTAL_VALUES"}(y=b.ControlCommand||(b.ControlCommand={}))},964:(A2,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.Debug=void 0,function(v){function k(w,V){if(!w)throw typeof V<"u"&&console.warn(V),console.trace&&console.trace(),new Error("")}v.AssertType=function y(w,V,L){k(w instanceof V,L)},v.Assert=k}(b.Debug||(b.Debug={}))},728:(A2,b,S)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.Divert=void 0;const v=S(0),y=S(606),k=S(981),w=S(790),V=S(662),L=S(932),x=S(523);class z extends w.InkObject{constructor(m){super(),this._targetPath=null,this._targetPointer=V.Pointer.Null,this.variableDivertName=null,this.pushesToStack=!1,this.stackPushType=0,this.isExternal=!1,this.externalArgs=0,this.isConditional=!1,this.pushesToStack=!1,typeof m<"u"&&(this.pushesToStack=!0,this.stackPushType=m)}get targetPath(){if(null!=this._targetPath&&this._targetPath.isRelative){let m=this.targetPointer.Resolve();m&&(this._targetPath=m.path)}return this._targetPath}set targetPath(m){this._targetPath=m,this._targetPointer=V.Pointer.Null}get targetPointer(){if(this._targetPointer.isNull){let m=this.ResolvePath(this._targetPath).obj;if(null===this._targetPath)return x.throwNullException("this._targetPath");if(null===this._targetPath.lastComponent)return x.throwNullException("this._targetPath.lastComponent");if(this._targetPath.lastComponent.isIndex){if(null===m)return x.throwNullException("targetObj");this._targetPointer.container=m.parent instanceof L.Container?m.parent:null,this._targetPointer.index=this._targetPath.lastComponent.index}else this._targetPointer=V.Pointer.StartOf(m instanceof L.Container?m:null)}return this._targetPointer.copy()}get targetPathString(){return null==this.targetPath?null:this.CompactPathString(this.targetPath)}set targetPathString(m){this.targetPath=null==m?null:new v.Path(m)}get hasVariableTarget(){return null!=this.variableDivertName}Equals(m){let T=m;return T instanceof z&&this.hasVariableTarget==T.hasVariableTarget&&(this.hasVariableTarget?this.variableDivertName==T.variableDivertName:null===this.targetPath?x.throwNullException("this.targetPath"):this.targetPath.Equals(T.targetPath))}toString(){if(this.hasVariableTarget)return"Divert(variable: "+this.variableDivertName+")";if(null==this.targetPath)return"Divert(null)";{let m=new k.StringBuilder,T=this.targetPath.toString(),f=null;return null!=f&&(T="line "+f),m.Append("Divert"),this.isConditional&&m.Append("?"),this.pushesToStack&&m.Append(this.stackPushType==y.PushPopType.Function?" function":" tunnel"),m.Append(" -> "),m.Append(this.targetPathString),m.Append(" ("),m.Append(T),m.Append(")"),m.toString()}}}b.Divert=z},865:(A2,b)=>{var v;Object.defineProperty(b,"__esModule",{value:!0}),b.ErrorType=void 0,(v=b.ErrorType||(b.ErrorType={}))[v.Author=0]="Author",v[v.Warning=1]="Warning",v[v.Error=2]="Error"},61:(A2,b,S)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.Flow=void 0;const v=S(154),y=S(90),k=S(523);b.Flow=class w{constructor(){let x=arguments[1];if(this.name=arguments[0],this.callStack=new v.CallStack(x),arguments[2]){let z=arguments[2];this.callStack.SetJsonToken(z.callstack,x),this.outputStream=y.JsonSerialisation.JArrayToRuntimeObjList(z.outputStream),this.currentChoices=y.JsonSerialisation.JArrayToRuntimeObjList(z.currentChoices);let H=z.choiceThreads;typeof H<"u"&&this.LoadFlowChoiceThreads(H,x)}else this.outputStream=[],this.currentChoices=[]}WriteJson(L){L.WriteObjectStart(),L.WriteProperty("callstack",z=>this.callStack.WriteJson(z)),L.WriteProperty("outputStream",z=>y.JsonSerialisation.WriteListRuntimeObjs(z,this.outputStream));let x=!1;for(let z of this.currentChoices){if(null===z.threadAtGeneration)return k.throwNullException("c.threadAtGeneration");z.originalThreadIndex=z.threadAtGeneration.threadIndex,null===this.callStack.ThreadWithIndex(z.originalThreadIndex)&&(x||(x=!0,L.WritePropertyStart("choiceThreads"),L.WriteObjectStart()),L.WritePropertyStart(z.originalThreadIndex),z.threadAtGeneration.WriteJson(L),L.WritePropertyEnd())}x&&(L.WriteObjectEnd(),L.WritePropertyEnd()),L.WriteProperty("currentChoices",z=>{z.WriteArrayStart();for(let H of this.currentChoices)y.JsonSerialisation.WriteChoice(z,H);z.WriteArrayEnd()}),L.WriteObjectEnd()}LoadFlowChoiceThreads(L,x){for(let z of this.currentChoices){let H=this.callStack.ThreadWithIndex(z.originalThreadIndex);z.threadAtGeneration=null!==H?H.Copy():new v.CallStack.Thread(L[`${z.originalThreadIndex}`],x)}}}},654:(A2,b,S)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.Glue=void 0;const v=S(790);b.Glue=class y extends v.InkObject{toString(){return"Glue"}}},295:(A2,b,S)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.InkList=b.InkListItem=void 0;const v=S(523),y=S(981);class k{constructor(){if(this.originName=null,this.itemName=null,typeof arguments[1]<"u"){let x=arguments[1];this.originName=arguments[0],this.itemName=x}else if(arguments[0]){let x=arguments[0].toString().split(".");this.originName=x[0],this.itemName=x[1]}}static get Null(){return new k(null,null)}get isNull(){return null==this.originName&&null==this.itemName}get fullName(){return(null!==this.originName?this.originName:"?")+"."+this.itemName}toString(){return this.fullName}Equals(L){if(L instanceof k){let x=L;return x.itemName==this.itemName&&x.originName==this.originName}return!1}copy(){return new k(this.originName,this.itemName)}serialized(){return JSON.stringify({originName:this.originName,itemName:this.itemName})}static fromSerializedKey(L){let x=JSON.parse(L);return k.isLikeInkListItem(x)?new k(x.originName,x.itemName):k.Null}static isLikeInkListItem(L){return!("object"!=typeof L||!L.hasOwnProperty("originName")||!L.hasOwnProperty("itemName")||"string"!=typeof L.originName&&null!==typeof L.originName||"string"!=typeof L.itemName&&null!==typeof L.itemName)}}b.InkListItem=k;class w extends Map{constructor(){if(super(arguments[0]instanceof w?arguments[0]:[]),this.origins=null,this._originNames=[],arguments[0]instanceof w){let L=arguments[0];this._originNames=L.originNames,null!==L.origins&&(this.origins=L.origins.slice())}else if("string"==typeof arguments[0]){let L=arguments[0],x=arguments[1];if(this.SetInitialOriginName(L),null===x.listDefinitions)return v.throwNullException("originStory.listDefinitions");let z=x.listDefinitions.TryListGetDefinition(L,null);if(!z.exists)throw new Error("InkList origin could not be found in story when constructing new list: "+L);if(null===z.result)return v.throwNullException("def.result");this.origins=[z.result]}else if("object"==typeof arguments[0]&&arguments[0].hasOwnProperty("Key")&&arguments[0].hasOwnProperty("Value")){let L=arguments[0];this.Add(L.Key,L.Value)}}static FromString(L,x){var z;let H=null===(z=x.listDefinitions)||void 0===z?void 0:z.FindSingleItemListWithName(L);if(H)return null===H.value?v.throwNullException("listValue.value"):new w(H.value);throw new Error("Could not find the InkListItem from the string '"+L+"' to create an InkList because it doesn't exist in the original list definition in ink.")}AddItem(L){if(L instanceof k){let x=L;if(null==x.originName)return void this.AddItem(x.itemName);if(null===this.origins)return v.throwNullException("this.origins");for(let z of this.origins)if(z.name==x.originName){let H=z.TryGetValueForItem(x,0);if(H.exists)return void this.Add(x,H.result);throw new Error("Could not add the item "+x+" to this list because it doesn't exist in the original list definition in ink.")}throw new Error("Failed to add item to list because the item was from a new list definition that wasn't previously known to this list. Only items from previously known lists can be used, so that the int value can be found.")}{let x=L,z=null;if(null===this.origins)return v.throwNullException("this.origins");for(let T of this.origins){if(null===x)return v.throwNullException("itemName");if(T.ContainsItemWithName(x)){if(null!=z)throw new Error("Could not add the item "+x+" to this list because it could come from either "+T.name+" or "+z.name);z=T}}if(null==z)throw new Error("Could not add the item "+x+" to this list because it isn't known to any list definitions previously associated with this list.");let H=new k(z.name,x),m=z.ValueForItem(H);this.Add(H,m)}}ContainsItemNamed(L){for(let[x]of this)if(k.fromSerializedKey(x).itemName==L)return!0;return!1}ContainsKey(L){return this.has(L.serialized())}Add(L,x){let z=L.serialized();if(this.has(z))throw new Error(`The Map already contains an entry for ${L}`);this.set(z,x)}Remove(L){return this.delete(L.serialized())}get Count(){return this.size}get originOfMaxItem(){if(null==this.origins)return null;let L=this.maxItem.Key.originName,x=null;return this.origins.every(z=>z.name!=L||(x=z,!1)),x}get originNames(){if(this.Count>0){null==this._originNames&&this.Count>0?this._originNames=[]:(this._originNames||(this._originNames=[]),this._originNames.length=0);for(let[L]of this){let x=k.fromSerializedKey(L);if(null===x.originName)return v.throwNullException("item.originName");this._originNames.push(x.originName)}}return this._originNames}SetInitialOriginName(L){this._originNames=[L]}SetInitialOriginNames(L){this._originNames=null==L?null:L.slice()}get maxItem(){let L={Key:k.Null,Value:0};for(let[x,z]of this){let H=k.fromSerializedKey(x);(L.Key.isNull||z>L.Value)&&(L={Key:H,Value:z})}return L}get minItem(){let L={Key:k.Null,Value:0};for(let[x,z]of this){let H=k.fromSerializedKey(x);(L.Key.isNull||z<L.Value)&&(L={Key:H,Value:z})}return L}get inverse(){let L=new w;if(null!=this.origins)for(let x of this.origins)for(let[z,H]of x.items){let m=k.fromSerializedKey(z);this.ContainsKey(m)||L.Add(m,H)}return L}get all(){let L=new w;if(null!=this.origins)for(let x of this.origins)for(let[z,H]of x.items){let m=k.fromSerializedKey(z);L.set(m.serialized(),H)}return L}Union(L){let x=new w(this);for(let[z,H]of L)x.set(z,H);return x}Intersect(L){let x=new w;for(let[z,H]of this)L.has(z)&&x.set(z,H);return x}Without(L){let x=new w(this);for(let[z]of L)x.delete(z);return x}Contains(L){for(let[x]of L)if(!this.has(x))return!1;return!0}GreaterThan(L){return 0!=this.Count&&(0==L.Count||this.minItem.Value>L.maxItem.Value)}GreaterThanOrEquals(L){return 0!=this.Count&&(0==L.Count||this.minItem.Value>=L.minItem.Value&&this.maxItem.Value>=L.maxItem.Value)}LessThan(L){return 0!=L.Count&&(0==this.Count||this.maxItem.Value<L.minItem.Value)}LessThanOrEquals(L){return 0!=L.Count&&(0==this.Count||this.maxItem.Value<=L.maxItem.Value&&this.minItem.Value<=L.minItem.Value)}MaxAsList(){return this.Count>0?new w(this.maxItem):new w}MinAsList(){return this.Count>0?new w(this.minItem):new w}ListWithSubRange(L,x){if(0==this.Count)return new w;let z=this.orderedItems,H=0,m=Number.MAX_SAFE_INTEGER;Number.isInteger(L)?H=L:L instanceof w&&L.Count>0&&(H=L.minItem.Value),Number.isInteger(x)?m=x:L instanceof w&&L.Count>0&&(m=x.maxItem.Value);let T=new w;T.SetInitialOriginNames(this.originNames);for(let f of z)f.Value>=H&&f.Value<=m&&T.Add(f.Key,f.Value);return T}Equals(L){if(!(L instanceof w)||L.Count!=this.Count)return!1;for(let[x]of this)if(!L.has(x))return!1;return!0}get orderedItems(){let L=new Array;for(let[x,z]of this){let H=k.fromSerializedKey(x);L.push({Key:H,Value:z})}return L.sort((x,z)=>null===x.Key.originName?v.throwNullException("x.Key.originName"):null===z.Key.originName?v.throwNullException("y.Key.originName"):x.Value==z.Value?x.Key.originName.localeCompare(z.Key.originName):x.Value<z.Value?-1:x.Value>z.Value?1:0),L}toString(){let L=this.orderedItems,x=new y.StringBuilder;for(let z=0;z<L.length;z++){z>0&&x.Append(", ");let H=L[z].Key;if(null===H.itemName)return v.throwNullException("item.itemName");x.Append(H.itemName)}return x.toString()}valueOf(){return NaN}}b.InkList=w},90:(A2,b,S)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.JsonSerialisation=void 0;const v=S(932),y=S(353),k=S(654),w=S(708),V=S(606),L=S(728),x=S(250),z=S(446),H=S(759),m=S(724),T=S(520),f=S(714),p=S(0),j=S(782),e2=S(71),n2=S(51),W=S(295),t2=S(475),U=S(523);class p2{static JArrayToRuntimeObjList(A,O=!1){let R=A.length;O&&R--;let h=[];for(let N=0;N<R;N++){let l2=this.JTokenToRuntimeObject(A[N]);if(null===l2)return U.throwNullException("runtimeObj");h.push(l2)}return h}static WriteDictionaryRuntimeObjs(A,O){A.WriteObjectStart();for(let[R,h]of O)A.WritePropertyStart(R),this.WriteRuntimeObject(A,h),A.WritePropertyEnd();A.WriteObjectEnd()}static WriteListRuntimeObjs(A,O){A.WriteArrayStart();for(let R of O)this.WriteRuntimeObject(A,R);A.WriteArrayEnd()}static WriteIntDictionary(A,O){A.WriteObjectStart();for(let[R,h]of O)A.WriteIntProperty(R,h);A.WriteObjectEnd()}static WriteRuntimeObject(A,O){let R=t2.asOrNull(O,v.Container);if(R)return void this.WriteRuntimeContainer(A,R);let h=t2.asOrNull(O,L.Divert);if(h){let C1,I2="->";return h.isExternal?I2="x()":h.pushesToStack&&(h.stackPushType==V.PushPopType.Function?I2="f()":h.stackPushType==V.PushPopType.Tunnel&&(I2="->t->")),C1=h.hasVariableTarget?h.variableDivertName:h.targetPathString,A.WriteObjectStart(),A.WriteProperty(I2,C1),h.hasVariableTarget&&A.WriteProperty("var",!0),h.isConditional&&A.WriteProperty("c",!0),h.externalArgs>0&&A.WriteIntProperty("exArgs",h.externalArgs),void A.WriteObjectEnd()}let N=t2.asOrNull(O,x.ChoicePoint);if(N)return A.WriteObjectStart(),A.WriteProperty("*",N.pathStringOnChoice),A.WriteIntProperty("flg",N.flags),void A.WriteObjectEnd();let B=t2.asOrNull(O,y.BoolValue);if(B)return void A.WriteBool(B.value);let l2=t2.asOrNull(O,y.IntValue);if(l2)return void A.WriteInt(l2.value);let o2=t2.asOrNull(O,y.FloatValue);if(o2)return void A.WriteFloat(o2.value);let x2=t2.asOrNull(O,y.StringValue);if(x2)return void(x2.isNewline?A.Write("\n",!1):(A.WriteStringStart(),A.WriteStringInner("^"),A.WriteStringInner(x2.value),A.WriteStringEnd()));let g=t2.asOrNull(O,y.ListValue);if(g)return void this.WriteInkList(A,g);let _=t2.asOrNull(O,y.DivertTargetValue);if(_)return A.WriteObjectStart(),null===_.value?U.throwNullException("divTargetVal.value"):(A.WriteProperty("^->",_.value.componentsString),void A.WriteObjectEnd());let E=t2.asOrNull(O,y.VariablePointerValue);if(E)return A.WriteObjectStart(),A.WriteProperty("^var",E.value),A.WriteIntProperty("ci",E.contextIndex),void A.WriteObjectEnd();if(t2.asOrNull(O,k.Glue))return void A.Write("<>");let G=t2.asOrNull(O,w.ControlCommand);if(G)return void A.Write(p2._controlCommandNames[G.commandType]);let m2=t2.asOrNull(O,m.NativeFunctionCall);if(m2){let I2=m2.name;return"^"==I2&&(I2="L^"),void A.Write(I2)}let T2=t2.asOrNull(O,z.VariableReference);if(T2){A.WriteObjectStart();let I2=T2.pathStringForCount;return null!=I2?A.WriteProperty("CNT?",I2):A.WriteProperty("VAR?",T2.name),void A.WriteObjectEnd()}let k2=t2.asOrNull(O,H.VariableAssignment);if(k2)return A.WriteObjectStart(),A.WriteProperty(k2.isGlobal?"VAR=":"temp=",k2.variableName),k2.isNewDeclaration||A.WriteProperty("re",!0),void A.WriteObjectEnd();if(t2.asOrNull(O,T.Void))return void A.Write("void");let I3=t2.asOrNull(O,f.Tag);if(I3)return A.WriteObjectStart(),A.WriteProperty("#",I3.text),void A.WriteObjectEnd();let c1=t2.asOrNull(O,j.Choice);if(!c1)throw new Error("Failed to convert runtime object to Json token: "+O);this.WriteChoice(A,c1)}static JObjectToDictionaryRuntimeObjs(A){let O=new Map;for(let R in A)if(A.hasOwnProperty(R)){let h=this.JTokenToRuntimeObject(A[R]);if(null===h)return U.throwNullException("inkObject");O.set(R,h)}return O}static JObjectToIntDictionary(A){let O=new Map;for(let R in A)A.hasOwnProperty(R)&&O.set(R,parseInt(A[R]));return O}static JTokenToRuntimeObject(A){if("number"==typeof A&&!isNaN(A)||"boolean"==typeof A)return y.Value.Create(A);if("string"==typeof A){let O=A.toString(),R=O[0];if("^"==R)return new y.StringValue(O.substring(1));if("\n"==R&&1==O.length)return new y.StringValue("\n");if("<>"==O)return new k.Glue;for(let h=0;h<p2._controlCommandNames.length;++h)if(O==p2._controlCommandNames[h])return new w.ControlCommand(h);if("L^"==O&&(O="^"),m.NativeFunctionCall.CallExistsWithName(O))return m.NativeFunctionCall.CallWithName(O);if("->->"==O)return w.ControlCommand.PopTunnel();if("~ret"==O)return w.ControlCommand.PopFunction();if("void"==O)return new T.Void}if("object"==typeof A&&!Array.isArray(A)){let R,O=A;if(O["^->"])return R=O["^->"],new y.DivertTargetValue(new p.Path(R.toString()));if(O["^var"]){R=O["^var"];let g=new y.VariablePointerValue(R.toString());return"ci"in O&&(R=O.ci,g.contextIndex=parseInt(R)),g}let h=!1,N=!1,B=V.PushPopType.Function,l2=!1;if((R=O["->"])?h=!0:(R=O["f()"])?(h=!0,N=!0,B=V.PushPopType.Function):(R=O["->t->"])?(h=!0,N=!0,B=V.PushPopType.Tunnel):(R=O["x()"])&&(h=!0,l2=!0,N=!1,B=V.PushPopType.Function),h){let g=new L.Divert;g.pushesToStack=N,g.stackPushType=B,g.isExternal=l2;let _=R.toString();return(R=O.var)?g.variableDivertName=_:g.targetPathString=_,g.isConditional=!!O.c,l2&&(R=O.exArgs)&&(g.externalArgs=parseInt(R)),g}if(R=O["*"]){let g=new x.ChoicePoint;return g.pathStringOnChoice=R.toString(),(R=O.flg)&&(g.flags=parseInt(R)),g}if(R=O["VAR?"])return new z.VariableReference(R.toString());if(R=O["CNT?"]){let g=new z.VariableReference;return g.pathStringForCount=R.toString(),g}let o2=!1,x2=!1;if((R=O["VAR="])?(o2=!0,x2=!0):(R=O["temp="])&&(o2=!0,x2=!1),o2){let g=R.toString(),E=new H.VariableAssignment(g,!O.re);return E.isGlobal=x2,E}if(void 0!==O["#"])return R=O["#"],new f.Tag(R.toString());if(R=O.list){let g=R,_=new W.InkList;(R=O.origins)&&_.SetInitialOriginNames(R);for(let E in g)if(g.hasOwnProperty(E)){let P=g[E],G=new W.InkListItem(E),m2=parseInt(P);_.Add(G,m2)}return new y.ListValue(_)}if(null!=O.originalChoicePath)return this.JObjectToChoice(O)}if(Array.isArray(A))return this.JArrayToContainer(A);if(null==A)return null;throw new Error("Failed to convert token to runtime object: "+this.toJson(A,["parent"]))}static toJson(A,O,R){return JSON.stringify(A,(h,N)=>O?.some(B=>B===h)?void 0:N,R)}static WriteRuntimeContainer(A,O,R=!1){if(A.WriteArrayStart(),null===O)return U.throwNullException("container");for(let o2 of O.content)this.WriteRuntimeObject(A,o2);let h=O.namedOnlyContent,N=O.countFlags,B=null!=O.name&&!R,l2=null!=h||N>0||B;if(l2&&A.WriteObjectStart(),null!=h)for(let[o2,x2]of h){let g=o2,_=t2.asOrNull(x2,v.Container);A.WritePropertyStart(g),this.WriteRuntimeContainer(A,_,!0),A.WritePropertyEnd()}N>0&&A.WriteIntProperty("#f",N),B&&A.WriteProperty("#n",O.name),l2?A.WriteObjectEnd():A.WriteNull(),A.WriteArrayEnd()}static JArrayToContainer(A){let O=new v.Container;O.content=this.JArrayToRuntimeObjList(A,!0);let R=A[A.length-1];if(null!=R){let h=new Map;for(let N in R)if("#f"==N)O.countFlags=parseInt(R[N]);else if("#n"==N)O.name=R[N].toString();else{let B=this.JTokenToRuntimeObject(R[N]),l2=t2.asOrNull(B,v.Container);l2&&(l2.name=N),h.set(N,B)}O.namedOnlyContent=h}return O}static JObjectToChoice(A){let O=new j.Choice;return O.text=A.text.toString(),O.index=parseInt(A.index),O.sourcePath=A.originalChoicePath.toString(),O.originalThreadIndex=parseInt(A.originalThreadIndex),O.pathStringOnChoice=A.targetPath.toString(),O}static WriteChoice(A,O){A.WriteObjectStart(),A.WriteProperty("text",O.text),A.WriteIntProperty("index",O.index),A.WriteProperty("originalChoicePath",O.sourcePath),A.WriteIntProperty("originalThreadIndex",O.originalThreadIndex),A.WriteProperty("targetPath",O.pathStringOnChoice),A.WriteObjectEnd()}static WriteInkList(A,O){let R=O.value;if(null===R)return U.throwNullException("rawList");A.WriteObjectStart(),A.WritePropertyStart("list"),A.WriteObjectStart();for(let[h,N]of R){let B=W.InkListItem.fromSerializedKey(h),l2=N;if(null===B.itemName)return U.throwNullException("item.itemName");A.WritePropertyNameStart(),A.WritePropertyNameInner(B.originName?B.originName:"?"),A.WritePropertyNameInner("."),A.WritePropertyNameInner(B.itemName),A.WritePropertyNameEnd(),A.Write(l2),A.WritePropertyEnd()}if(A.WriteObjectEnd(),A.WritePropertyEnd(),0==R.Count&&null!=R.originNames&&R.originNames.length>0){A.WritePropertyStart("origins"),A.WriteArrayStart();for(let h of R.originNames)A.Write(h);A.WriteArrayEnd(),A.WritePropertyEnd()}A.WriteObjectEnd()}static ListDefinitionsToJToken(A){let O={};for(let R of A.lists){let h={};for(let[N,B]of R.items){let l2=W.InkListItem.fromSerializedKey(N);if(null===l2.itemName)return U.throwNullException("item.itemName");h[l2.itemName]=B}O[R.name]=h}return O}static JTokenToListDefinitions(A){let O=A,R=[];for(let h in O)if(O.hasOwnProperty(h)){let N=h.toString(),B=O[h],l2=new Map;for(let x2 in B)O.hasOwnProperty(h)&&l2.set(x2,parseInt(B[x2]));let o2=new e2.ListDefinition(N,l2);R.push(o2)}return new n2.ListDefinitionsOrigin(R)}}b.JsonSerialisation=p2,p2._controlCommandNames=(()=>{let y2=[];y2[w.ControlCommand.CommandType.EvalStart]="ev",y2[w.ControlCommand.CommandType.EvalOutput]="out",y2[w.ControlCommand.CommandType.EvalEnd]="/ev",y2[w.ControlCommand.CommandType.Duplicate]="du",y2[w.ControlCommand.CommandType.PopEvaluatedValue]="pop",y2[w.ControlCommand.CommandType.PopFunction]="~ret",y2[w.ControlCommand.CommandType.PopTunnel]="->->",y2[w.ControlCommand.CommandType.BeginString]="str",y2[w.ControlCommand.CommandType.EndString]="/str",y2[w.ControlCommand.CommandType.NoOp]="nop",y2[w.ControlCommand.CommandType.ChoiceCount]="choiceCnt",y2[w.ControlCommand.CommandType.Turns]="turn",y2[w.ControlCommand.CommandType.TurnsSince]="turns",y2[w.ControlCommand.CommandType.ReadCount]="readc",y2[w.ControlCommand.CommandType.Random]="rnd",y2[w.ControlCommand.CommandType.SeedRandom]="srnd",y2[w.ControlCommand.CommandType.VisitIndex]="visit",y2[w.ControlCommand.CommandType.SequenceShuffleIndex]="seq",y2[w.ControlCommand.CommandType.StartThread]="thread",y2[w.ControlCommand.CommandType.Done]="done",y2[w.ControlCommand.CommandType.End]="end",y2[w.ControlCommand.CommandType.ListFromInt]="listInt",y2[w.ControlCommand.CommandType.ListRange]="range",y2[w.ControlCommand.CommandType.ListRandom]="lrnd";for(let A=0;A<w.ControlCommand.CommandType.TOTAL_VALUES;++A)if(null==y2[A])throw new Error("Control command not accounted for in serialisation");return y2})()},71:(A2,b,S)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.ListDefinition=void 0;const v=S(295);b.ListDefinition=class y{constructor(w,V){this._name=w||"",this._items=null,this._itemNameToValues=V||new Map}get name(){return this._name}get items(){if(null==this._items){this._items=new Map;for(let[w,V]of this._itemNameToValues){let L=new v.InkListItem(this.name,w);this._items.set(L.serialized(),V)}}return this._items}ValueForItem(w){if(!w.itemName)return 0;let V=this._itemNameToValues.get(w.itemName);return typeof V<"u"?V:0}ContainsItem(w){return!(!w.itemName||w.originName!=this.name)&&this._itemNameToValues.has(w.itemName)}ContainsItemWithName(w){return this._itemNameToValues.has(w)}TryGetItemWithValue(w,V){for(let[L,x]of this._itemNameToValues)if(x==w)return{result:new v.InkListItem(this.name,L),exists:!0};return{result:v.InkListItem.Null,exists:!1}}TryGetValueForItem(w,V){if(!w.itemName)return{result:0,exists:!1};let L=this._itemNameToValues.get(w.itemName);return L?{result:L,exists:!0}:{result:0,exists:!1}}}},51:(A2,b,S)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.ListDefinitionsOrigin=void 0;const v=S(295),y=S(353),k=S(523);b.ListDefinitionsOrigin=class w{constructor(L){this._lists=new Map,this._allUnambiguousListValueCache=new Map;for(let x of L){this._lists.set(x.name,x);for(let[z,H]of x.items){let m=v.InkListItem.fromSerializedKey(z),T=new y.ListValue(m,H);if(!m.itemName)throw new Error("item.itemName is null or undefined.");this._allUnambiguousListValueCache.set(m.itemName,T),this._allUnambiguousListValueCache.set(m.fullName,T)}}}get lists(){let L=[];for(let[,x]of this._lists)L.push(x);return L}TryListGetDefinition(L,x){if(null===L)return{result:x,exists:!1};let z=this._lists.get(L);return z?{result:z,exists:!0}:{result:x,exists:!1}}FindSingleItemListWithName(L){if(null===L)return k.throwNullException("name");let x=this._allUnambiguousListValueCache.get(L);return typeof x<"u"?x:null}}},724:(A2,b,S)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.NativeFunctionCall=void 0;const v=S(353),y=S(842),k=S(520),w=S(295),V=S(790),L=S(475),x=S(523);class z extends V.InkObject{constructor(){if(super(),this._name=null,this._numberOfParameters=0,this._prototype=null,this._isPrototype=!1,this._operationFuncs=null,0===arguments.length)z.GenerateNativeFunctionsIfNecessary();else if(1===arguments.length){let m=arguments[0];z.GenerateNativeFunctionsIfNecessary(),this.name=m}else if(2===arguments.length){let m=arguments[0],T=arguments[1];this._isPrototype=!0,this.name=m,this.numberOfParameters=T}}static CallWithName(m){return new z(m)}static CallExistsWithName(m){return this.GenerateNativeFunctionsIfNecessary(),this._nativeFunctions.get(m)}get name(){return null===this._name?x.throwNullException("NativeFunctionCall._name"):this._name}set name(m){this._name=m,this._isPrototype||(null===z._nativeFunctions?x.throwNullException("NativeFunctionCall._nativeFunctions"):this._prototype=z._nativeFunctions.get(this._name)||null)}get numberOfParameters(){return this._prototype?this._prototype.numberOfParameters:this._numberOfParameters}set numberOfParameters(m){this._numberOfParameters=m}Call(m){if(this._prototype)return this._prototype.Call(m);if(this.numberOfParameters!=m.length)throw new Error("Unexpected number of parameters");let T=!1;for(let j of m){if(j instanceof k.Void)throw new y.StoryException('Attempting to perform operation on a void value. Did you forget to "return" a value from a function you called here?');j instanceof v.ListValue&&(T=!0)}if(2==m.length&&T)return this.CallBinaryListOperation(m);let f=this.CoerceValuesToSingleType(m),p=f[0].valueType;return p==v.ValueType.Int||p==v.ValueType.Float||p==v.ValueType.String||p==v.ValueType.DivertTarget||p==v.ValueType.List?this.CallType(f):null}CallType(m){let T=L.asOrThrows(m[0],v.Value),f=T.valueType,p=T,j=m.length;if(2==j||1==j){if(null===this._operationFuncs)return x.throwNullException("NativeFunctionCall._operationFuncs");let e2=this._operationFuncs.get(f);if(!e2)throw new y.StoryException("Cannot perform operation "+this.name+" on "+v.ValueType[f]);if(2==j){let W=L.asOrThrows(m[1],v.Value),t2=e2;if(null===p.value||null===W.value)return x.throwNullException("NativeFunctionCall.Call BinaryOp values");let U=t2(p.value,W.value);return v.Value.Create(U)}{let n2=e2;if(null===p.value)return x.throwNullException("NativeFunctionCall.Call UnaryOp value");let W=n2(p.value);return v.Value.Create(W,this.name===z.Int?v.ValueType.Int:this.name===z.Float?v.ValueType.Float:T.valueType)}}throw new Error("Unexpected number of parameters to NativeFunctionCall: "+m.length)}CallBinaryListOperation(m){if(("+"==this.name||"-"==this.name)&&m[0]instanceof v.ListValue&&m[1]instanceof v.IntValue)return this.CallListIncrementOperation(m);let T=L.asOrThrows(m[0],v.Value),f=L.asOrThrows(m[1],v.Value);if(!("&&"!=this.name&&"||"!=this.name||T.valueType==v.ValueType.List&&f.valueType==v.ValueType.List)){if(null===this._operationFuncs)return x.throwNullException("NativeFunctionCall._operationFuncs");let p=this._operationFuncs.get(v.ValueType.Int);if(null===p)return x.throwNullException("NativeFunctionCall.CallBinaryListOperation op");let j=L.asBooleanOrThrows(p(T.isTruthy?1:0,f.isTruthy?1:0));return new v.BoolValue(j)}if(T.valueType==v.ValueType.List&&f.valueType==v.ValueType.List)return this.CallType([T,f]);throw new y.StoryException("Can not call use "+this.name+" operation on "+v.ValueType[T.valueType]+" and "+v.ValueType[f.valueType])}CallListIncrementOperation(m){let T=L.asOrThrows(m[0],v.ListValue),f=L.asOrThrows(m[1],v.IntValue),p=new w.InkList;if(null===T.value)return x.throwNullException("NativeFunctionCall.CallListIncrementOperation listVal.value");for(let[j,e2]of T.value){let n2=w.InkListItem.fromSerializedKey(j);if(null===this._operationFuncs)return x.throwNullException("NativeFunctionCall._operationFuncs");let W=this._operationFuncs.get(v.ValueType.Int);if(null===f.value)return x.throwNullException("NativeFunctionCall.CallListIncrementOperation intVal.value");let t2=W(e2,f.value),U=null;if(null===T.value.origins)return x.throwNullException("NativeFunctionCall.CallListIncrementOperation listVal.value.origins");for(let p2 of T.value.origins)if(p2.name==n2.originName){U=p2;break}if(null!=U){let p2=U.TryGetItemWithValue(t2,w.InkListItem.Null);p2.exists&&p.Add(p2.result,t2)}}return new v.ListValue(p)}CoerceValuesToSingleType(m){let T=v.ValueType.Int,f=null;for(let j of m){let e2=L.asOrThrows(j,v.Value);e2.valueType>T&&(T=e2.valueType),e2.valueType==v.ValueType.List&&(f=L.asOrNull(e2,v.ListValue))}let p=[];if(v.ValueType[T]==v.ValueType[v.ValueType.List])for(let j of m){let e2=L.asOrThrows(j,v.Value);if(e2.valueType==v.ValueType.List)p.push(e2);else{if(e2.valueType!=v.ValueType.Int)throw new y.StoryException("Cannot mix Lists and "+v.ValueType[e2.valueType]+" values in this operation");{let n2=parseInt(e2.valueObject);if(f=L.asOrThrows(f,v.ListValue),null===f.value)return x.throwNullException("NativeFunctionCall.CoerceValuesToSingleType specialCaseList.value");let W=f.value.originOfMaxItem;if(null===W)return x.throwNullException("NativeFunctionCall.CoerceValuesToSingleType list");let t2=W.TryGetItemWithValue(n2,w.InkListItem.Null);if(!t2.exists)throw new y.StoryException("Could not find List item with the value "+n2+" in "+W.name);{let U=new v.ListValue(t2.result,n2);p.push(U)}}}}else for(let j of m){let n2=L.asOrThrows(j,v.Value).Cast(T);p.push(n2)}return p}static Identity(m){return m}static GenerateNativeFunctionsIfNecessary(){if(null==this._nativeFunctions){this._nativeFunctions=new Map,this.AddIntBinaryOp(this.Add,(f,p)=>f+p),this.AddIntBinaryOp(this.Subtract,(f,p)=>f-p),this.AddIntBinaryOp(this.Multiply,(f,p)=>f*p),this.AddIntBinaryOp(this.Divide,(f,p)=>Math.floor(f/p)),this.AddIntBinaryOp(this.Mod,(f,p)=>f%p),this.AddIntUnaryOp(this.Negate,f=>-f),this.AddIntBinaryOp(this.Equal,(f,p)=>f==p),this.AddIntBinaryOp(this.Greater,(f,p)=>f>p),this.AddIntBinaryOp(this.Less,(f,p)=>f<p),this.AddIntBinaryOp(this.GreaterThanOrEquals,(f,p)=>f>=p),this.AddIntBinaryOp(this.LessThanOrEquals,(f,p)=>f<=p),this.AddIntBinaryOp(this.NotEquals,(f,p)=>f!=p),this.AddIntUnaryOp(this.Not,f=>0==f),this.AddIntBinaryOp(this.And,(f,p)=>0!=f&&0!=p),this.AddIntBinaryOp(this.Or,(f,p)=>0!=f||0!=p),this.AddIntBinaryOp(this.Max,(f,p)=>Math.max(f,p)),this.AddIntBinaryOp(this.Min,(f,p)=>Math.min(f,p)),this.AddIntBinaryOp(this.Pow,(f,p)=>Math.pow(f,p)),this.AddIntUnaryOp(this.Floor,z.Identity),this.AddIntUnaryOp(this.Ceiling,z.Identity),this.AddIntUnaryOp(this.Int,z.Identity),this.AddIntUnaryOp(this.Float,f=>f),this.AddFloatBinaryOp(this.Add,(f,p)=>f+p),this.AddFloatBinaryOp(this.Subtract,(f,p)=>f-p),this.AddFloatBinaryOp(this.Multiply,(f,p)=>f*p),this.AddFloatBinaryOp(this.Divide,(f,p)=>f/p),this.AddFloatBinaryOp(this.Mod,(f,p)=>f%p),this.AddFloatUnaryOp(this.Negate,f=>-f),this.AddFloatBinaryOp(this.Equal,(f,p)=>f==p),this.AddFloatBinaryOp(this.Greater,(f,p)=>f>p),this.AddFloatBinaryOp(this.Less,(f,p)=>f<p),this.AddFloatBinaryOp(this.GreaterThanOrEquals,(f,p)=>f>=p),this.AddFloatBinaryOp(this.LessThanOrEquals,(f,p)=>f<=p),this.AddFloatBinaryOp(this.NotEquals,(f,p)=>f!=p),this.AddFloatUnaryOp(this.Not,f=>0==f),this.AddFloatBinaryOp(this.And,(f,p)=>0!=f&&0!=p),this.AddFloatBinaryOp(this.Or,(f,p)=>0!=f||0!=p),this.AddFloatBinaryOp(this.Max,(f,p)=>Math.max(f,p)),this.AddFloatBinaryOp(this.Min,(f,p)=>Math.min(f,p)),this.AddFloatBinaryOp(this.Pow,(f,p)=>Math.pow(f,p)),this.AddFloatUnaryOp(this.Floor,f=>Math.floor(f)),this.AddFloatUnaryOp(this.Ceiling,f=>Math.ceil(f)),this.AddFloatUnaryOp(this.Int,f=>Math.floor(f)),this.AddFloatUnaryOp(this.Float,z.Identity),this.AddStringBinaryOp(this.Add,(f,p)=>f+p),this.AddStringBinaryOp(this.Equal,(f,p)=>f===p),this.AddStringBinaryOp(this.NotEquals,(f,p)=>f!==p),this.AddStringBinaryOp(this.Has,(f,p)=>f.includes(p)),this.AddStringBinaryOp(this.Hasnt,(f,p)=>!f.includes(p)),this.AddListBinaryOp(this.Add,(f,p)=>f.Union(p)),this.AddListBinaryOp(this.Subtract,(f,p)=>f.Without(p)),this.AddListBinaryOp(this.Has,(f,p)=>f.Contains(p)),this.AddListBinaryOp(this.Hasnt,(f,p)=>!f.Contains(p)),this.AddListBinaryOp(this.Intersect,(f,p)=>f.Intersect(p)),this.AddListBinaryOp(this.Equal,(f,p)=>f.Equals(p)),this.AddListBinaryOp(this.Greater,(f,p)=>f.GreaterThan(p)),this.AddListBinaryOp(this.Less,(f,p)=>f.LessThan(p)),this.AddListBinaryOp(this.GreaterThanOrEquals,(f,p)=>f.GreaterThanOrEquals(p)),this.AddListBinaryOp(this.LessThanOrEquals,(f,p)=>f.LessThanOrEquals(p)),this.AddListBinaryOp(this.NotEquals,(f,p)=>!f.Equals(p)),this.AddListBinaryOp(this.And,(f,p)=>f.Count>0&&p.Count>0),this.AddListBinaryOp(this.Or,(f,p)=>f.Count>0||p.Count>0),this.AddListUnaryOp(this.Not,f=>0==f.Count?1:0),this.AddListUnaryOp(this.Invert,f=>f.inverse),this.AddListUnaryOp(this.All,f=>f.all),this.AddListUnaryOp(this.ListMin,f=>f.MinAsList()),this.AddListUnaryOp(this.ListMax,f=>f.MaxAsList()),this.AddListUnaryOp(this.Count,f=>f.Count),this.AddListUnaryOp(this.ValueOfList,f=>f.maxItem.Value);let T=(f,p)=>!f.Equals(p);this.AddOpToNativeFunc(this.Equal,2,v.ValueType.DivertTarget,(f,p)=>f.Equals(p)),this.AddOpToNativeFunc(this.NotEquals,2,v.ValueType.DivertTarget,T)}}AddOpFuncForType(m,T){null==this._operationFuncs&&(this._operationFuncs=new Map),this._operationFuncs.set(m,T)}static AddOpToNativeFunc(m,T,f,p){if(null===this._nativeFunctions)return x.throwNullException("NativeFunctionCall._nativeFunctions");let j=this._nativeFunctions.get(m);j||(j=new z(m,T),this._nativeFunctions.set(m,j)),j.AddOpFuncForType(f,p)}static AddIntBinaryOp(m,T){this.AddOpToNativeFunc(m,2,v.ValueType.Int,T)}static AddIntUnaryOp(m,T){this.AddOpToNativeFunc(m,1,v.ValueType.Int,T)}static AddFloatBinaryOp(m,T){this.AddOpToNativeFunc(m,2,v.ValueType.Float,T)}static AddFloatUnaryOp(m,T){this.AddOpToNativeFunc(m,1,v.ValueType.Float,T)}static AddStringBinaryOp(m,T){this.AddOpToNativeFunc(m,2,v.ValueType.String,T)}static AddListBinaryOp(m,T){this.AddOpToNativeFunc(m,2,v.ValueType.List,T)}static AddListUnaryOp(m,T){this.AddOpToNativeFunc(m,1,v.ValueType.List,T)}toString(){return'Native "'+this.name+'"'}}b.NativeFunctionCall=z,z.Add="+",z.Subtract="-",z.Divide="/",z.Multiply="*",z.Mod="%",z.Negate="_",z.Equal="==",z.Greater=">",z.Less="<",z.GreaterThanOrEquals=">=",z.LessThanOrEquals="<=",z.NotEquals="!=",z.Not="!",z.And="&&",z.Or="||",z.Min="MIN",z.Max="MAX",z.Pow="POW",z.Floor="FLOOR",z.Ceiling="CEILING",z.Int="INT",z.Float="FLOAT",z.Has="?",z.Hasnt="!?",z.Intersect="^",z.ListMin="LIST_MIN",z.ListMax="LIST_MAX",z.All="LIST_ALL",z.Count="LIST_COUNT",z.ValueOfList="LIST_VALUE",z.Invert="LIST_INVERT",z._nativeFunctions=null},523:(A2,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.throwNullException=b.NullException=void 0;class S extends Error{}b.NullException=S,b.throwNullException=function v(y){throw new S(`${y} is null or undefined`)}},790:(A2,b,S)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.InkObject=void 0;const v=S(0),y=S(932),k=S(964),w=S(475),V=S(523);b.InkObject=class L{constructor(){this.parent=null,this._debugMetadata=null,this._path=null}get debugMetadata(){return null===this._debugMetadata&&this.parent?this.parent.debugMetadata:this._debugMetadata}set debugMetadata(z){this._debugMetadata=z}get ownDebugMetadata(){return this._debugMetadata}DebugLineNumberOfPath(z){if(null===z)return null;let H=this.rootContentContainer;if(H){let m=H.ContentAtPath(z).obj;if(m){let T=m.debugMetadata;if(null!==T)return T.startLineNumber}}return null}get path(){if(null==this._path)if(null==this.parent)this._path=new v.Path;else{let z=[],H=this,m=w.asOrNull(H.parent,y.Container);for(;null!==m;){let T=w.asINamedContentOrNull(H);if(null!=T&&T.hasValidName){if(null===T.name)return V.throwNullException("namedChild.name");z.unshift(new v.Path.Component(T.name))}else z.unshift(new v.Path.Component(m.content.indexOf(H)));H=m,m=w.asOrNull(m.parent,y.Container)}this._path=new v.Path(z)}return this._path}ResolvePath(z){if(null===z)return V.throwNullException("path");if(z.isRelative){let H=w.asOrNull(this,y.Container);return null===H&&(k.Debug.Assert(null!==this.parent,"Can't resolve relative path because we don't have a parent"),H=w.asOrNull(this.parent,y.Container),k.Debug.Assert(null!==H,"Expected parent to be a container"),k.Debug.Assert(z.GetComponent(0).isParent),z=z.tail),null===H?V.throwNullException("nearestContainer"):H.ContentAtPath(z)}{let H=this.rootContentContainer;return null===H?V.throwNullException("contentContainer"):H.ContentAtPath(z)}}ConvertPathToRelative(z){let H=this.path,m=Math.min(z.length,H.length),T=-1;for(let e2=0;e2<m;++e2){let n2=H.GetComponent(e2),W=z.GetComponent(e2);if(!n2.Equals(W))break;T=e2}if(-1==T)return z;let f=H.componentCount-1-T,p=[];for(let e2=0;e2<f;++e2)p.push(v.Path.Component.ToParent());for(let e2=T+1;e2<z.componentCount;++e2)p.push(z.GetComponent(e2));return new v.Path(p,!0)}CompactPathString(z){let H=null,m=null;return z.isRelative?(m=z.componentsString,H=this.path.PathByAppendingPath(z).componentsString):(m=this.ConvertPathToRelative(z).componentsString,H=z.componentsString),m.length<H.length?m:H}get rootContentContainer(){let z=this;for(;z.parent;)z=z.parent;return w.asOrNull(z,y.Container)}Copy(){throw Error("Not Implemented: Doesn't support copying")}SetChild(z,H,m){z[H]&&(z[H]=null),z[H]=m,z[H]&&(z[H].parent=this)}Equals(z){return z===this}}},74:(A2,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.PRNG=void 0,b.PRNG=class S{constructor(y){this.seed=y%2147483647,this.seed<=0&&(this.seed+=2147483646)}next(){return this.seed=48271*this.seed%2147483647}nextFloat(){return(this.next()-1)/2147483646}}},0:(A2,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.Path=void 0;class S{constructor(){if(this._components=[],this._componentsString=null,this._isRelative=!1,"string"==typeof arguments[0])this.componentsString=arguments[0];else if(arguments[0]instanceof S.Component&&arguments[1]instanceof S){let k=arguments[1];this._components.push(arguments[0]),this._components=this._components.concat(k._components)}else if(arguments[0]instanceof Array){let k=!!arguments[1];this._components=this._components.concat(arguments[0]),this._isRelative=k}}get isRelative(){return this._isRelative}get componentCount(){return this._components.length}get head(){return this._components.length>0?this._components[0]:null}get tail(){if(this._components.length>=2){let y=this._components.slice(1,this._components.length);return new S(y)}return S.self}get length(){return this._components.length}get lastComponent(){let y=this._components.length-1;return y>=0?this._components[y]:null}get containsNamedComponent(){for(let y=0,k=this._components.length;y<k;y++)if(!this._components[y].isIndex)return!0;return!1}static get self(){let y=new S;return y._isRelative=!0,y}GetComponent(y){return this._components[y]}PathByAppendingPath(y){let k=new S,w=0;for(let V=0;V<y._components.length&&y._components[V].isParent;++V)w++;for(let V=0;V<this._components.length-w;++V)k._components.push(this._components[V]);for(let V=w;V<y._components.length;++V)k._components.push(y._components[V]);return k}get componentsString(){return null==this._componentsString&&(this._componentsString=this._components.join("."),this.isRelative&&(this._componentsString="."+this._componentsString)),this._componentsString}set componentsString(y){if(this._components.length=0,this._componentsString=y,null==this._componentsString||""==this._componentsString)return;"."==this._componentsString[0]&&(this._isRelative=!0,this._componentsString=this._componentsString.substring(1));let k=this._componentsString.split(".");for(let w of k)/^(\-|\+)?([0-9]+|Infinity)$/.test(w)?this._components.push(new S.Component(parseInt(w))):this._components.push(new S.Component(w))}toString(){return this.componentsString}Equals(y){if(null==y||y._components.length!=this._components.length||y.isRelative!=this.isRelative)return!1;for(let k=0,w=y._components.length;k<w;k++)if(!y._components[k].Equals(this._components[k]))return!1;return!0}PathByAppendingComponent(y){let k=new S;return k._components.push(...this._components),k._components.push(y),k}}b.Path=S,S.parentId="^",function(v){class y{constructor(w){this.index=-1,this.name=null,"string"==typeof w?this.name=w:this.index=w}get isIndex(){return this.index>=0}get isParent(){return this.name==v.parentId}static ToParent(){return new y(v.parentId)}toString(){return this.isIndex?this.index.toString():this.name}Equals(w){return null!=w&&w.isIndex==this.isIndex&&(this.isIndex?this.index==w.index:this.name==w.name)}}v.Component=y}(S=b.Path||(b.Path={}))},662:(A2,b,S)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.Pointer=void 0;const v=S(0);class y{constructor(){this.container=null,this.index=-1,2===arguments.length&&(this.container=arguments[0],this.index=arguments[1])}Resolve(){return this.index<0?this.container:null==this.container?null:0==this.container.content.length?this.container:this.index>=this.container.content.length?null:this.container.content[this.index]}get isNull(){return null==this.container}get path(){return this.isNull?null:this.index>=0?this.container.path.PathByAppendingComponent(new v.Path.Component(this.index)):this.container.path}toString(){return this.container?"Ink Pointer -> "+this.container.path.toString()+" -- index "+this.index:"Ink Pointer (null)"}copy(){return new y(this.container,this.index)}static StartOf(w){return new y(w,0)}static get Null(){return new y(null,-1)}}b.Pointer=y},606:(A2,b)=>{var v;Object.defineProperty(b,"__esModule",{value:!0}),b.PushPopType=void 0,(v=b.PushPopType||(b.PushPopType={}))[v.Tunnel=0]="Tunnel",v[v.Function=1]="Function",v[v.FunctionEvaluationFromGame=2]="FunctionEvaluationFromGame"},272:(A2,b,S)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.SearchResult=void 0;const v=S(932);class y{constructor(){this.obj=null,this.approximate=!1}get correctObj(){return this.approximate?null:this.obj}get container(){return this.obj instanceof v.Container?this.obj:null}copy(){let w=new y;return w.obj=this.obj,w.approximate=this.approximate,w}}b.SearchResult=y},492:(A2,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.SimpleJson=void 0;class S{static TextToDictionary(y){return new S.Reader(y).ToDictionary()}static TextToArray(y){return new S.Reader(y).ToArray()}}b.SimpleJson=S,function(v){v.Reader=class y{constructor(V){this._rootObject=JSON.parse(V)}ToDictionary(){return this._rootObject}ToArray(){return this._rootObject}};class k{constructor(){this._currentPropertyName=null,this._currentString=null,this._stateStack=[],this._collectionStack=[],this._propertyNameStack=[],this._jsonObject=null}WriteObject(V){this.WriteObjectStart(),V(this),this.WriteObjectEnd()}WriteObjectStart(){this.StartNewObject(!0);let V={};if(this.state===v.Writer.State.Property){this.Assert(null!==this.currentCollection),this.Assert(null!==this.currentPropertyName);let L=this._propertyNameStack.pop();this.currentCollection[L]=V,this._collectionStack.push(V)}else this.state===v.Writer.State.Array?(this.Assert(null!==this.currentCollection),this.currentCollection.push(V),this._collectionStack.push(V)):(this.Assert(this.state===v.Writer.State.None),this._jsonObject=V,this._collectionStack.push(V));this._stateStack.push(new v.Writer.StateElement(v.Writer.State.Object))}WriteObjectEnd(){this.Assert(this.state===v.Writer.State.Object),this._collectionStack.pop(),this._stateStack.pop()}WriteProperty(V,L){this.WritePropertyStart(V),arguments[1]instanceof Function?(0,arguments[1])(this):this.Write(arguments[1]),this.WritePropertyEnd()}WriteIntProperty(V,L){this.WritePropertyStart(V),this.WriteInt(L),this.WritePropertyEnd()}WriteFloatProperty(V,L){this.WritePropertyStart(V),this.WriteFloat(L),this.WritePropertyEnd()}WritePropertyStart(V){this.Assert(this.state===v.Writer.State.Object),this._propertyNameStack.push(V),this.IncrementChildCount(),this._stateStack.push(new v.Writer.StateElement(v.Writer.State.Property))}WritePropertyEnd(){this.Assert(this.state===v.Writer.State.Property),this.Assert(1===this.childCount),this._stateStack.pop()}WritePropertyNameStart(){this.Assert(this.state===v.Writer.State.Object),this.IncrementChildCount(),this._currentPropertyName="",this._stateStack.push(new v.Writer.StateElement(v.Writer.State.Property)),this._stateStack.push(new v.Writer.StateElement(v.Writer.State.PropertyName))}WritePropertyNameEnd(){this.Assert(this.state===v.Writer.State.PropertyName),this.Assert(null!==this._currentPropertyName),this._propertyNameStack.push(this._currentPropertyName),this._currentPropertyName=null,this._stateStack.pop()}WritePropertyNameInner(V){this.Assert(this.state===v.Writer.State.PropertyName),this.Assert(null!==this._currentPropertyName),this._currentPropertyName+=V}WriteArrayStart(){this.StartNewObject(!0);let V=[];if(this.state===v.Writer.State.Property){this.Assert(null!==this.currentCollection),this.Assert(null!==this.currentPropertyName);let L=this._propertyNameStack.pop();this.currentCollection[L]=V,this._collectionStack.push(V)}else this.state===v.Writer.State.Array?(this.Assert(null!==this.currentCollection),this.currentCollection.push(V),this._collectionStack.push(V)):(this.Assert(this.state===v.Writer.State.None),this._jsonObject=V,this._collectionStack.push(V));this._stateStack.push(new v.Writer.StateElement(v.Writer.State.Array))}WriteArrayEnd(){this.Assert(this.state===v.Writer.State.Array),this._collectionStack.pop(),this._stateStack.pop()}Write(V,L=!0){null!==V?(this.StartNewObject(!1),this._addToCurrentObject(V)):console.error("Warning: trying to write a null value")}WriteBool(V){null!==V&&(this.StartNewObject(!1),this._addToCurrentObject(V))}WriteInt(V){null!==V&&(this.StartNewObject(!1),this._addToCurrentObject(Math.floor(V)))}WriteFloat(V){null!==V&&(this.StartNewObject(!1),V==Number.POSITIVE_INFINITY?this._addToCurrentObject(34e37):V==Number.NEGATIVE_INFINITY?this._addToCurrentObject(-34e37):isNaN(V)?this._addToCurrentObject(0):this._addToCurrentObject(V))}WriteNull(){this.StartNewObject(!1),this._addToCurrentObject(null)}WriteStringStart(){this.StartNewObject(!1),this._currentString="",this._stateStack.push(new v.Writer.StateElement(v.Writer.State.String))}WriteStringEnd(){this.Assert(this.state==v.Writer.State.String),this._stateStack.pop(),this._addToCurrentObject(this._currentString),this._currentString=null}WriteStringInner(V,L=!0){this.Assert(this.state===v.Writer.State.String),null!==V?this._currentString+=V:console.error("Warning: trying to write a null string")}toString(){return null===this._jsonObject?"":JSON.stringify(this._jsonObject)}StartNewObject(V){this.Assert(V?this.state===v.Writer.State.None||this.state===v.Writer.State.Property||this.state===v.Writer.State.Array:this.state===v.Writer.State.Property||this.state===v.Writer.State.Array),this.state===v.Writer.State.Property&&this.Assert(0===this.childCount),(this.state===v.Writer.State.Array||this.state===v.Writer.State.Property)&&this.IncrementChildCount()}get state(){return this._stateStack.length>0?this._stateStack[this._stateStack.length-1].type:v.Writer.State.None}get childCount(){return this._stateStack.length>0?this._stateStack[this._stateStack.length-1].childCount:0}get currentCollection(){return this._collectionStack.length>0?this._collectionStack[this._collectionStack.length-1]:null}get currentPropertyName(){return this._propertyNameStack.length>0?this._propertyNameStack[this._propertyNameStack.length-1]:null}IncrementChildCount(){this.Assert(this._stateStack.length>0);let V=this._stateStack.pop();V.childCount++,this._stateStack.push(V)}Assert(V){if(!V)throw Error("Assert failed while writing JSON")}_addToCurrentObject(V){this.Assert(null!==this.currentCollection),this.state===v.Writer.State.Array?(this.Assert(Array.isArray(this.currentCollection)),this.currentCollection.push(V)):this.state===v.Writer.State.Property&&(this.Assert(!Array.isArray(this.currentCollection)),this.Assert(null!==this.currentPropertyName),this.currentCollection[this.currentPropertyName]=V,this._propertyNameStack.pop())}}v.Writer=k,function(w){let V;var x;(x=V=w.State||(w.State={}))[x.None=0]="None",x[x.Object=1]="Object",x[x.Array=2]="Array",x[x.Property=3]="Property",x[x.PropertyName=4]="PropertyName",x[x.String=5]="String",w.StateElement=class L{constructor(z){this.type=v.Writer.State.None,this.childCount=0,this.type=z}}}(k=v.Writer||(v.Writer={}))}(S=b.SimpleJson||(b.SimpleJson={}))},170:(A2,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.StatePatch=void 0,b.StatePatch=class S{constructor(){if(this._changedVariables=new Set,this._visitCounts=new Map,this._turnIndices=new Map,1===arguments.length&&null!==arguments[0]){let y=arguments[0];this._globals=new Map(y._globals),this._changedVariables=new Set(y._changedVariables),this._visitCounts=new Map(y._visitCounts),this._turnIndices=new Map(y._turnIndices)}else this._globals=new Map,this._changedVariables=new Set,this._visitCounts=new Map,this._turnIndices=new Map}get globals(){return this._globals}get changedVariables(){return this._changedVariables}get visitCounts(){return this._visitCounts}get turnIndices(){return this._turnIndices}TryGetGlobal(y,k){return null!==y&&this._globals.has(y)?{result:this._globals.get(y),exists:!0}:{result:k,exists:!1}}SetGlobal(y,k){this._globals.set(y,k)}AddChangedVariable(y){return this._changedVariables.add(y)}TryGetVisitCount(y,k){return this._visitCounts.has(y)?{result:this._visitCounts.get(y),exists:!0}:{result:k,exists:!1}}SetVisitCount(y,k){this._visitCounts.set(y,k)}SetTurnIndex(y,k){this._turnIndices.set(y,k)}TryGetTurnIndex(y,k){return this._turnIndices.has(y)?{result:this._turnIndices.get(y),exists:!0}:{result:k,exists:!1}}}},674:(A2,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.Stopwatch=void 0,b.Stopwatch=class S{constructor(){this.startTime=void 0}get ElapsedMilliseconds(){return typeof this.startTime>"u"?0:(new Date).getTime()-this.startTime}Start(){this.startTime=(new Date).getTime()}Stop(){this.startTime=void 0}}},106:(A2,b,S)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.Story=b.InkList=void 0;const v=S(932),y=S(790),k=S(90),w=S(753),V=S(708),L=S(606),x=S(250),z=S(782),H=S(728),m=S(353),T=S(0),f=S(520),p=S(714),j=S(759),e2=S(446),n2=S(724),W=S(842),t2=S(74),U=S(981),p2=S(51),y2=S(674),A=S(662),O=S(295),R=S(475),h=S(523),N=S(492),B=S(865);var l2=S(295);Object.defineProperty(b,"InkList",{enumerable:!0,get:function(){return l2.InkList}}),Number.isInteger||(Number.isInteger=function(g){return"number"==typeof g&&isFinite(g)&&g>-9007199254740992&&g<9007199254740992&&Math.floor(g)===g});class o2 extends y.InkObject{constructor(){super(),this.inkVersionMinimumCompatible=18,this.onError=null,this.onDidContinue=null,this.onMakeChoice=null,this.onEvaluateFunction=null,this.onCompleteEvaluateFunction=null,this.onChoosePathString=null,this._prevContainers=[],this.allowExternalFunctionFallbacks=!1,this._listDefinitions=null,this._variableObservers=null,this._hasValidatedExternals=!1,this._temporaryEvaluationContainer=null,this._asyncContinueActive=!1,this._stateSnapshotAtLastNewline=null,this._sawLookaheadUnsafeFunctionAfterNewline=!1,this._recursiveContinueCount=0,this._asyncSaving=!1,this._profiler=null;let g,_=null,E=null;if(arguments[0]instanceof v.Container?(g=arguments[0],typeof arguments[1]<"u"&&(_=arguments[1]),this._mainContentContainer=g):E="string"==typeof arguments[0]?N.SimpleJson.TextToDictionary(arguments[0]):arguments[0],null!=_&&(this._listDefinitions=new p2.ListDefinitionsOrigin(_)),this._externals=new Map,null!==E){let P=E,G=P.inkVersion;if(null==G)throw new Error("ink version number not found. Are you sure it's a valid .ink.json file?");let m2=parseInt(G);if(m2>o2.inkVersionCurrent)throw new Error("Version of ink used to build story was newer than the current version of the engine");if(m2<this.inkVersionMinimumCompatible)throw new Error("Version of ink used to build story is too old to be loaded by this version of the engine");m2!=o2.inkVersionCurrent&&console.warn("WARNING: Version of ink used to build story doesn't match current version of engine. Non-critical, but recommend synchronising.");let k2,T2=P.root;if(null==T2)throw new Error("Root node for ink not found. Are you sure it's a valid .ink.json file?");(k2=P.listDefs)&&(this._listDefinitions=k.JsonSerialisation.JTokenToListDefinitions(k2)),this._mainContentContainer=R.asOrThrows(k.JsonSerialisation.JTokenToRuntimeObject(T2),v.Container),this.ResetState()}}get currentChoices(){let g=[];if(null===this._state)return h.throwNullException("this._state");for(let _ of this._state.currentChoices)_.isInvisibleDefault||(_.index=g.length,g.push(_));return g}get currentText(){return this.IfAsyncWeCant("call currentText since it's a work in progress"),this.state.currentText}get currentTags(){return this.IfAsyncWeCant("call currentTags since it's a work in progress"),this.state.currentTags}get currentErrors(){return this.state.currentErrors}get currentWarnings(){return this.state.currentWarnings}get currentFlowName(){return this.state.currentFlowName}get hasError(){return this.state.hasError}get hasWarning(){return this.state.hasWarning}get variablesState(){return this.state.variablesState}get listDefinitions(){return this._listDefinitions}get state(){return this._state}StartProfiling(){}EndProfiling(){}ToJson(g){let _=!1;if(g||(_=!0,g=new N.SimpleJson.Writer),g.WriteObjectStart(),g.WriteIntProperty("inkVersion",o2.inkVersionCurrent),g.WriteProperty("root",E=>k.JsonSerialisation.WriteRuntimeContainer(E,this._mainContentContainer)),null!=this._listDefinitions){g.WritePropertyStart("listDefs"),g.WriteObjectStart();for(let E of this._listDefinitions.lists){g.WritePropertyStart(E.name),g.WriteObjectStart();for(let[P,G]of E.items){let m2=O.InkListItem.fromSerializedKey(P);g.WriteIntProperty(m2.itemName,G)}g.WriteObjectEnd(),g.WritePropertyEnd()}g.WriteObjectEnd(),g.WritePropertyEnd()}if(g.WriteObjectEnd(),_)return g.toString()}ResetState(){this.IfAsyncWeCant("ResetState"),this._state=new w.StoryState(this),this._state.variablesState.ObserveVariableChange(this.VariableStateDidChangeEvent.bind(this)),this.ResetGlobals()}ResetErrors(){if(null===this._state)return h.throwNullException("this._state");this._state.ResetErrors()}ResetCallstack(){if(this.IfAsyncWeCant("ResetCallstack"),null===this._state)return h.throwNullException("this._state");this._state.ForceEnd()}ResetGlobals(){if(this._mainContentContainer.namedContent.get("global decl")){let g=this.state.currentPointer.copy();this.ChoosePath(new T.Path("global decl"),!1),this.ContinueInternal(),this.state.currentPointer=g}this.state.variablesState.SnapshotDefaultGlobals()}SwitchFlow(g){if(this.IfAsyncWeCant("switch flow"),this._asyncSaving)throw new Error("Story is already in background saving mode, can't switch flow to "+g);this.state.SwitchFlow_Internal(g)}RemoveFlow(g){this.state.RemoveFlow_Internal(g)}SwitchToDefaultFlow(){this.state.SwitchToDefaultFlow_Internal()}Continue(){return this.ContinueAsync(0),this.currentText}get canContinue(){return this.state.canContinue}get asyncContinueComplete(){return!this._asyncContinueActive}ContinueAsync(g){this._hasValidatedExternals||this.ValidateExternalBindings(),this.ContinueInternal(g)}ContinueInternal(g=0){null!=this._profiler&&this._profiler.PreContinue();let _=g>0;if(this._recursiveContinueCount++,!this._asyncContinueActive){if(this._asyncContinueActive=_,!this.canContinue)throw new Error("Can't continue - should check canContinue before calling Continue");this._state.didSafeExit=!1,this._state.ResetOutput(),1==this._recursiveContinueCount&&(this._state.variablesState.batchObservingVariableChanges=!0)}let E=new y2.Stopwatch;E.Start();let P=!1;this._sawLookaheadUnsafeFunctionAfterNewline=!1;do{try{P=this.ContinueSingleStep()}catch(G){if(!(G instanceof W.StoryException))throw G;this.AddError(G.message,void 0,G.useEndLineNumber);break}if(P||this._asyncContinueActive&&E.ElapsedMilliseconds>g)break}while(this.canContinue);if(E.Stop(),(P||!this.canContinue)&&(null!==this._stateSnapshotAtLastNewline&&this.RestoreStateSnapshot(),this.canContinue||(this.state.callStack.canPopThread&&this.AddError("Thread available to pop, threads should always be flat by the end of evaluation?"),0==this.state.generatedChoices.length&&!this.state.didSafeExit&&null==this._temporaryEvaluationContainer&&(this.state.callStack.CanPop(L.PushPopType.Tunnel)?this.AddError("unexpectedly reached end of content. Do you need a '->->' to return from a tunnel?"):this.state.callStack.CanPop(L.PushPopType.Function)?this.AddError("unexpectedly reached end of content. Do you need a '~ return'?"):this.AddError(this.state.callStack.canPop?"unexpectedly reached end of content for unknown reason. Please debug compiler!":"ran out of content. Do you need a '-> DONE' or '-> END'?"))),this.state.didSafeExit=!1,this._sawLookaheadUnsafeFunctionAfterNewline=!1,1==this._recursiveContinueCount&&(this._state.variablesState.batchObservingVariableChanges=!1),this._asyncContinueActive=!1,null!==this.onDidContinue&&this.onDidContinue()),this._recursiveContinueCount--,null!=this._profiler&&this._profiler.PostContinue(),this.state.hasError||this.state.hasWarning){if(null===this.onError){let G=new U.StringBuilder;throw G.Append("Ink had "),this.state.hasError&&(G.Append(`${this.state.currentErrors.length}`),G.Append(1==this.state.currentErrors.length?" error":"errors"),this.state.hasWarning&&G.Append(" and ")),this.state.hasWarning&&(G.Append(`${this.state.currentWarnings.length}`),G.Append(1==this.state.currentWarnings.length?" warning":"warnings"),this.state.hasWarning&&G.Append(" and ")),G.Append(". It is strongly suggested that you assign an error handler to story.onError. The first issue was: "),G.Append(this.state.hasError?this.state.currentErrors[0]:this.state.currentWarnings[0]),new W.StoryException(G.toString())}if(this.state.hasError)for(let G of this.state.currentErrors)this.onError(G,B.ErrorType.Error);if(this.state.hasWarning)for(let G of this.state.currentWarnings)this.onError(G,B.ErrorType.Warning);this.ResetErrors()}}ContinueSingleStep(){if(null!=this._profiler&&this._profiler.PreStep(),this.Step(),null!=this._profiler&&this._profiler.PostStep(),!this.canContinue&&!this.state.callStack.elementIsEvaluateFromGame&&this.TryFollowDefaultInvisibleChoice(),null!=this._profiler&&this._profiler.PreSnapshot(),!this.state.inStringEvaluation){if(null!==this._stateSnapshotAtLastNewline){if(null===this._stateSnapshotAtLastNewline.currentTags)return h.throwNullException("this._stateAtLastNewline.currentTags");if(null===this.state.currentTags)return h.throwNullException("this.state.currentTags");let g=this.CalculateNewlineOutputStateChange(this._stateSnapshotAtLastNewline.currentText,this.state.currentText,this._stateSnapshotAtLastNewline.currentTags.length,this.state.currentTags.length);if(g==o2.OutputStateChange.ExtendedBeyondNewline||this._sawLookaheadUnsafeFunctionAfterNewline)return this.RestoreStateSnapshot(),!0;g==o2.OutputStateChange.NewlineRemoved&&this.DiscardSnapshot()}this.state.outputStreamEndsInNewline&&(this.canContinue?null==this._stateSnapshotAtLastNewline&&this.StateSnapshot():this.DiscardSnapshot())}return null!=this._profiler&&this._profiler.PostSnapshot(),!1}CalculateNewlineOutputStateChange(g,_,E,P){if(null===g)return h.throwNullException("prevText");if(null===_)return h.throwNullException("currText");let G=_.length>=g.length&&"\n"==_.charAt(g.length-1);if(E==P&&g.length==_.length&&G)return o2.OutputStateChange.NoChange;if(!G)return o2.OutputStateChange.NewlineRemoved;if(P>E)return o2.OutputStateChange.ExtendedBeyondNewline;for(let m2=g.length;m2<_.length;m2++){let T2=_.charAt(m2);if(" "!=T2&&"\t"!=T2)return o2.OutputStateChange.ExtendedBeyondNewline}return o2.OutputStateChange.NoChange}ContinueMaximally(){this.IfAsyncWeCant("ContinueMaximally");let g=new U.StringBuilder;for(;this.canContinue;)g.Append(this.Continue());return g.toString()}ContentAtPath(g){return this.mainContentContainer.ContentAtPath(g)}KnotContainerWithName(g){let _=this.mainContentContainer.namedContent.get(g);return _ instanceof v.Container?_:null}PointerAtPath(g){if(0==g.length)return A.Pointer.Null;let _=new A.Pointer,E=g.length,P=null;return null===g.lastComponent?h.throwNullException("path.lastComponent"):(g.lastComponent.isIndex?(E=g.length-1,P=this.mainContentContainer.ContentAtPath(g,void 0,E),_.container=P.container,_.index=g.lastComponent.index):(P=this.mainContentContainer.ContentAtPath(g),_.container=P.container,_.index=-1),null==P.obj||P.obj==this.mainContentContainer&&E>0?this.Error("Failed to find content at path '"+g+"', and no approximation of it was possible."):P.approximate&&this.Warning("Failed to find content at path '"+g+"', so it was approximated to: '"+P.obj.path+"'."),_)}StateSnapshot(){this._stateSnapshotAtLastNewline=this._state,this._state=this._state.CopyAndStartPatching()}RestoreStateSnapshot(){null===this._stateSnapshotAtLastNewline&&h.throwNullException("_stateSnapshotAtLastNewline"),this._stateSnapshotAtLastNewline.RestoreAfterPatch(),this._state=this._stateSnapshotAtLastNewline,this._stateSnapshotAtLastNewline=null,this._asyncSaving||this._state.ApplyAnyPatch()}DiscardSnapshot(){this._asyncSaving||this._state.ApplyAnyPatch(),this._stateSnapshotAtLastNewline=null}CopyStateForBackgroundThreadSave(){if(this.IfAsyncWeCant("start saving on a background thread"),this._asyncSaving)throw new Error("Story is already in background saving mode, can't call CopyStateForBackgroundThreadSave again!");let g=this._state;return this._state=this._state.CopyAndStartPatching(),this._asyncSaving=!0,g}BackgroundSaveComplete(){null===this._stateSnapshotAtLastNewline&&this._state.ApplyAnyPatch(),this._asyncSaving=!1}Step(){let g=!0,_=this.state.currentPointer.copy();if(_.isNull)return;let E=R.asOrNull(_.Resolve(),v.Container);for(;E&&(this.VisitContainer(E,!0),0!=E.content.length);)_=A.Pointer.StartOf(E),E=R.asOrNull(_.Resolve(),v.Container);this.state.currentPointer=_.copy(),null!=this._profiler&&this._profiler.Step(this.state.callStack);let P=_.Resolve(),G=this.PerformLogicAndFlowControl(P);if(this.state.currentPointer.isNull)return;G&&(g=!1);let m2=R.asOrNull(P,x.ChoicePoint);if(m2){let k2=this.ProcessChoice(m2);k2&&this.state.generatedChoices.push(k2),P=null,g=!1}if(P instanceof v.Container&&(g=!1),g){let k2=R.asOrNull(P,m.VariablePointerValue);if(k2&&-1==k2.contextIndex){let w1=this.state.callStack.ContextForVariableNamed(k2.variableName);P=new m.VariablePointerValue(k2.variableName,w1)}this.state.inExpressionEvaluation?this.state.PushEvaluationStack(P):this.state.PushToOutputStream(P)}this.NextContent();let T2=R.asOrNull(P,V.ControlCommand);T2&&T2.commandType==V.ControlCommand.CommandType.StartThread&&this.state.callStack.PushThread()}VisitContainer(g,_){(!g.countingAtStartOnly||_)&&(g.visitsShouldBeCounted&&this.state.IncrementVisitCountForContainer(g),g.turnIndexShouldBeCounted&&this.state.RecordTurnIndexVisitToContainer(g))}VisitChangedContainersDueToDivert(){let g=this.state.previousPointer.copy(),_=this.state.currentPointer.copy();if(_.isNull||-1==_.index)return;if(this._prevContainers.length=0,!g.isNull){let m2=g.Resolve(),T2=R.asOrNull(m2,v.Container)||R.asOrNull(g.container,v.Container);for(;T2;)this._prevContainers.push(T2),T2=R.asOrNull(T2.parent,v.Container)}let E=_.Resolve();if(null==E)return;let P=R.asOrNull(E.parent,v.Container),G=!0;for(;P&&(this._prevContainers.indexOf(P)<0||P.countingAtStartOnly);){let m2=P.content.length>0&&E==P.content[0]&&G;m2||(G=!1),this.VisitContainer(P,m2),E=P,P=R.asOrNull(P.parent,v.Container)}}ProcessChoice(g){let _=!0;if(g.hasCondition){let m2=this.state.PopEvaluationStack();this.IsTruthy(m2)||(_=!1)}let E="",P="";if(g.hasChoiceOnlyContent&&(P=R.asOrThrows(this.state.PopEvaluationStack(),m.StringValue).value||""),g.hasStartContent&&(E=R.asOrThrows(this.state.PopEvaluationStack(),m.StringValue).value||""),g.onceOnly&&this.state.VisitCountForContainer(g.choiceTarget)>0&&(_=!1),!_)return null;let G=new z.Choice;return G.targetPath=g.pathOnChoice,G.sourcePath=g.path.toString(),G.isInvisibleDefault=g.isInvisibleDefault,G.threadAtGeneration=this.state.callStack.ForkThread(),G.text=(E+P).replace(/^[ \t]+|[ \t]+$/g,""),G}IsTruthy(g){if(g instanceof m.Value){let E=g;return E instanceof m.DivertTargetValue?(this.Error("Shouldn't use a divert target (to "+E.targetPath+") as a conditional value. Did you intend a function call 'likeThis()' or a read count check 'likeThis'? (no arrows)"),!1):E.isTruthy}return!1}PerformLogicAndFlowControl(g){if(null==g)return!1;if(g instanceof H.Divert){let _=g;if(_.isConditional){let E=this.state.PopEvaluationStack();if(!this.IsTruthy(E))return!0}if(_.hasVariableTarget){let E=_.variableDivertName,P=this.state.variablesState.GetVariableWithName(E);if(null==P)this.Error("Tried to divert using a target from a variable that could not be found ("+E+")");else if(!(P instanceof m.DivertTargetValue)){let m2=R.asOrNull(P,m.IntValue),T2="Tried to divert to a target from a variable, but the variable ("+E+") didn't contain a divert target, it ";T2+=m2 instanceof m.IntValue&&0==m2.value?"was empty/null (the value 0).":"contained '"+P+"'.",this.Error(T2)}let G=R.asOrThrows(P,m.DivertTargetValue);this.state.divertedPointer=this.PointerAtPath(G.targetPath)}else{if(_.isExternal)return this.CallExternalFunction(_.targetPathString,_.externalArgs),!0;this.state.divertedPointer=_.targetPointer.copy()}return _.pushesToStack&&this.state.callStack.Push(_.stackPushType,void 0,this.state.outputStream.length),this.state.divertedPointer.isNull&&!_.isExternal&&this.Error(_&&_.debugMetadata&&null!=_.debugMetadata.sourceName?"Divert target doesn't exist: "+_.debugMetadata.sourceName:"Divert resolution failed: "+_),!0}if(g instanceof V.ControlCommand){let _=g;switch(_.commandType){case V.ControlCommand.CommandType.EvalStart:this.Assert(!1===this.state.inExpressionEvaluation,"Already in expression evaluation?"),this.state.inExpressionEvaluation=!0;break;case V.ControlCommand.CommandType.EvalEnd:this.Assert(!0===this.state.inExpressionEvaluation,"Not in expression evaluation mode"),this.state.inExpressionEvaluation=!1;break;case V.ControlCommand.CommandType.EvalOutput:if(this.state.evaluationStack.length>0){let G2=this.state.PopEvaluationStack();if(!(G2 instanceof f.Void)){let u1=new m.StringValue(G2.toString());this.state.PushToOutputStream(u1)}}break;case V.ControlCommand.CommandType.NoOp:break;case V.ControlCommand.CommandType.Duplicate:this.state.PushEvaluationStack(this.state.PeekEvaluationStack());break;case V.ControlCommand.CommandType.PopEvaluatedValue:this.state.PopEvaluationStack();break;case V.ControlCommand.CommandType.PopFunction:case V.ControlCommand.CommandType.PopTunnel:let E=_.commandType==V.ControlCommand.CommandType.PopFunction?L.PushPopType.Function:L.PushPopType.Tunnel,P=null;if(E==L.PushPopType.Tunnel){let G2=this.state.PopEvaluationStack();P=R.asOrNull(G2,m.DivertTargetValue),null===P&&this.Assert(G2 instanceof f.Void,"Expected void if ->-> doesn't override target")}if(this.state.TryExitFunctionEvaluationFromGame())break;if(this.state.callStack.currentElement.type==E&&this.state.callStack.canPop)this.state.PopCallStack(),P&&(this.state.divertedPointer=this.PointerAtPath(P.targetPath));else{let G2=new Map;G2.set(L.PushPopType.Function,"function return statement (~ return)"),G2.set(L.PushPopType.Tunnel,"tunnel onwards statement (->->)");let u1=G2.get(this.state.callStack.currentElement.type);this.state.callStack.canPop||(u1="end of flow (-> END or choice)");let S1="Found "+G2.get(E)+", when expected "+u1;this.Error(S1)}break;case V.ControlCommand.CommandType.BeginString:this.state.PushToOutputStream(_),this.Assert(!0===this.state.inExpressionEvaluation,"Expected to be in an expression when evaluating a string"),this.state.inExpressionEvaluation=!1;break;case V.ControlCommand.CommandType.EndString:let G=[],m2=0;for(let G2=this.state.outputStream.length-1;G2>=0;--G2){let u1=this.state.outputStream[G2];m2++;let S1=R.asOrNull(u1,V.ControlCommand);if(S1&&S1.commandType==V.ControlCommand.CommandType.BeginString)break;u1 instanceof m.StringValue&&G.push(u1)}this.state.PopFromOutputStream(m2),G=G.reverse();let T2=new U.StringBuilder;for(let G2 of G)T2.Append(G2.toString());this.state.inExpressionEvaluation=!0,this.state.PushEvaluationStack(new m.StringValue(T2.toString()));break;case V.ControlCommand.CommandType.ChoiceCount:this.state.PushEvaluationStack(new m.IntValue(this.state.generatedChoices.length));break;case V.ControlCommand.CommandType.Turns:this.state.PushEvaluationStack(new m.IntValue(this.state.currentTurnIndex+1));break;case V.ControlCommand.CommandType.TurnsSince:case V.ControlCommand.CommandType.ReadCount:let w1=this.state.PopEvaluationStack();if(!(w1 instanceof m.DivertTargetValue)){let G2="";w1 instanceof m.IntValue&&(G2=". Did you accidentally pass a read count ('knot_name') instead of a target ('-> knot_name')?"),this.Error("TURNS_SINCE / READ_COUNT expected a divert target (knot, stitch, label name), but saw "+w1+G2);break}let I2,I3=R.asOrThrows(w1,m.DivertTargetValue),c1=R.asOrNull(this.ContentAtPath(I3.targetPath).correctObj,v.Container);null!=c1?I2=_.commandType==V.ControlCommand.CommandType.TurnsSince?this.state.TurnsSinceForContainer(c1):this.state.VisitCountForContainer(c1):(I2=_.commandType==V.ControlCommand.CommandType.TurnsSince?-1:0,this.Warning("Failed to find container for "+_.toString()+" lookup at "+I3.targetPath.toString())),this.state.PushEvaluationStack(new m.IntValue(I2));break;case V.ControlCommand.CommandType.Random:{let G2=R.asOrNull(this.state.PopEvaluationStack(),m.IntValue),u1=R.asOrNull(this.state.PopEvaluationStack(),m.IntValue);if(null==u1||!(u1 instanceof m.IntValue))return this.Error("Invalid value for minimum parameter of RANDOM(min, max)");if(null==G2||!(u1 instanceof m.IntValue))return this.Error("Invalid value for maximum parameter of RANDOM(min, max)");if(null===G2.value)return h.throwNullException("maxInt.value");if(null===u1.value)return h.throwNullException("minInt.value");let S1=G2.value-u1.value+1;(!isFinite(S1)||S1>Number.MAX_SAFE_INTEGER)&&(S1=Number.MAX_SAFE_INTEGER,this.Error("RANDOM was called with a range that exceeds the size that ink numbers can use.")),S1<=0&&this.Error("RANDOM was called with minimum as "+u1.value+" and maximum as "+G2.value+". The maximum must be larger");let le=new t2.PRNG(this.state.storySeed+this.state.previousRandom).next();this.state.PushEvaluationStack(new m.IntValue(le%S1+u1.value)),this.state.previousRandom=le;break}case V.ControlCommand.CommandType.SeedRandom:let C1=R.asOrNull(this.state.PopEvaluationStack(),m.IntValue);if(null==C1||!(C1 instanceof m.IntValue))return this.Error("Invalid value passed to SEED_RANDOM");if(null===C1.value)return h.throwNullException("minInt.value");this.state.storySeed=C1.value,this.state.previousRandom=0,this.state.PushEvaluationStack(new f.Void);break;case V.ControlCommand.CommandType.VisitIndex:let x1=this.state.VisitCountForContainer(this.state.currentPointer.container)-1;this.state.PushEvaluationStack(new m.IntValue(x1));break;case V.ControlCommand.CommandType.SequenceShuffleIndex:let F4=this.NextSequenceShuffleIndex();this.state.PushEvaluationStack(new m.IntValue(F4));break;case V.ControlCommand.CommandType.StartThread:break;case V.ControlCommand.CommandType.Done:this.state.callStack.canPopThread?this.state.callStack.PopThread():(this.state.didSafeExit=!0,this.state.currentPointer=A.Pointer.Null);break;case V.ControlCommand.CommandType.End:this.state.ForceEnd();break;case V.ControlCommand.CommandType.ListFromInt:let o6=R.asOrNull(this.state.PopEvaluationStack(),m.IntValue),s6=R.asOrThrows(this.state.PopEvaluationStack(),m.StringValue);if(null===o6)throw new W.StoryException("Passed non-integer when creating a list element from a numerical value.");let c6=null;if(null===this.listDefinitions)return h.throwNullException("this.listDefinitions");let d0=this.listDefinitions.TryListGetDefinition(s6.value,null);if(!d0.exists)throw new W.StoryException("Failed to find LIST called "+s6.value);{if(null===o6.value)return h.throwNullException("minInt.value");let G2=d0.result.TryGetItemWithValue(o6.value,O.InkListItem.Null);G2.exists&&(c6=new m.ListValue(G2.result,o6.value))}null==c6&&(c6=new m.ListValue),this.state.PushEvaluationStack(c6);break;case V.ControlCommand.CommandType.ListRange:let h0=R.asOrNull(this.state.PopEvaluationStack(),m.Value),p0=R.asOrNull(this.state.PopEvaluationStack(),m.Value),l6=R.asOrNull(this.state.PopEvaluationStack(),m.ListValue);if(null===l6||null===p0||null===h0)throw new W.StoryException("Expected list, minimum and maximum for LIST_RANGE");if(null===l6.value)return h.throwNullException("targetList.value");let D9=l6.value.ListWithSubRange(p0.valueObject,h0.valueObject);this.state.PushEvaluationStack(new m.ListValue(D9));break;case V.ControlCommand.CommandType.ListRandom:{let G2=this.state.PopEvaluationStack();if(null===G2)throw new W.StoryException("Expected list for LIST_RANDOM");let u1=G2.value,S1=null;if(null===u1)throw h.throwNullException("list");if(0==u1.Count)S1=new O.InkList;else{let le=new t2.PRNG(this.state.storySeed+this.state.previousRandom).next(),E5=le%u1.Count,O3=u1.entries();for(let T5=0;T5<=E5-1;T5++)O3.next();let A5=O3.next().value,u6={Key:O.InkListItem.fromSerializedKey(A5[0]),Value:A5[1]};if(null===u6.Key.originName)return h.throwNullException("randomItem.Key.originName");S1=new O.InkList(u6.Key.originName,this),S1.Add(u6.Key,u6.Value),this.state.previousRandom=le}this.state.PushEvaluationStack(new m.ListValue(S1));break}default:this.Error("unhandled ControlCommand: "+_)}return!0}if(g instanceof j.VariableAssignment){let _=g,E=this.state.PopEvaluationStack();return this.state.variablesState.Assign(_,E),!0}if(g instanceof e2.VariableReference){let _=g,E=null;if(null!=_.pathForCount){let G=this.state.VisitCountForContainer(_.containerForCount);E=new m.IntValue(G)}else E=this.state.variablesState.GetVariableWithName(_.name),null==E&&(this.Warning("Variable not found: '"+_.name+"'. Using default value of 0 (false). This can happen with temporary variables if the declaration hasn't yet been hit. Globals are always given a default value on load if a value doesn't exist in the save state."),E=new m.IntValue(0));return this.state.PushEvaluationStack(E),!0}if(g instanceof n2.NativeFunctionCall){let _=g,E=this.state.PopEvaluationStack(_.numberOfParameters),P=_.Call(E);return this.state.PushEvaluationStack(P),!0}return!1}ChoosePathString(g,_=!0,E=[]){if(this.IfAsyncWeCant("call ChoosePathString right now"),null!==this.onChoosePathString&&this.onChoosePathString(g,E),_)this.ResetCallstack();else if(this.state.callStack.currentElement.type==L.PushPopType.Function){let P="",G=this.state.callStack.currentElement.currentPointer.container;throw null!=G&&(P="("+G.path.toString()+") "),new Error("Story was running a function "+P+"when you called ChoosePathString("+g+") - this is almost certainly not not what you want! Full stack trace: \n"+this.state.callStack.callStackTrace)}this.state.PassArgumentsToEvaluationStack(E),this.ChoosePath(new T.Path(g))}IfAsyncWeCant(g){if(this._asyncContinueActive)throw new Error("Can't "+g+". Story is in the middle of a ContinueAsync(). Make more ContinueAsync() calls or a single Continue() call beforehand.")}ChoosePath(g,_=!0){this.state.SetChosenPath(g,_),this.VisitChangedContainersDueToDivert()}ChooseChoiceIndex(g){let _=this.currentChoices;this.Assert(g>=0&&g<_.length,"choice out of range");let E=_[g];return null!==this.onMakeChoice&&this.onMakeChoice(E),null===E.threadAtGeneration?h.throwNullException("choiceToChoose.threadAtGeneration"):null===E.targetPath?h.throwNullException("choiceToChoose.targetPath"):(this.state.callStack.currentThread=E.threadAtGeneration,void this.ChoosePath(E.targetPath))}HasFunction(g){try{return null!=this.KnotContainerWithName(g)}catch{return!1}}EvaluateFunction(g,_=[],E=!1){if(null!==this.onEvaluateFunction&&this.onEvaluateFunction(g,_),this.IfAsyncWeCant("evaluate a function"),null==g)throw new Error("Function is null");if(""==g||""==g.trim())throw new Error("Function is empty or white space.");let P=this.KnotContainerWithName(g);if(null==P)throw new Error("Function doesn't exist: '"+g+"'");let G=[];G.push(...this.state.outputStream),this._state.ResetOutput(),this.state.StartFunctionEvaluationFromGame(P,_);let m2=new U.StringBuilder;for(;this.canContinue;)m2.Append(this.Continue());let T2=m2.toString();this._state.ResetOutput(G);let k2=this.state.CompleteFunctionEvaluationFromGame();return null!=this.onCompleteEvaluateFunction&&this.onCompleteEvaluateFunction(g,_,T2,k2),E?{returned:k2,output:T2}:k2}EvaluateExpression(g){let _=this.state.callStack.elements.length;this.state.callStack.Push(L.PushPopType.Tunnel),this._temporaryEvaluationContainer=g,this.state.GoToStart();let E=this.state.evaluationStack.length;return this.Continue(),this._temporaryEvaluationContainer=null,this.state.callStack.elements.length>_&&this.state.PopCallStack(),this.state.evaluationStack.length>E?this.state.PopEvaluationStack():null}CallExternalFunction(g,_){if(null===g)return h.throwNullException("funcName");let E=this._externals.get(g),P=null,G=typeof E<"u";if(G&&!E.lookAheadSafe&&null!==this._stateSnapshotAtLastNewline)return void(this._sawLookaheadUnsafeFunctionAfterNewline=!0);if(!G){if(this.allowExternalFunctionFallbacks)return P=this.KnotContainerWithName(g),this.Assert(null!==P,"Trying to call EXTERNAL function '"+g+"' which has not been bound, and fallback ink function could not be found."),this.state.callStack.Push(L.PushPopType.Function,void 0,this.state.outputStream.length),void(this.state.divertedPointer=A.Pointer.StartOf(P));this.Assert(!1,"Trying to call EXTERNAL function '"+g+"' which has not been bound (and ink fallbacks disabled).")}let m2=[];for(let w1=0;w1<_;++w1){let c1=R.asOrThrows(this.state.PopEvaluationStack(),m.Value).valueObject;m2.push(c1)}m2.reverse();let T2=E.function(m2),k2=null;null!=T2?(k2=m.Value.Create(T2),this.Assert(null!==k2,"Could not create ink value from returned object of type "+typeof T2)):k2=new f.Void,this.state.PushEvaluationStack(k2)}BindExternalFunctionGeneral(g,_,E){this.IfAsyncWeCant("bind an external function"),this.Assert(!this._externals.has(g),"Function '"+g+"' has already been bound."),this._externals.set(g,{function:_,lookAheadSafe:E})}TryCoerce(g){return g}BindExternalFunction(g,_,E){this.Assert(null!=_,"Can't bind a null function"),this.BindExternalFunctionGeneral(g,P=>{this.Assert(P.length>=_.length,"External function expected "+_.length+" arguments");let G=[];for(let m2=0,T2=P.length;m2<T2;m2++)G[m2]=this.TryCoerce(P[m2]);return _.apply(null,G)},E)}UnbindExternalFunction(g){this.IfAsyncWeCant("unbind an external a function"),this.Assert(this._externals.has(g),"Function '"+g+"' has not been bound."),this._externals.delete(g)}ValidateExternalBindings(){let g=null,_=null,E=arguments[1]||new Set;if(arguments[0]instanceof v.Container&&(g=arguments[0]),arguments[0]instanceof y.InkObject&&(_=arguments[0]),null===g&&null===_)if(this.ValidateExternalBindings(this._mainContentContainer,E),this._hasValidatedExternals=!0,0==E.size)this._hasValidatedExternals=!0;else{let P="Error: Missing function binding for external";P+=E.size>1?"s":"",P+=": '",P+=Array.from(E).join("', '"),P+="' ",P+=this.allowExternalFunctionFallbacks?", and no fallback ink function found.":" (ink fallbacks disabled)",this.Error(P)}else if(null!=g){for(let P of g.content){let G=P;(null==G||!G.hasValidName)&&this.ValidateExternalBindings(P,E)}for(let[,P]of g.namedContent)this.ValidateExternalBindings(R.asOrNull(P,y.InkObject),E)}else if(null!=_){let P=R.asOrNull(_,H.Divert);if(P&&P.isExternal){let G=P.targetPathString;if(null===G)return h.throwNullException("name");this._externals.has(G)||this.allowExternalFunctionFallbacks&&this.mainContentContainer.namedContent.has(G)||E.add(G)}}}ObserveVariable(g,_){if(this.IfAsyncWeCant("observe a new variable"),null===this._variableObservers&&(this._variableObservers=new Map),!this.state.variablesState.GlobalVariableExistsWithName(g))throw new Error("Cannot observe variable '"+g+"' because it wasn't declared in the ink story.");this._variableObservers.has(g)?this._variableObservers.get(g).push(_):this._variableObservers.set(g,[_])}ObserveVariables(g,_){for(let E=0,P=g.length;E<P;E++)this.ObserveVariable(g[E],_[E])}RemoveVariableObserver(g,_){if(this.IfAsyncWeCant("remove a variable observer"),null!==this._variableObservers)if(null!=_){if(this._variableObservers.has(_))if(null!=g){let E=this._variableObservers.get(_);null!=E&&(E.splice(E.indexOf(g),1),0===E.length&&this._variableObservers.delete(_))}else this._variableObservers.delete(_)}else if(null!=g){let E=this._variableObservers.keys();for(let P of E){let G=this._variableObservers.get(P);null!=G&&(G.splice(G.indexOf(g),1),0===G.length&&this._variableObservers.delete(P))}}}VariableStateDidChangeEvent(g,_){if(null===this._variableObservers)return;let E=this._variableObservers.get(g);if(typeof E<"u"){if(!(_ instanceof m.Value))throw new Error("Tried to get the value of a variable that isn't a standard type");let P=R.asOrThrows(_,m.Value);for(let G of E)G(g,P.valueObject)}}get globalTags(){return this.TagsAtStartOfFlowContainerWithPathString("")}TagsForContentAtPath(g){return this.TagsAtStartOfFlowContainerWithPathString(g)}TagsAtStartOfFlowContainerWithPathString(g){let _=new T.Path(g),E=this.ContentAtPath(_).container;if(null===E)return h.throwNullException("flowContainer");for(;;){let G=E.content[0];if(!(G instanceof v.Container))break;E=G}let P=null;for(let G of E.content){let m2=R.asOrNull(G,p.Tag);if(!m2)break;null==P&&(P=[]),P.push(m2.text)}return P}BuildStringOfHierarchy(){let g=new U.StringBuilder;return this.mainContentContainer.BuildStringOfHierarchy(g,0,this.state.currentPointer.Resolve()),g.toString()}BuildStringOfContainer(g){let _=new U.StringBuilder;return g.BuildStringOfHierarchy(_,0,this.state.currentPointer.Resolve()),_.toString()}NextContent(){if(this.state.previousPointer=this.state.currentPointer.copy(),(this.state.divertedPointer.isNull||(this.state.currentPointer=this.state.divertedPointer.copy(),this.state.divertedPointer=A.Pointer.Null,this.VisitChangedContainersDueToDivert(),this.state.currentPointer.isNull))&&!this.IncrementContentPointer()){let _=!1;this.state.callStack.CanPop(L.PushPopType.Function)?(this.state.PopCallStack(L.PushPopType.Function),this.state.inExpressionEvaluation&&this.state.PushEvaluationStack(new f.Void),_=!0):this.state.callStack.canPopThread?(this.state.callStack.PopThread(),_=!0):this.state.TryExitFunctionEvaluationFromGame(),_&&!this.state.currentPointer.isNull&&this.NextContent()}}IncrementContentPointer(){let g=!0,_=this.state.callStack.currentElement.currentPointer.copy();if(_.index++,null===_.container)return h.throwNullException("pointer.container");for(;_.index>=_.container.content.length;){g=!1;let E=R.asOrNull(_.container.parent,v.Container);if(!(E instanceof v.Container))break;let P=E.content.indexOf(_.container);if(-1==P)break;if(_=new A.Pointer(E,P),_.index++,g=!0,null===_.container)return h.throwNullException("pointer.container")}return g||(_=A.Pointer.Null),this.state.callStack.currentElement.currentPointer=_.copy(),g}TryFollowDefaultInvisibleChoice(){let g=this._state.currentChoices,_=g.filter(P=>P.isInvisibleDefault);if(0==_.length||g.length>_.length)return!1;let E=_[0];return null===E.targetPath?h.throwNullException("choice.targetPath"):null===E.threadAtGeneration?h.throwNullException("choice.threadAtGeneration"):(this.state.callStack.currentThread=E.threadAtGeneration,null!==this._stateSnapshotAtLastNewline&&(this.state.callStack.currentThread=this.state.callStack.ForkThread()),this.ChoosePath(E.targetPath,!1),!0)}NextSequenceShuffleIndex(){let g=R.asOrNull(this.state.PopEvaluationStack(),m.IntValue);if(!(g instanceof m.IntValue))return this.Error("expected number of elements in sequence for shuffle index"),0;let _=this.state.currentPointer.container;if(null===_)return h.throwNullException("seqContainer");if(null===g.value)return h.throwNullException("numElementsIntVal.value");let E=g.value,G=R.asOrThrows(this.state.PopEvaluationStack(),m.IntValue).value;if(null===G)return h.throwNullException("seqCount");let m2=G/E,T2=G%E,k2=_.path.toString(),w1=0;for(let C1=0,x1=k2.length;C1<x1;C1++)w1+=k2.charCodeAt(C1)||0;let c1=new t2.PRNG(Math.floor(w1+m2+this.state.storySeed)),I2=[];for(let C1=0;C1<E;++C1)I2.push(C1);for(let C1=0;C1<=T2;++C1){let x1=c1.next()%I2.length,F4=I2[x1];if(I2.splice(x1,1),C1==T2)return F4}throw new Error("Should never reach here")}Error(g,_=!1){let E=new W.StoryException(g);throw E.useEndLineNumber=_,E}Warning(g){this.AddError(g,!0)}AddError(g,_=!1,E=!1){let P=this.currentDebugMetadata,G=_?"WARNING":"ERROR";this.state.AddError(g=null!=P?"RUNTIME "+G+": '"+P.fileName+"' line "+(E?P.endLineNumber:P.startLineNumber)+": "+g:this.state.currentPointer.isNull?"RUNTIME "+G+": "+g:"RUNTIME "+G+": ("+this.state.currentPointer+"): "+g,_),_||this.state.ForceEnd()}Assert(g,_=null){if(0==g)throw null==_&&(_="Story assert"),new Error(_+" "+this.currentDebugMetadata)}get currentDebugMetadata(){let g,_=this.state.currentPointer;if(!_.isNull&&null!==_.Resolve()&&(g=_.Resolve().debugMetadata,null!==g))return g;for(let E=this.state.callStack.elements.length-1;E>=0;--E)if(_=this.state.callStack.elements[E].currentPointer,!_.isNull&&null!==_.Resolve()&&(g=_.Resolve().debugMetadata,null!==g))return g;for(let E=this.state.outputStream.length-1;E>=0;--E)if(g=this.state.outputStream[E].debugMetadata,null!==g)return g;return null}get mainContentContainer(){return this._temporaryEvaluationContainer?this._temporaryEvaluationContainer:this._mainContentContainer}}b.Story=o2,o2.inkVersionCurrent=20,function(x2){let g;var _;(_=g=x2.OutputStateChange||(x2.OutputStateChange={}))[_.NoChange=0]="NoChange",_[_.ExtendedBeyondNewline=1]="ExtendedBeyondNewline",_[_.NewlineRemoved=2]="NewlineRemoved"}(o2=b.Story||(b.Story={}))},842:(A2,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.StoryException=void 0;class S extends Error{constructor(y){super(y),this.useEndLineNumber=!1,this.message=y,this.name="StoryException"}}b.StoryException=S},753:(A2,b,S)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.StoryState=void 0;const v=S(154),y=S(833),k=S(353),w=S(606),V=S(714),L=S(654),x=S(0),z=S(708),H=S(981),m=S(90),T=S(74),f=S(520),p=S(662),j=S(216),e2=S(475),n2=S(964),W=S(523),t2=S(106),U=S(170),p2=S(492),y2=S(61),A=S(295);class O{constructor(h){this.kInkSaveStateVersion=9,this.kMinCompatibleLoadVersion=8,this.onDidLoadState=null,this._currentErrors=null,this._currentWarnings=null,this.divertedPointer=p.Pointer.Null,this._currentTurnIndex=0,this.storySeed=0,this.previousRandom=0,this.didSafeExit=!1,this._currentText=null,this._currentTags=null,this._outputStreamTextDirty=!0,this._outputStreamTagsDirty=!0,this._patch=null,this._namedFlows=null,this.kDefaultFlowName="DEFAULT_FLOW",this.story=h,this._currentFlow=new y2.Flow(this.kDefaultFlowName,h),this.OutputStreamDirty(),this._evaluationStack=[],this._variablesState=new y.VariablesState(this.callStack,h.listDefinitions),this._visitCounts=new Map,this._turnIndices=new Map,this.currentTurnIndex=-1;let N=(new Date).getTime();this.storySeed=new T.PRNG(N).next()%100,this.previousRandom=0,this.GoToStart()}ToJson(h=!1){let N=new p2.SimpleJson.Writer;return this.WriteJson(N),N.toString()}toJson(h=!1){return this.ToJson(h)}LoadJson(h){let N=p2.SimpleJson.TextToDictionary(h);this.LoadJsonObj(N),null!==this.onDidLoadState&&this.onDidLoadState()}VisitCountAtPathString(h){let N;if(null!==this._patch){let B=this.story.ContentAtPath(new x.Path(h)).container;if(null===B)throw new Error("Content at path not found: "+h);if(N=this._patch.TryGetVisitCount(B,0),N.exists)return N.result}return N=j.tryGetValueFromMap(this._visitCounts,h,null),N.exists?N.result:0}VisitCountForContainer(h){if(null===h)return W.throwNullException("container");if(!h.visitsShouldBeCounted)return this.story.Error("Read count for target ("+h.name+" - on "+h.debugMetadata+") unknown. The story may need to be compiled with countAllVisits flag (-c)."),0;if(null!==this._patch){let l2=this._patch.TryGetVisitCount(h,0);if(l2.exists)return l2.result}let N=h.path.toString(),B=j.tryGetValueFromMap(this._visitCounts,N,null);return B.exists?B.result:0}IncrementVisitCountForContainer(h){if(null!==this._patch){let l2=this.VisitCountForContainer(h);return l2++,void this._patch.SetVisitCount(h,l2)}let N=h.path.toString(),B=j.tryGetValueFromMap(this._visitCounts,N,null);this._visitCounts.set(N,B.exists?B.result+1:1)}RecordTurnIndexVisitToContainer(h){if(null!==this._patch)return void this._patch.SetTurnIndex(h,this.currentTurnIndex);let N=h.path.toString();this._turnIndices.set(N,this.currentTurnIndex)}TurnsSinceForContainer(h){if(h.turnIndexShouldBeCounted||this.story.Error("TURNS_SINCE() for target ("+h.name+" - on "+h.debugMetadata+") unknown. The story may need to be compiled with countAllVisits flag (-c)."),null!==this._patch){let l2=this._patch.TryGetTurnIndex(h,0);if(l2.exists)return this.currentTurnIndex-l2.result}let N=h.path.toString(),B=j.tryGetValueFromMap(this._turnIndices,N,0);return B.exists?this.currentTurnIndex-B.result:-1}get callstackDepth(){return this.callStack.depth}get outputStream(){return this._currentFlow.outputStream}get currentChoices(){return this.canContinue?[]:this._currentFlow.currentChoices}get generatedChoices(){return this._currentFlow.currentChoices}get currentErrors(){return this._currentErrors}get currentWarnings(){return this._currentWarnings}get variablesState(){return this._variablesState}set variablesState(h){this._variablesState=h}get callStack(){return this._currentFlow.callStack}get evaluationStack(){return this._evaluationStack}get currentTurnIndex(){return this._currentTurnIndex}set currentTurnIndex(h){this._currentTurnIndex=h}get currentPathString(){let h=this.currentPointer;return h.isNull?null:null===h.path?W.throwNullException("pointer.path"):h.path.toString()}get currentPointer(){return this.callStack.currentElement.currentPointer.copy()}set currentPointer(h){this.callStack.currentElement.currentPointer=h.copy()}get previousPointer(){return this.callStack.currentThread.previousPointer.copy()}set previousPointer(h){this.callStack.currentThread.previousPointer=h.copy()}get canContinue(){return!this.currentPointer.isNull&&!this.hasError}get hasError(){return null!=this.currentErrors&&this.currentErrors.length>0}get hasWarning(){return null!=this.currentWarnings&&this.currentWarnings.length>0}get currentText(){if(this._outputStreamTextDirty){let h=new H.StringBuilder;for(let N of this.outputStream){let B=e2.asOrNull(N,k.StringValue);null!==B&&h.Append(B.value)}this._currentText=this.CleanOutputWhitespace(h.toString()),this._outputStreamTextDirty=!1}return this._currentText}CleanOutputWhitespace(h){let N=new H.StringBuilder,B=-1,l2=0;for(let o2=0;o2<h.length;o2++){let x2=h.charAt(o2),g=" "==x2||"\t"==x2;g&&-1==B&&(B=o2),g||("\n"!=x2&&B>0&&B!=l2&&N.Append(" "),B=-1),"\n"==x2&&(l2=o2+1),g||N.Append(x2)}return N.toString()}get currentTags(){if(this._outputStreamTagsDirty){this._currentTags=[];for(let h of this.outputStream){let N=e2.asOrNull(h,V.Tag);null!==N&&this._currentTags.push(N.text)}this._outputStreamTagsDirty=!1}return this._currentTags}get currentFlowName(){return this._currentFlow.name}get inExpressionEvaluation(){return this.callStack.currentElement.inExpressionEvaluation}set inExpressionEvaluation(h){this.callStack.currentElement.inExpressionEvaluation=h}GoToStart(){this.callStack.currentElement.currentPointer=p.Pointer.StartOf(this.story.mainContentContainer)}SwitchFlow_Internal(h){if(null===h)throw new Error("Must pass a non-null string to Story.SwitchFlow");if(null===this._namedFlows&&(this._namedFlows=new Map,this._namedFlows.set(this.kDefaultFlowName,this._currentFlow)),h===this._currentFlow.name)return;let N,B=j.tryGetValueFromMap(this._namedFlows,h,null);B.exists?N=B.result:(N=new y2.Flow(h,this.story),this._namedFlows.set(h,N)),this._currentFlow=N,this.variablesState.callStack=this._currentFlow.callStack,this.OutputStreamDirty()}SwitchToDefaultFlow_Internal(){null!==this._namedFlows&&this.SwitchFlow_Internal(this.kDefaultFlowName)}RemoveFlow_Internal(h){if(null===h)throw new Error("Must pass a non-null string to Story.DestroyFlow");if(h===this.kDefaultFlowName)throw new Error("Cannot destroy default flow");if(this._currentFlow.name===h&&this.SwitchToDefaultFlow_Internal(),null===this._namedFlows)return W.throwNullException("this._namedFlows");this._namedFlows.delete(h)}CopyAndStartPatching(){let h=new O(this.story);if(h._patch=new U.StatePatch(this._patch),h._currentFlow.name=this._currentFlow.name,h._currentFlow.callStack=new v.CallStack(this._currentFlow.callStack),h._currentFlow.currentChoices.push(...this._currentFlow.currentChoices),h._currentFlow.outputStream.push(...this._currentFlow.outputStream),h.OutputStreamDirty(),null!==this._namedFlows){h._namedFlows=new Map;for(let[N,B]of this._namedFlows)h._namedFlows.set(N,B);h._namedFlows.set(this._currentFlow.name,h._currentFlow)}return this.hasError&&(h._currentErrors=[],h._currentErrors.push(...this.currentErrors||[])),this.hasWarning&&(h._currentWarnings=[],h._currentWarnings.push(...this.currentWarnings||[])),h.variablesState=this.variablesState,h.variablesState.callStack=h.callStack,h.variablesState.patch=h._patch,h.evaluationStack.push(...this.evaluationStack),this.divertedPointer.isNull||(h.divertedPointer=this.divertedPointer.copy()),h.previousPointer=this.previousPointer.copy(),h._visitCounts=this._visitCounts,h._turnIndices=this._turnIndices,h.currentTurnIndex=this.currentTurnIndex,h.storySeed=this.storySeed,h.previousRandom=this.previousRandom,h.didSafeExit=this.didSafeExit,h}RestoreAfterPatch(){this.variablesState.callStack=this.callStack,this.variablesState.patch=this._patch}ApplyAnyPatch(){if(null!==this._patch){this.variablesState.ApplyPatch();for(let[h,N]of this._patch.visitCounts)this.ApplyCountChanges(h,N,!0);for(let[h,N]of this._patch.turnIndices)this.ApplyCountChanges(h,N,!1);this._patch=null}}ApplyCountChanges(h,N,B){(B?this._visitCounts:this._turnIndices).set(h.path.toString(),N)}WriteJson(h){if(h.WriteObjectStart(),h.WritePropertyStart("flows"),h.WriteObjectStart(),null!==this._namedFlows)for(let[N,B]of this._namedFlows)h.WriteProperty(N,l2=>B.WriteJson(l2));else h.WriteProperty(this._currentFlow.name,N=>this._currentFlow.WriteJson(N));if(h.WriteObjectEnd(),h.WritePropertyEnd(),h.WriteProperty("currentFlowName",this._currentFlow.name),h.WriteProperty("variablesState",N=>this.variablesState.WriteJson(N)),h.WriteProperty("evalStack",N=>m.JsonSerialisation.WriteListRuntimeObjs(N,this.evaluationStack)),!this.divertedPointer.isNull){if(null===this.divertedPointer.path)return W.throwNullException("divertedPointer");h.WriteProperty("currentDivertTarget",this.divertedPointer.path.componentsString)}h.WriteProperty("visitCounts",N=>m.JsonSerialisation.WriteIntDictionary(N,this._visitCounts)),h.WriteProperty("turnIndices",N=>m.JsonSerialisation.WriteIntDictionary(N,this._turnIndices)),h.WriteIntProperty("turnIdx",this.currentTurnIndex),h.WriteIntProperty("storySeed",this.storySeed),h.WriteIntProperty("previousRandom",this.previousRandom),h.WriteIntProperty("inkSaveVersion",this.kInkSaveStateVersion),h.WriteIntProperty("inkFormatVersion",t2.Story.inkVersionCurrent),h.WriteObjectEnd()}LoadJsonObj(h){let N=h,B=N.inkSaveVersion;if(null==B)throw new Error("ink save format incorrect, can't load.");if(parseInt(B)<this.kMinCompatibleLoadVersion)throw new Error("Ink save format isn't compatible with the current version (saw '"+B+"', but minimum is "+this.kMinCompatibleLoadVersion+"), so can't load.");let l2=N.flows;if(null!=l2){let x2=l2;1===Object.keys(x2).length?this._namedFlows=null:null===this._namedFlows?this._namedFlows=new Map:this._namedFlows.clear();let g=Object.entries(x2);for(let[_,E]of g){let P=_,G=E,m2=new y2.Flow(P,this.story,G);if(1===Object.keys(x2).length)this._currentFlow=new y2.Flow(P,this.story,G);else{if(null===this._namedFlows)return W.throwNullException("this._namedFlows");this._namedFlows.set(P,m2)}}null!=this._namedFlows&&this._namedFlows.size>1&&(this._currentFlow=this._namedFlows.get(N.currentFlowName))}else this._namedFlows=null,this._currentFlow.name=this.kDefaultFlowName,this._currentFlow.callStack.SetJsonToken(N.callstackThreads,this.story),this._currentFlow.outputStream=m.JsonSerialisation.JArrayToRuntimeObjList(N.outputStream),this._currentFlow.currentChoices=m.JsonSerialisation.JArrayToRuntimeObjList(N.currentChoices),this._currentFlow.LoadFlowChoiceThreads(N.choiceThreads,this.story);this.OutputStreamDirty(),this.variablesState.SetJsonToken(N.variablesState),this.variablesState.callStack=this._currentFlow.callStack,this._evaluationStack=m.JsonSerialisation.JArrayToRuntimeObjList(N.evalStack);let o2=N.currentDivertTarget;if(null!=o2){let x2=new x.Path(o2.toString());this.divertedPointer=this.story.PointerAtPath(x2)}this._visitCounts=m.JsonSerialisation.JObjectToIntDictionary(N.visitCounts),this._turnIndices=m.JsonSerialisation.JObjectToIntDictionary(N.turnIndices),this.currentTurnIndex=parseInt(N.turnIdx),this.storySeed=parseInt(N.storySeed),this.previousRandom=parseInt(N.previousRandom)}ResetErrors(){this._currentErrors=null,this._currentWarnings=null}ResetOutput(h=null){this.outputStream.length=0,null!==h&&this.outputStream.push(...h),this.OutputStreamDirty()}PushToOutputStream(h){let N=e2.asOrNull(h,k.StringValue);if(null!==N){let B=this.TrySplittingHeadTailWhitespace(N);if(null!==B){for(let l2 of B)this.PushToOutputStreamIndividual(l2);return void this.OutputStreamDirty()}}this.PushToOutputStreamIndividual(h),this.OutputStreamDirty()}PopFromOutputStream(h){this.outputStream.splice(this.outputStream.length-h,h),this.OutputStreamDirty()}TrySplittingHeadTailWhitespace(h){let N=h.value;if(null===N)return W.throwNullException("single.value");let B=-1,l2=-1;for(let P=0;P<N.length;P++){let G=N[P];if("\n"!=G){if(" "==G||"\t"==G)continue;break}-1==B&&(B=P),l2=P}let o2=-1,x2=-1;for(let P=N.length-1;P>=0;P--){let G=N[P];if("\n"!=G){if(" "==G||"\t"==G)continue;break}-1==o2&&(o2=P),x2=P}if(-1==B&&-1==o2)return null;let g=[],_=0,E=N.length;if(-1!=B){if(B>0){let P=new k.StringValue(N.substring(0,B));g.push(P)}g.push(new k.StringValue("\n")),_=l2+1}if(-1!=o2&&(E=x2),E>_){let P=N.substring(_,E-_);g.push(new k.StringValue(P))}if(-1!=o2&&x2>l2&&(g.push(new k.StringValue("\n")),o2<N.length-1)){let G=new k.StringValue(N.substring(o2+1,N.length-o2-1));g.push(G)}return g}PushToOutputStreamIndividual(h){let N=e2.asOrNull(h,L.Glue),B=e2.asOrNull(h,k.StringValue),l2=!0;if(N)this.TrimNewlinesFromOutputStream(),l2=!0;else if(B){let o2=-1,x2=this.callStack.currentElement;x2.type==w.PushPopType.Function&&(o2=x2.functionStartInOutputStream);let g=-1;for(let E=this.outputStream.length-1;E>=0;E--){let P=this.outputStream[E],G=P instanceof z.ControlCommand?P:null;if(null!=(P instanceof L.Glue?P:null)){g=E;break}if(null!=G&&G.commandType==z.ControlCommand.CommandType.BeginString){E>=o2&&(o2=-1);break}}let _=-1;if(_=-1!=g&&-1!=o2?Math.min(o2,g):-1!=g?g:o2,-1!=_){if(B.isNewline)l2=!1;else if(B.isNonWhitespace&&(g>-1&&this.RemoveExistingGlue(),o2>-1)){let E=this.callStack.elements;for(let P=E.length-1;P>=0;P--){let G=E[P];if(G.type!=w.PushPopType.Function)break;G.functionStartInOutputStream=-1}}}else B.isNewline&&(this.outputStreamEndsInNewline||!this.outputStreamContainsContent)&&(l2=!1)}if(l2){if(null===h)return W.throwNullException("obj");this.outputStream.push(h),this.OutputStreamDirty()}}TrimNewlinesFromOutputStream(){let h=-1,N=this.outputStream.length-1;for(;N>=0;){let B=this.outputStream[N],l2=e2.asOrNull(B,z.ControlCommand),o2=e2.asOrNull(B,k.StringValue);if(null!=l2||null!=o2&&o2.isNonWhitespace)break;null!=o2&&o2.isNewline&&(h=N),N--}if(h>=0)for(N=h;N<this.outputStream.length;)e2.asOrNull(this.outputStream[N],k.StringValue)?this.outputStream.splice(N,1):N++;this.OutputStreamDirty()}RemoveExistingGlue(){for(let h=this.outputStream.length-1;h>=0;h--){let N=this.outputStream[h];if(N instanceof L.Glue)this.outputStream.splice(h,1);else if(N instanceof z.ControlCommand)break}this.OutputStreamDirty()}get outputStreamEndsInNewline(){if(this.outputStream.length>0)for(let h=this.outputStream.length-1;h>=0&&!(this.outputStream[h]instanceof z.ControlCommand);h--){let B=this.outputStream[h];if(B instanceof k.StringValue){if(B.isNewline)return!0;if(B.isNonWhitespace)break}}return!1}get outputStreamContainsContent(){for(let h of this.outputStream)if(h instanceof k.StringValue)return!0;return!1}get inStringEvaluation(){for(let h=this.outputStream.length-1;h>=0;h--){let N=e2.asOrNull(this.outputStream[h],z.ControlCommand);if(N instanceof z.ControlCommand&&N.commandType==z.ControlCommand.CommandType.BeginString)return!0}return!1}PushEvaluationStack(h){let N=e2.asOrNull(h,k.ListValue);if(N){let B=N.value;if(null===B)return W.throwNullException("rawList");if(null!=B.originNames){B.origins||(B.origins=[]),B.origins.length=0;for(let l2 of B.originNames){if(null===this.story.listDefinitions)return W.throwNullException("StoryState.story.listDefinitions");let o2=this.story.listDefinitions.TryListGetDefinition(l2,null);if(null===o2.result)return W.throwNullException("StoryState def.result");B.origins.indexOf(o2.result)<0&&B.origins.push(o2.result)}}}if(null===h)return W.throwNullException("obj");this.evaluationStack.push(h)}PopEvaluationStack(h){if(typeof h>"u"){let N=this.evaluationStack.pop();return e2.nullIfUndefined(N)}{if(h>this.evaluationStack.length)throw new Error("trying to pop too many objects");let N=this.evaluationStack.splice(this.evaluationStack.length-h,h);return e2.nullIfUndefined(N)}}PeekEvaluationStack(){return this.evaluationStack[this.evaluationStack.length-1]}ForceEnd(){this.callStack.Reset(),this._currentFlow.currentChoices.length=0,this.currentPointer=p.Pointer.Null,this.previousPointer=p.Pointer.Null,this.didSafeExit=!0}TrimWhitespaceFromFunctionEnd(){n2.Debug.Assert(this.callStack.currentElement.type==w.PushPopType.Function);let h=this.callStack.currentElement.functionStartInOutputStream;-1==h&&(h=0);for(let N=this.outputStream.length-1;N>=h;N--){let B=this.outputStream[N],l2=e2.asOrNull(B,k.StringValue),o2=e2.asOrNull(B,z.ControlCommand);if(null!=l2){if(o2)break;if(!l2.isNewline&&!l2.isInlineWhitespace)break;this.outputStream.splice(N,1),this.OutputStreamDirty()}}}PopCallStack(h=null){this.callStack.currentElement.type==w.PushPopType.Function&&this.TrimWhitespaceFromFunctionEnd(),this.callStack.Pop(h)}SetChosenPath(h,N){this._currentFlow.currentChoices.length=0;let B=this.story.PointerAtPath(h);!B.isNull&&-1==B.index&&(B.index=0),this.currentPointer=B,N&&this.currentTurnIndex++}StartFunctionEvaluationFromGame(h,N){this.callStack.Push(w.PushPopType.FunctionEvaluationFromGame,this.evaluationStack.length),this.callStack.currentElement.currentPointer=p.Pointer.StartOf(h),this.PassArgumentsToEvaluationStack(N)}PassArgumentsToEvaluationStack(h){if(null!==h)for(let N=0;N<h.length;N++){if("number"!=typeof h[N]&&"string"!=typeof h[N]||h[N]instanceof A.InkList)throw new Error((e2.nullIfUndefined(arguments[N]),"null"));this.PushEvaluationStack(k.Value.Create(h[N]))}}TryExitFunctionEvaluationFromGame(){return this.callStack.currentElement.type==w.PushPopType.FunctionEvaluationFromGame&&(this.currentPointer=p.Pointer.Null,this.didSafeExit=!0,!0)}CompleteFunctionEvaluationFromGame(){if(this.callStack.currentElement.type!=w.PushPopType.FunctionEvaluationFromGame)throw new Error("Expected external function evaluation to be complete. Stack trace: "+this.callStack.callStackTrace);let h=this.callStack.currentElement.evaluationStackHeightWhenPushed,N=null;for(;this.evaluationStack.length>h;){let B=this.PopEvaluationStack();null===N&&(N=B)}if(this.PopCallStack(w.PushPopType.FunctionEvaluationFromGame),N){if(N instanceof f.Void)return null;let B=e2.asOrThrows(N,k.Value);return B.valueType==k.ValueType.DivertTarget?B.valueObject.toString():B.valueObject}return null}AddError(h,N){N?(null==this._currentWarnings&&(this._currentWarnings=[]),this._currentWarnings.push(h)):(null==this._currentErrors&&(this._currentErrors=[]),this._currentErrors.push(h))}OutputStreamDirty(){this._outputStreamTextDirty=!0,this._outputStreamTagsDirty=!0}}b.StoryState=O},981:(A2,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.StringBuilder=void 0,b.StringBuilder=class S{constructor(y){y=typeof y<"u"?y.toString():"",this.string=y}get Length(){return this.string.length}Append(y){null!==y&&(this.string+=y)}AppendLine(y){typeof y<"u"&&this.Append(y),this.string+="\n"}AppendFormat(y,...k){this.string+=y.replace(/{(\d+)}/g,(w,V)=>typeof k[V]<"u"?k[V]:w)}toString(){return this.string}}},714:(A2,b,S)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.Tag=void 0;const v=S(790);b.Tag=class y extends v.InkObject{constructor(w){super(),this.text=w.toString()||""}toString(){return"# "+this.text}}},216:(A2,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.tryParseFloat=b.tryParseInt=b.tryGetValueFromMap=void 0,b.tryGetValueFromMap=function S(k,w,V){if(null===k)return{result:V,exists:!1};let L=k.get(w);return typeof L>"u"?{result:V,exists:!1}:{result:L,exists:!0}},b.tryParseInt=function v(k,w=0){let V=parseInt(k);return Number.isNaN(V)?{result:w,exists:!1}:{result:V,exists:!0}},b.tryParseFloat=function y(k,w=0){let V=parseFloat(k);return Number.isNaN(V)?{result:w,exists:!1}:{result:V,exists:!0}}},475:(A2,b)=>{function x(H,m){return H}Object.defineProperty(b,"__esModule",{value:!0}),b.filterUndef=b.isEquatable=b.nullIfUndefined=b.asINamedContentOrNull=b.asBooleanOrThrows=b.asNumberOrThrows=b.asOrThrows=b.asOrNull=void 0,b.asOrNull=function S(H,m){return H instanceof m?x(H):null},b.asOrThrows=function v(H,m){if(H instanceof m)return x(H);throw new Error(`${H} is not of type ${m}`)},b.asNumberOrThrows=function y(H){if("number"==typeof H)return H;throw new Error(`${H} is not a number`)},b.asBooleanOrThrows=function k(H){if("boolean"==typeof H)return H;throw new Error(`${H} is not a boolean`)},b.asINamedContentOrNull=function w(H){return H.hasValidName&&H.name?H:null},b.nullIfUndefined=function V(H){return typeof H>"u"?null:H},b.isEquatable=function L(H){return"object"==typeof H&&"function"==typeof H.Equals},b.filterUndef=function z(H){return null!=H}},353:(A2,b,S)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.ValueType=b.ListValue=b.VariablePointerValue=b.DivertTargetValue=b.StringValue=b.FloatValue=b.IntValue=b.BoolValue=b.Value=b.AbstractValue=void 0;const v=S(790),y=S(0),k=S(295),w=S(842),V=S(475),L=S(216),x=S(523);class z extends v.InkObject{static Create(U,p2){if(p2){if(p2===W.Int&&Number.isInteger(Number(U)))return new T(Number(U));if(p2===W.Float&&!isNaN(U))return new f(Number(U))}return"boolean"==typeof U?new m(Boolean(U)):"string"==typeof U?new p(String(U)):Number.isInteger(Number(U))?new T(Number(U)):isNaN(U)?U instanceof y.Path?new j(V.asOrThrows(U,y.Path)):U instanceof k.InkList?new n2(V.asOrThrows(U,k.InkList)):null:new f(Number(U))}Copy(){return V.asOrThrows(z.Create(this.valueObject),v.InkObject)}BadCastException(U){return new w.StoryException("Can't cast "+this.valueObject+" from "+this.valueType+" to "+U)}}b.AbstractValue=z;class H extends z{constructor(U){super(),this.value=U}get valueObject(){return this.value}toString(){return null===this.value?x.throwNullException("Value.value"):this.value.toString()}}b.Value=H;class m extends H{constructor(U){super(U||!1)}get isTruthy(){return Boolean(this.value)}get valueType(){return W.Bool}Cast(U){if(null===this.value)return x.throwNullException("Value.value");if(U==this.valueType)return this;if(U==W.Int)return new T(this.value?1:0);if(U==W.Float)return new f(this.value?1:0);if(U==W.String)return new p(this.value?"true":"false");throw this.BadCastException(U)}toString(){return this.value?"true":"false"}}b.BoolValue=m;class T extends H{constructor(U){super(U||0)}get isTruthy(){return 0!=this.value}get valueType(){return W.Int}Cast(U){if(null===this.value)return x.throwNullException("Value.value");if(U==this.valueType)return this;if(U==W.Bool)return new m(0!==this.value);if(U==W.Float)return new f(this.value);if(U==W.String)return new p(""+this.value);throw this.BadCastException(U)}}b.IntValue=T;class f extends H{constructor(U){super(U||0)}get isTruthy(){return 0!=this.value}get valueType(){return W.Float}Cast(U){if(null===this.value)return x.throwNullException("Value.value");if(U==this.valueType)return this;if(U==W.Bool)return new m(0!==this.value);if(U==W.Int)return new T(this.value);if(U==W.String)return new p(""+this.value);throw this.BadCastException(U)}}b.FloatValue=f;class p extends H{constructor(U){if(super(U||""),this._isNewline="\n"==this.value,this._isInlineWhitespace=!0,null===this.value)return x.throwNullException("Value.value");this.value.length>0&&this.value.split("").every(p2=>" "==p2||"\t"==p2||(this._isInlineWhitespace=!1,!1))}get valueType(){return W.String}get isTruthy(){return null===this.value?x.throwNullException("Value.value"):this.value.length>0}get isNewline(){return this._isNewline}get isInlineWhitespace(){return this._isInlineWhitespace}get isNonWhitespace(){return!this.isNewline&&!this.isInlineWhitespace}Cast(U){if(U==this.valueType)return this;if(U==W.Int){let p2=L.tryParseInt(this.value);if(p2.exists)return new T(p2.result);throw this.BadCastException(U)}if(U==W.Float){let p2=L.tryParseFloat(this.value);if(p2.exists)return new f(p2.result);throw this.BadCastException(U)}throw this.BadCastException(U)}}b.StringValue=p;class j extends H{constructor(U=null){super(U)}get valueType(){return W.DivertTarget}get targetPath(){return null===this.value?x.throwNullException("Value.value"):this.value}set targetPath(U){this.value=U}get isTruthy(){throw new Error("Shouldn't be checking the truthiness of a divert target")}Cast(U){if(U==this.valueType)return this;throw this.BadCastException(U)}toString(){return"DivertTargetValue("+this.targetPath+")"}}b.DivertTargetValue=j;class e2 extends H{constructor(U,p2=-1){super(U),this._contextIndex=p2}get contextIndex(){return this._contextIndex}set contextIndex(U){this._contextIndex=U}get variableName(){return null===this.value?x.throwNullException("Value.value"):this.value}set variableName(U){this.value=U}get valueType(){return W.VariablePointer}get isTruthy(){throw new Error("Shouldn't be checking the truthiness of a variable pointer")}Cast(U){if(U==this.valueType)return this;throw this.BadCastException(U)}toString(){return"VariablePointerValue("+this.variableName+")"}Copy(){return new e2(this.variableName,this.contextIndex)}}b.VariablePointerValue=e2;class n2 extends H{get isTruthy(){return null===this.value?x.throwNullException("this.value"):this.value.Count>0}get valueType(){return W.List}Cast(U){if(null===this.value)return x.throwNullException("Value.value");if(U==W.Int){let p2=this.value.maxItem;return new T(p2.Key.isNull?0:p2.Value)}if(U==W.Float){let p2=this.value.maxItem;return new f(p2.Key.isNull?0:p2.Value)}if(U==W.String){let p2=this.value.maxItem;return new p(p2.Key.isNull?"":p2.Key.toString())}if(U==this.valueType)return this;throw this.BadCastException(U)}constructor(U,p2){super(null),U||p2?U instanceof k.InkList?this.value=new k.InkList(U):U instanceof k.InkListItem&&"number"==typeof p2&&(this.value=new k.InkList({Key:U,Value:p2})):this.value=new k.InkList}static RetainListOriginsForAssignment(U,p2){let y2=V.asOrNull(U,n2),A=V.asOrNull(p2,n2);return A&&null===A.value?x.throwNullException("newList.value"):y2&&null===y2.value?x.throwNullException("oldList.value"):void(y2&&A&&0==A.value.Count&&A.value.SetInitialOriginNames(y2.value.originNames))}}var W,t2;b.ListValue=n2,(t2=W=b.ValueType||(b.ValueType={}))[t2.Bool=-1]="Bool",t2[t2.Int=0]="Int",t2[t2.Float=1]="Float",t2[t2.List=2]="List",t2[t2.String=3]="String",t2[t2.DivertTarget=4]="DivertTarget",t2[t2.VariablePointer=5]="VariablePointer"},759:(A2,b,S)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.VariableAssignment=void 0;const v=S(790);b.VariableAssignment=class y extends v.InkObject{constructor(w,V){super(),this.variableName=w||null,this.isNewDeclaration=!!V,this.isGlobal=!1}toString(){return"VarAssign to "+this.variableName}}},446:(A2,b,S)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.VariableReference=void 0;const v=S(790),y=S(0);b.VariableReference=class k extends v.InkObject{constructor(V=null){super(),this.pathForCount=null,this.name=V}get containerForCount(){return null===this.pathForCount?null:this.ResolvePath(this.pathForCount).container}get pathStringForCount(){return null===this.pathForCount?null:this.CompactPathString(this.pathForCount)}set pathStringForCount(V){this.pathForCount=null===V?null:new y.Path(V)}toString(){return null!=this.name?"var("+this.name+")":"read_count("+this.pathStringForCount+")"}}},833:(A2,b,S)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.VariablesState=void 0;const v=S(353),y=S(842),k=S(90),w=S(475),V=S(216),L=S(523);class x{constructor(H,m){this.variableChangedEventCallbacks=[],this.patch=null,this._batchObservingVariableChanges=!1,this._defaultGlobalVariables=new Map,this._changedVariablesForBatchObs=new Set,this._globalVariables=new Map,this._callStack=H,this._listDefsOrigin=m;try{return new Proxy(this,{get:(f,p)=>p in f?f[p]:f.$(p),set:(f,p,j)=>(p in f?f[p]=j:f.$(p,j),!0)})}catch{}}variableChangedEvent(H,m){for(let T of this.variableChangedEventCallbacks)T(H,m)}get batchObservingVariableChanges(){return this._batchObservingVariableChanges}set batchObservingVariableChanges(H){if(this._batchObservingVariableChanges=H,H)this._changedVariablesForBatchObs=new Set;else if(null!=this._changedVariablesForBatchObs){for(let m of this._changedVariablesForBatchObs){let T=this._globalVariables.get(m);T?this.variableChangedEvent(m,T):L.throwNullException("currentValue")}this._changedVariablesForBatchObs=null}}get callStack(){return this._callStack}set callStack(H){this._callStack=H}$(H,m){if(typeof m>"u"){let T=null;return null!==this.patch&&(T=this.patch.TryGetGlobal(H,null),T.exists)?T.result.valueObject:(T=this._globalVariables.get(H),typeof T>"u"&&(T=this._defaultGlobalVariables.get(H)),typeof T<"u"?T.valueObject:null)}{if(typeof this._defaultGlobalVariables.get(H)>"u")throw new y.StoryException("Cannot assign to a variable ("+H+") that hasn't been declared in the story");let T=v.Value.Create(m);if(null==T)throw null==m?new Error("Cannot pass null to VariableState"):new Error("Invalid value passed to VariableState: "+m.toString());this.SetGlobal(H,T)}}ApplyPatch(){if(null===this.patch)return L.throwNullException("this.patch");for(let[H,m]of this.patch.globals)this._globalVariables.set(H,m);if(null!==this._changedVariablesForBatchObs)for(let H of this.patch.changedVariables)this._changedVariablesForBatchObs.add(H);this.patch=null}SetJsonToken(H){this._globalVariables.clear();for(let[m,T]of this._defaultGlobalVariables){let f=H[m];if(typeof f<"u"){let p=k.JsonSerialisation.JTokenToRuntimeObject(f);if(null===p)return L.throwNullException("tokenInkObject");this._globalVariables.set(m,p)}else this._globalVariables.set(m,T)}}WriteJson(H){H.WriteObjectStart();for(let[m,T]of this._globalVariables){let f=m,p=T;if(x.dontSaveDefaultValues&&this._defaultGlobalVariables.has(f)){let j=this._defaultGlobalVariables.get(f);if(this.RuntimeObjectsEqual(p,j))continue}H.WritePropertyStart(f),k.JsonSerialisation.WriteRuntimeObject(H,p),H.WritePropertyEnd()}H.WriteObjectEnd()}RuntimeObjectsEqual(H,m){if(null===H)return L.throwNullException("obj1");if(null===m)return L.throwNullException("obj2");if(H.constructor!==m.constructor)return!1;let T=w.asOrNull(H,v.BoolValue);if(null!==T)return T.value===w.asOrThrows(m,v.BoolValue).value;let f=w.asOrNull(H,v.IntValue);if(null!==f)return f.value===w.asOrThrows(m,v.IntValue).value;let p=w.asOrNull(H,v.FloatValue);if(null!==p)return p.value===w.asOrThrows(m,v.FloatValue).value;let j=w.asOrNull(H,v.Value),e2=w.asOrNull(m,v.Value);if(null!==j&&null!==e2)return w.isEquatable(j.valueObject)&&w.isEquatable(e2.valueObject)?j.valueObject.Equals(e2.valueObject):j.valueObject===e2.valueObject;throw new Error("FastRoughDefinitelyEquals: Unsupported runtime object type: "+H.constructor.name)}GetVariableWithName(H,m=-1){let T=this.GetRawVariableWithName(H,m),f=w.asOrNull(T,v.VariablePointerValue);return null!==f&&(T=this.ValueAtVariablePointer(f)),T}TryGetDefaultVariableValue(H){let m=V.tryGetValueFromMap(this._defaultGlobalVariables,H,null);return m.exists?m.result:null}GlobalVariableExistsWithName(H){return this._globalVariables.has(H)||null!==this._defaultGlobalVariables&&this._defaultGlobalVariables.has(H)}GetRawVariableWithName(H,m){let T=null;if(0==m||-1==m){let f=null;if(null!==this.patch&&(f=this.patch.TryGetGlobal(H,null),f.exists)||(f=V.tryGetValueFromMap(this._globalVariables,H,null),f.exists)||null!==this._defaultGlobalVariables&&(f=V.tryGetValueFromMap(this._defaultGlobalVariables,H,null),f.exists))return f.result;if(null===this._listDefsOrigin)return L.throwNullException("VariablesState._listDefsOrigin");let p=this._listDefsOrigin.FindSingleItemListWithName(H);if(p)return p}return T=this._callStack.GetTemporaryVariableWithName(H,m),T}ValueAtVariablePointer(H){return this.GetVariableWithName(H.variableName,H.contextIndex)}Assign(H,m){let T=H.variableName;if(null===T)return L.throwNullException("name");let f=-1,p=!1;if(p=H.isNewDeclaration?H.isGlobal:this.GlobalVariableExistsWithName(T),H.isNewDeclaration){let j=w.asOrNull(m,v.VariablePointerValue);null!==j&&(m=this.ResolveVariablePointer(j))}else{let j=null;do{j=w.asOrNull(this.GetRawVariableWithName(T,f),v.VariablePointerValue),null!=j&&(T=j.variableName,f=j.contextIndex,p=0==f)}while(null!=j)}p?this.SetGlobal(T,m):this._callStack.SetTemporaryVariable(T,m,H.isNewDeclaration,f)}SnapshotDefaultGlobals(){this._defaultGlobalVariables=new Map(this._globalVariables)}RetainListOriginsForAssignment(H,m){let T=w.asOrThrows(H,v.ListValue),f=w.asOrThrows(m,v.ListValue);T.value&&f.value&&0==f.value.Count&&f.value.SetInitialOriginNames(T.value.originNames)}SetGlobal(H,m){let T=null;if(null===this.patch&&(T=V.tryGetValueFromMap(this._globalVariables,H,null)),null!==this.patch&&(T=this.patch.TryGetGlobal(H,null),T.exists||(T=V.tryGetValueFromMap(this._globalVariables,H,null))),v.ListValue.RetainListOriginsForAssignment(T.result,m),null===H)return L.throwNullException("variableName");if(null!==this.patch?this.patch.SetGlobal(H,m):this._globalVariables.set(H,m),null!==this.variableChangedEvent&&null!==T&&m!==T.result)if(this.batchObservingVariableChanges){if(null===this._changedVariablesForBatchObs)return L.throwNullException("this._changedVariablesForBatchObs");null!==this.patch?this.patch.AddChangedVariable(H):null!==this._changedVariablesForBatchObs&&this._changedVariablesForBatchObs.add(H)}else this.variableChangedEvent(H,m)}ResolveVariablePointer(H){let m=H.contextIndex;-1==m&&(m=this.GetContextIndexOfVariableNamed(H.variableName));let T=this.GetRawVariableWithName(H.variableName,m);return w.asOrNull(T,v.VariablePointerValue)??new v.VariablePointerValue(H.variableName,m)}GetContextIndexOfVariableNamed(H){return this.GlobalVariableExistsWithName(H)?0:this._callStack.currentElementIndex}ObserveVariableChange(H){this.variableChangedEventCallbacks.push(H)}}b.VariablesState=x,x.dontSaveDefaultValues=!0},520:(A2,b,S)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.Void=void 0;const v=S(790);b.Void=class y extends v.InkObject{}},556:(A2,b,S)=>{function v(e){return"function"==typeof e}function y(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const k=y(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function w(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class V{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const a of n)a.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(v(r))try{r()}catch(a){t=a instanceof k?a.errors:[a]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const a of i)try{z(a)}catch(o){t=t??[],o instanceof k?t=[...t,...o.errors]:t.push(o)}}if(t)throw new k(t)}}add(t){var n;if(t&&t!==this)if(this.closed)z(t);else{if(t instanceof V){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&w(n,t)}remove(t){const{_finalizers:n}=this;n&&w(n,t),t instanceof V&&t._removeParent(this)}}V.EMPTY=(()=>{const e=new V;return e.closed=!0,e})();const L=V.EMPTY;function x(e){return e instanceof V||e&&"closed"in e&&v(e.remove)&&v(e.add)&&v(e.unsubscribe)}function z(e){v(e)?e():e.unsubscribe()}const H={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},m={setTimeout(e,t,...n){const{delegate:r}=m;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=m;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function T(e){m.setTimeout(()=>{const{onUnhandledError:t}=H;if(!t)throw e;t(e)})}function f(){}const p=n2("C",void 0,void 0);function n2(e,t,n){return{kind:e,value:t,error:n}}let W=null;function t2(e){if(H.useDeprecatedSynchronousErrorHandling){const t=!W;if(t&&(W={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=W;if(W=null,n)throw r}}else e()}class p2 extends V{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,x(t)&&t.add(this)):this.destination=l2}static create(t,n,r){return new R(t,n,r)}next(t){this.isStopped?B(function e2(e){return n2("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?B(function j(e){return n2("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?B(p,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const y2=Function.prototype.bind;function A(e,t){return y2.call(e,t)}class O{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){h(r)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){h(r)}else h(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){h(n)}}}class R extends p2{constructor(t,n,r){let i;if(super(),v(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let a;this&&H.useDeprecatedNextContext?(a=Object.create(t),a.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&A(t.next,a),error:t.error&&A(t.error,a),complete:t.complete&&A(t.complete,a)}):i=t}this.destination=new O(i)}}function h(e){H.useDeprecatedSynchronousErrorHandling?function U(e){H.useDeprecatedSynchronousErrorHandling&&W&&(W.errorThrown=!0,W.error=e)}(e):T(e)}function B(e,t){const{onStoppedNotification:n}=H;n&&m.setTimeout(()=>n(e,t))}const l2={closed:!0,next:f,error:function N(e){throw e},complete:f},o2="function"==typeof Symbol&&Symbol.observable||"@@observable";function x2(e){return e}function g(...e){return _(e)}function _(e){return 0===e.length?x2:1===e.length?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}let E=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){const a=function m2(e){return e&&e instanceof p2||function G(e){return e&&v(e.next)&&v(e.error)&&v(e.complete)}(e)&&x(e)}(n)?n:new R(n,r,i);return t2(()=>{const{operator:o,source:s}=this;a.add(o?o.call(a,s):s?this._subscribe(a):this._trySubscribe(a))}),a}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=P(r))((i,a)=>{const o=new R({next:s=>{try{n(s)}catch(c){a(c),o.unsubscribe()}},error:a,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[o2](){return this}pipe(...n){return _(n)(this)}toPromise(n){return new(n=P(n))((r,i)=>{let a;this.subscribe(o=>a=o,o=>i(o),()=>r(a))})}}return e.create=t=>new e(t),e})();function P(e){var t;return null!==(t=e??H.Promise)&&void 0!==t?t:Promise}const T2=y(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let k2=(()=>{class e extends E{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new w1(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new T2}next(n){t2(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){t2(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){t2(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:a}=this;return r||i?L:(this.currentObservers=null,a.push(n),new V(()=>{this.currentObservers=null,w(a,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:a}=this;r?n.error(i):a&&n.complete()}asObservable(){const n=new E;return n.source=this,n}}return e.create=(t,n)=>new w1(t,n),e})();class w1 extends k2{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:L}}function c1(e){return t=>{if(function I3(e){return v(e?.lift)}(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function I2(e,t,n,r,i){return new C1(e,t,n,r,i)}class C1 extends p2{constructor(t,n,r,i,a,o){super(t),this.onFinalize=a,this.shouldUnsubscribe=o,this._next=n?function(s){try{n(s)}catch(c){t.error(c)}}:super._next,this._error=i?function(s){try{i(s)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(s){t.error(s)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function x1(e,t){return c1((n,r)=>{let i=0;n.subscribe(I2(r,a=>{r.next(e.call(t,a,i++))}))})}function O3(e){return this instanceof O3?(this.v=e,this):new O3(e)}function A5(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(e,t||[]),a=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(d){r[d]&&(i[d]=function(M){return new Promise(function(D,I){a.push([d,M,D,I])>1||s(d,M)})})}function s(d,M){try{!function c(d){d.value instanceof O3?Promise.resolve(d.value.v).then(l,C):u(a[0][2],d)}(r[d](M))}catch(D){u(a[0][3],D)}}function l(d){s("next",d)}function C(d){s("throw",d)}function u(d,M){d(M),a.shift(),a.length&&s(a[0][0],a[0][1])}}function T5(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function S1(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=e[a]&&function(o){return new Promise(function(s,c){!function i(a,o,s,c){Promise.resolve(c).then(function(l){a({value:l,done:s})},o)}(s,c,(o=e[a](o)).done,o.value)})}}}const m0=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function E9(e){return v(e?.then)}function A9(e){return v(e[o2])}function T9(e){return Symbol.asyncIterator&&v(e?.[Symbol.asyncIterator])}function P9(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const k9=function FV(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function I9(e){return v(e?.[k9])}function O9(e){return A5(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:i}=yield O3(n.read());if(i)return yield O3(void 0);yield yield O3(r)}}finally{n.releaseLock()}})}function F9(e){return v(e?.getReader)}function y3(e){if(e instanceof E)return e;if(null!=e){if(A9(e))return function RV(e){return new E(t=>{const n=e[o2]();if(v(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(m0(e))return function BV(e){return new E(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(E9(e))return function jV(e){return new E(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,T)})}(e);if(T9(e))return R9(e);if(I9(e))return function WV(e){return new E(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(F9(e))return function UV(e){return R9(O9(e))}(e)}throw P9(e)}function R9(e){return new E(t=>{(function GV(e,t){var n,r,i,a;return function l6(e,t,n,r){return new(n||(n=Promise))(function(a,o){function s(C){try{l(r.next(C))}catch(u){o(u)}}function c(C){try{l(r.throw(C))}catch(u){o(u)}}function l(C){C.done?a(C.value):function i(a){return a instanceof n?a:new n(function(o){o(a)})}(C.value).then(s,c)}l((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=T5(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(a=n.return)&&(yield a.call(n))}finally{if(i)throw i.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function L4(e,t,n,r=0,i=!1){const a=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(a),!i)return a}function g0(e,t,n=1/0){return v(t)?g0((r,i)=>x1((a,o)=>t(r,a,i,o))(y3(e(r,i))),n):("number"==typeof t&&(n=t),c1((r,i)=>function $V(e,t,n,r,i,a,o,s){const c=[];let l=0,C=0,u=!1;const d=()=>{u&&!c.length&&!l&&t.complete()},M=I=>l<r?D(I):c.push(I),D=I=>{a&&t.next(I),l++;let K=!1;y3(n(I,C++)).subscribe(I2(t,Z=>{i?.(Z),a?M(Z):t.next(Z)},()=>{K=!0},void 0,()=>{if(K)try{for(l--;c.length&&l<r;){const Z=c.shift();o?L4(t,o,()=>D(Z)):D(Z)}d()}catch(Z){t.error(Z)}}))};return e.subscribe(I2(t,M,()=>{u=!0,d()})),()=>{s?.()}}(r,i,e,n)))}const v0=new E(e=>e.complete());function M0(e){return e[e.length-1]}function B9(e){return function YV(e){return e&&v(e.schedule)}(M0(e))?e.pop():void 0}function j9(e,t=0){return c1((n,r)=>{n.subscribe(I2(r,i=>L4(r,e,()=>r.next(i),t),()=>L4(r,e,()=>r.complete(),t),i=>L4(r,e,()=>r.error(i),t)))})}function W9(e,t=0){return c1((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function U9(e,t){if(!e)throw new Error("Iterable cannot be null");return new E(n=>{L4(n,t,()=>{const r=e[Symbol.asyncIterator]();L4(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function P5(e,t){return t?function ry(e,t){if(null!=e){if(A9(e))return function ZV(e,t){return y3(e).pipe(W9(t),j9(t))}(e,t);if(m0(e))return function ey(e,t){return new E(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(E9(e))return function XV(e,t){return y3(e).pipe(W9(t),j9(t))}(e,t);if(T9(e))return U9(e,t);if(I9(e))return function ty(e,t){return new E(n=>{let r;return L4(n,t,()=>{r=e[k9](),L4(n,t,()=>{let i,a;try{({value:i,done:a}=r.next())}catch(o){return void n.error(o)}a?n.complete():n.next(i)},0,!0)}),()=>v(r?.return)&&r.return()})}(e,t);if(F9(e))return function ny(e,t){return U9(O9(e),t)}(e,t)}throw P9(e)}(e,t):y3(e)}function L0(...e){const t=B9(e),n=function JV(e,t){return"number"==typeof M0(e)?e.pop():t}(e,1/0),r=e;return r.length?1===r.length?y3(r[0]):function qV(e=1/0){return g0(x2,e)}(n)(P5(r,t)):v0}function V0(e={}){const{connector:t=(()=>new k2),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return a=>{let o,s,c,l=0,C=!1,u=!1;const d=()=>{s?.unsubscribe(),s=void 0},M=()=>{d(),o=c=void 0,C=u=!1},D=()=>{const I=o;M(),I?.unsubscribe()};return c1((I,K)=>{l++,!u&&!C&&d();const Z=c=c??t();K.add(()=>{l--,0===l&&!u&&!C&&(s=y0(D,i))}),Z.subscribe(K),!o&&l>0&&(o=new R({next:r2=>Z.next(r2),error:r2=>{u=!0,d(),s=y0(M,n,r2),Z.error(r2)},complete:()=>{C=!0,d(),s=y0(M,r),Z.complete()}}),y3(I).subscribe(o))})(a)}}function y0(e,t,...n){if(!0===t)return void e();if(!1===t)return;const r=new R({next:()=>{r.unsubscribe(),e()}});return t(...n).subscribe(r)}function Z2(e){for(let t in e)if(e[t]===Z2)return t;throw Error("Could not find renamed property on target object.")}function H0(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function X2(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(X2).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function z0(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const iy=Z2({__forward_ref__:Z2});function e1(e){return e.__forward_ref__=e1,e.toString=function(){return X2(this())},e}function V2(e){return S0(e)?e():e}function S0(e){return"function"==typeof e&&e.hasOwnProperty(iy)&&e.__forward_ref__===e1}class f2 extends Error{constructor(t,n){super(function k5(e,t){return`NG0${Math.abs(e)}${t?": "+t.trim():""}`}(t,n)),this.code=t}}function b2(e){return"string"==typeof e?e:null==e?"":String(e)}function I5(e,t){throw new f2(-201,!1)}function J1(e,t){null==e&&function Y2(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function B2(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Z1(e){return{providers:e.providers||[],imports:e.imports||[]}}function b0(e){return G9(e,O5)||G9(e,q9)}function G9(e,t){return e.hasOwnProperty(t)?e[t]:null}function $9(e){return e&&(e.hasOwnProperty(_0)||e.hasOwnProperty(fy))?e[_0]:null}const O5=Z2({\u0275prov:Z2}),_0=Z2({\u0275inj:Z2}),q9=Z2({ngInjectableDef:Z2}),fy=Z2({ngInjectorDef:Z2});var H2=(()=>((H2=H2||{})[H2.Default=0]="Default",H2[H2.Host=1]="Host",H2[H2.Self=2]="Self",H2[H2.SkipSelf=4]="SkipSelf",H2[H2.Optional=8]="Optional",H2))();let w0;function u3(e){const t=w0;return w0=e,t}function K9(e,t,n){const r=b0(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&H2.Optional?null:void 0!==t?t:void I5(X2(e))}function V4(e){return{toString:e}.toString()}var H3=(()=>((H3=H3||{})[H3.OnPush=0]="OnPush",H3[H3.Default=1]="Default",H3))(),F3=(()=>{return(e=F3||(F3={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",F3;var e})();const J2=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Ce={},K2=[],F5=Z2({\u0275cmp:Z2}),x0=Z2({\u0275dir:Z2}),D0=Z2({\u0275pipe:Z2}),Y9=Z2({\u0275mod:Z2}),t4=Z2({\u0275fac:Z2}),f6=Z2({__NG_ELEMENT_ID__:Z2});let hy=0;function p1(e){return V4(()=>{const n=!0===e.standalone,r={},i={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===H3.OnPush,directiveDefs:null,pipeDefs:null,standalone:n,dependencies:n&&e.dependencies||null,getStandaloneInjector:null,selectors:e.selectors||K2,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||F3.Emulated,id:"c"+hy++,styles:e.styles||K2,_:null,setInput:null,schemas:e.schemas||null,tView:null},a=e.dependencies,o=e.features;return i.inputs=Z9(e.inputs,r),i.outputs=Z9(e.outputs),o&&o.forEach(s=>s(i)),i.directiveDefs=a?()=>("function"==typeof a?a():a).map(Q9).filter(J9):null,i.pipeDefs=a?()=>("function"==typeof a?a():a).map(k1).filter(J9):null,i})}function Q9(e){return Q2(e)||P1(e)}function J9(e){return null!==e}function f3(e){return V4(()=>({type:e.type,bootstrap:e.bootstrap||K2,declarations:e.declarations||K2,imports:e.imports||K2,exports:e.exports||K2,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Z9(e,t){if(null==e)return Ce;const n={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],a=i;Array.isArray(i)&&(a=i[1],i=i[0]),n[i]=r,t&&(t[i]=a)}return n}const z2=p1;function $1(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function Q2(e){return e[F5]||null}function P1(e){return e[x0]||null}function k1(e){return e[D0]||null}function q1(e){return Array.isArray(e)&&"object"==typeof e[1]}function S3(e){return Array.isArray(e)&&!0===e[1]}function A0(e){return 0!=(8&e.flags)}function W5(e){return 2==(2&e.flags)}function U5(e){return 1==(1&e.flags)}function b3(e){return null!==e.template}function Ly(e){return 0!=(256&e[2])}function U4(e,t){return e.hasOwnProperty(t4)?e[t4]:null}class Hy{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function t3(){return ta}function ta(e){return e.type.prototype.ngOnChanges&&(e.setInput=Sy),zy}function zy(){const e=ra(this),t=e?.current;if(t){const n=e.previous;if(n===Ce)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function Sy(e,t,n,r){const i=ra(e)||function by(e,t){return e[na]=t}(e,{previous:Ce,current:null}),a=i.current||(i.current={}),o=i.previous,s=this.declaredInputs[n],c=o[s];a[s]=new Hy(c&&c.currentValue,t,o===Ce),e[r]=t}t3.ngInherit=!0;const na="__ngSimpleChanges__";function ra(e){return e[na]||null}function g1(e){for(;Array.isArray(e);)e=e[0];return e}function G5(e,t){return g1(t[e])}function p3(e,t){return g1(t[e.index])}function O0(e,t){return e.data[t]}function pe(e,t){return e[t]}function n3(e,t){const n=t[e];return q1(n)?n:n[0]}function ia(e){return 4==(4&e[2])}function $5(e){return 64==(64&e[2])}function y4(e,t){return null==t?null:e[t]}function aa(e){e[18]=0}function F0(e,t){e[5]+=t;let n=e,r=e[3];for(;null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}const S2={lFrame:ha(null),bindingsEnabled:!0};function sa(){return S2.bindingsEnabled}function Y(){return S2.lFrame.lView}function j2(){return S2.lFrame.tView}function I1(e){return S2.lFrame.contextLView=e,e[8]}function O1(e){return S2.lFrame.contextLView=null,e}function L1(){let e=ca();for(;null!==e&&64===e.type;)e=e.parent;return e}function ca(){return S2.lFrame.currentTNode}function R3(e,t){const n=S2.lFrame;n.currentTNode=e,n.isParent=t}function R0(){return S2.lFrame.isParent}function B0(){S2.lFrame.isParent=!1}function F1(){const e=S2.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function me(){return S2.lFrame.bindingIndex++}function r4(e){const t=S2.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function Ry(e,t){const n=S2.lFrame;n.bindingIndex=n.bindingRootIndex=e,j0(t)}function j0(e){S2.lFrame.currentDirectiveIndex=e}function ua(){return S2.lFrame.currentQueryIndex}function U0(e){S2.lFrame.currentQueryIndex=e}function jy(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function fa(e,t,n){if(n&H2.SkipSelf){let i=t,a=e;for(;!(i=i.parent,null!==i||n&H2.Host||(i=jy(a),null===i||(a=a[15],10&i.type))););if(null===i)return!1;t=i,e=a}const r=S2.lFrame=da();return r.currentTNode=t,r.lView=e,!0}function G0(e){const t=da(),n=e[1];S2.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function da(){const e=S2.lFrame,t=null===e?null:e.child;return null===t?ha(e):t}function ha(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function pa(){const e=S2.lFrame;return S2.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const ma=pa;function $0(){const e=pa();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function R1(){return S2.lFrame.selectedIndex}function H4(e){S2.lFrame.selectedIndex=e}function d1(){const e=S2.lFrame;return O0(e.tView,e.selectedIndex)}function g6(){S2.lFrame.currentNamespace="svg"}function K5(){!function $y(){S2.lFrame.currentNamespace=null}()}function Y5(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const a=e.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:s,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:C}=a;o&&(e.contentHooks||(e.contentHooks=[])).push(-n,o),s&&((e.contentHooks||(e.contentHooks=[])).push(n,s),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,s)),c&&(e.viewHooks||(e.viewHooks=[])).push(-n,c),l&&((e.viewHooks||(e.viewHooks=[])).push(n,l),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,l)),null!=C&&(e.destroyHooks||(e.destroyHooks=[])).push(n,C)}}function Q5(e,t,n){ga(e,t,3,n)}function J5(e,t,n,r){(3&e[2])===n&&ga(e,t,n,r)}function q0(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function ga(e,t,n,r){const a=r??-1,o=t.length-1;let s=0;for(let c=void 0!==r?65535&e[18]:0;c<o;c++)if("number"==typeof t[c+1]){if(s=t[c],null!=r&&s>=r)break}else t[c]<0&&(e[18]+=65536),(s<a||-1==a)&&(Yy(e,n,t,c),e[18]=(4294901760&e[18])+c+2),c++}function Yy(e,t,n,r){const i=n[r]<0,a=n[r+1],s=e[i?-n[r]:n[r]];if(i){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{a.call(s)}finally{}}}else try{a.call(s)}finally{}}class v6{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Z5(e,t,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const a=n[r++],o=n[r++],s=n[r++];e.setAttribute(t,o,s,a)}else{const a=i,o=n[++r];Ma(a)?e.setProperty(t,a,o):e.setAttribute(t,a,o),r++}}return r}function va(e){return 3===e||4===e||6===e}function Ma(e){return 64===e.charCodeAt(0)}function X5(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||La(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function La(e,t,n,r,i){let a=0,o=e.length;if(-1===t)o=-1;else for(;a<e.length;){const s=e[a++];if("number"==typeof s){if(s===t){o=-1;break}if(s>t){o=a-1;break}}}for(;a<e.length;){const s=e[a];if("number"==typeof s)break;if(s===n){if(null===r)return void(null!==i&&(e[a+1]=i));if(r===e[a+1])return void(e[a+2]=i)}a++,null!==r&&a++,null!==i&&a++}-1!==o&&(e.splice(o,0,t),a=o+1),e.splice(a++,0,n),null!==r&&e.splice(a++,0,r),null!==i&&e.splice(a++,0,i)}function Va(e){return-1!==e}function ge(e){return 32767&e}function ve(e,t){let n=function eH(e){return e>>16}(e),r=t;for(;n>0;)r=r[15],n--;return r}let Y0=!0;function e8(e){const t=Y0;return Y0=e,t}let tH=0;const B3={};function L6(e,t){const n=J0(e,t);if(-1!==n)return n;const r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,Q0(r.data,e),Q0(t,null),Q0(r.blueprint,null));const i=t8(e,t),a=e.injectorIndex;if(Va(i)){const o=ge(i),s=ve(i,t),c=s[1].data;for(let l=0;l<8;l++)t[a+l]=s[o+l]|c[o+l]}return t[a+8]=i,a}function Q0(e,t){e.push(0,0,0,0,0,0,0,0,t)}function J0(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function t8(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){if(r=Da(i),null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function n8(e,t,n){!function nH(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(f6)&&(r=n[f6]),null==r&&(r=n[f6]=tH++);const i=255&r;t.data[e+(i>>5)]|=1<<i}(e,t,n)}function za(e,t,n){if(n&H2.Optional)return e;I5()}function Sa(e,t,n,r){if(n&H2.Optional&&void 0===r&&(r=null),0==(n&(H2.Self|H2.Host))){const i=e[9],a=u3(void 0);try{return i?i.get(t,r,n&H2.Optional):K9(t,r,n&H2.Optional)}finally{u3(a)}}return za(r,0,n)}function ba(e,t,n,r=H2.Default,i){if(null!==e){if(1024&t[2]){const o=function sH(e,t,n,r,i){let a=e,o=t;for(;null!==a&&null!==o&&1024&o[2]&&!(256&o[2]);){const s=_a(a,o,n,r|H2.Self,B3);if(s!==B3)return s;let c=a.parent;if(!c){const l=o[21];if(l){const C=l.get(n,B3,r);if(C!==B3)return C}c=Da(o),o=o[15]}a=c}return i}(e,t,n,r,B3);if(o!==B3)return o}const a=_a(e,t,n,r,B3);if(a!==B3)return a}return Sa(t,n,r,i)}function _a(e,t,n,r,i){const a=function aH(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(f6)?e[f6]:void 0;return"number"==typeof t?t>=0?255&t:oH:t}(n);if("function"==typeof a){if(!fa(t,e,r))return r&H2.Host?za(i,0,r):Sa(t,n,r,i);try{const o=a(r);if(null!=o||r&H2.Optional)return o;I5()}finally{ma()}}else if("number"==typeof a){let o=null,s=J0(e,t),c=-1,l=r&H2.Host?t[16][6]:null;for((-1===s||r&H2.SkipSelf)&&(c=-1===s?t8(e,t):t[s+8],-1!==c&&xa(r,!1)?(o=t[1],s=ge(c),t=ve(c,t)):s=-1);-1!==s;){const C=t[1];if(wa(a,s,C.data)){const u=iH(s,t,n,o,r,l);if(u!==B3)return u}c=t[s+8],-1!==c&&xa(r,t[1].data[s+8]===l)&&wa(a,s,t)?(o=C,s=ge(c),t=ve(c,t)):s=-1}}return i}function iH(e,t,n,r,i,a){const o=t[1],s=o.data[e+8],C=r8(s,o,n,null==r?W5(s)&&Y0:r!=o&&0!=(3&s.type),i&H2.Host&&a===s);return null!==C?V6(t,o,C,s):B3}function r8(e,t,n,r,i){const a=e.providerIndexes,o=t.data,s=1048575&a,c=e.directiveStart,C=a>>20,d=i?s+C:e.directiveEnd;for(let M=r?s:s+C;M<d;M++){const D=o[M];if(M<c&&n===D||M>=c&&D.type===n)return M}if(i){const M=o[c];if(M&&b3(M)&&M.type===n)return c}return null}function V6(e,t,n,r){let i=e[n];const a=t.data;if(function Qy(e){return e instanceof v6}(i)){const o=i;o.resolving&&function ay(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new f2(-200,`Circular dependency in DI detected for ${e}${n}`)}(function q2(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():b2(e)}(a[n]));const s=e8(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?u3(o.injectImpl):null;fa(e,r,H2.Default);try{i=e[n]=o.factory(void 0,a,e,r),t.firstCreatePass&&n>=r.directiveStart&&function Ky(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:a}=t.type.prototype;if(r){const o=ta(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,o)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,i),a&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,a),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,a))}(n,a[n],t)}finally{null!==c&&u3(c),e8(s),o.resolving=!1,ma()}}return i}function wa(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function xa(e,t){return!(e&H2.Self||e&H2.Host&&t)}class Me{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return ba(this._tNode,this._lView,t,r,n)}}function oH(){return new Me(L1(),Y())}function V1(e){return V4(()=>{const t=e.prototype.constructor,n=t[t4]||Z0(t),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const a=i[t4]||Z0(i);if(a&&a!==n)return a;i=Object.getPrototypeOf(i)}return a=>new a})}function Z0(e){return S0(e)?()=>{const t=Z0(V2(e));return t&&t()}:U4(e)}function Da(e){const t=e[1],n=t.type;return 2===n?t.declTNode:1===n?e[6]:null}const Ve="__parameters__";function He(e,t,n){return V4(()=>{const r=function en(e){return function(...n){if(e){const r=e(...n);for(const i in r)this[i]=r[i]}}}(t);function i(...a){if(this instanceof i)return r.apply(this,a),this;const o=new i(...a);return s.annotation=o,s;function s(c,l,C){const u=c.hasOwnProperty(Ve)?c[Ve]:Object.defineProperty(c,Ve,{value:[]})[Ve];for(;u.length<=C;)u.push(null);return(u[C]=u[C]||[]).push(o),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}class _2{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=B2({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function r3(e,t){void 0===t&&(t=e);for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)?(t===e&&(t=e.slice(0,n)),r3(r,t)):t!==e&&t.push(r)}return t}function i4(e,t){e.forEach(n=>Array.isArray(n)?i4(n,t):t(n))}function Ea(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function i8(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function z6(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}function i3(e,t,n){let r=ze(e,t);return r>=0?e[1|r]=n:(r=~r,function uH(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function nn(e,t){const n=ze(e,t);if(n>=0)return e[1|n]}function ze(e,t){return function Pa(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){const a=r+(i-r>>1),o=e[a<<n];if(t===o)return a<<n;o>t?i=a:r=a+1}return~(i<<n)}(e,t,1)}const S6={},an="__NG_DI_FLAG__",o8="ngTempTokenPath",MH=/\n/gm,ka="__source";let b6;function Se(e){const t=b6;return b6=e,t}function VH(e,t=H2.Default){if(void 0===b6)throw new f2(-203,!1);return null===b6?K9(e,void 0,t):b6.get(e,t&H2.Optional?null:void 0,t)}function N2(e,t=H2.Default){return(function dy(){return w0}()||VH)(V2(e),t)}function on(e,t=H2.Default){return"number"!=typeof t&&(t=0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)),N2(e,t)}function sn(e){const t=[];for(let n=0;n<e.length;n++){const r=V2(e[n]);if(Array.isArray(r)){if(0===r.length)throw new f2(900,!1);let i,a=H2.Default;for(let o=0;o<r.length;o++){const s=r[o],c=yH(s);"number"==typeof c?-1===c?i=s.token:a|=c:i=s}t.push(N2(i,a))}else t.push(N2(r))}return t}function _6(e,t){return e[an]=t,e.prototype[an]=t,e}function yH(e){return e[an]}const s8=_6(He("Optional"),8),c8=_6(He("SkipSelf"),4);let ln,u8,f8;function _e(e){return function Cn(){if(void 0===u8&&(u8=null,J2.trustedTypes))try{u8=J2.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return u8}()?.createHTML(e)||e}function $a(e){return function un(){if(void 0===f8&&(f8=null,J2.trustedTypes))try{f8=J2.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return f8}()?.createHTML(e)||e}class G4{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class IH extends G4{getTypeName(){return"HTML"}}class OH extends G4{getTypeName(){return"Style"}}class FH extends G4{getTypeName(){return"Script"}}class RH extends G4{getTypeName(){return"URL"}}class BH extends G4{getTypeName(){return"ResourceURL"}}function a3(e){return e instanceof G4?e.changingThisBreaksApplicationSecurity:e}function j3(e,t){const n=function jH(e){return e instanceof G4&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===t}class KH{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const n=(new window.DOMParser).parseFromString(_e(t),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(t):(n.removeChild(n.firstChild),n)}catch{return null}}}class YH{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n);const r=this.inertDocument.createElement("body");n.appendChild(r)}}getInertBodyElement(t){const n=this.inertDocument.createElement("template");if("content"in n)return n.innerHTML=_e(t),n;const r=this.inertDocument.createElement("body");return r.innerHTML=_e(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(t){const n=t.attributes;for(let i=n.length-1;0<i;i--){const o=n.item(i).name;("xmlns:ns1"===o||0===o.indexOf("ns1:"))&&t.removeAttribute(o)}let r=t.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const JH=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,ZH=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function D6(e){return(e=String(e)).match(JH)||e.match(ZH)?e:"unsafe:"+e}function W3(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function N6(...e){const t={};for(const n of e)for(const r in n)n.hasOwnProperty(r)&&(t[r]=!0);return t}const Ja=W3("area,br,col,hr,img,wbr"),Za=W3("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Xa=W3("rp,rt"),fn=N6(Ja,N6(Za,W3("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),N6(Xa,W3("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),N6(Xa,Za)),dn=W3("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),hn=W3("srcset"),eo=N6(dn,hn,W3("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),W3("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),XH=W3("script,style,template");class ez{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let n=t.firstChild,r=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(t){const n=t.nodeName.toLowerCase();if(!fn.hasOwnProperty(n))return this.sanitizedSomething=!0,!XH.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=t.attributes;for(let i=0;i<r.length;i++){const a=r.item(i),o=a.name,s=o.toLowerCase();if(!eo.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let c=a.value;dn[s]&&(c=D6(c)),hn[s]&&(e=c,c=(e=String(e)).split(",").map(t=>D6(t.trim())).join(", ")),this.buf.push(" ",o,'="',to(c),'"')}var e;return this.buf.push(">"),!0}endElement(t){const n=t.nodeName.toLowerCase();fn.hasOwnProperty(n)&&!Ja.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(t){this.buf.push(to(t))}checkClobberedElement(t,n){if(n&&(t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return n}}const tz=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,nz=/([^\#-~ |!])/g;function to(e){return e.replace(/&/g,"&amp;").replace(tz,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(nz,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let d8;function no(e,t){let n=null;try{d8=d8||function Ya(e){const t=new YH(e);return function QH(){try{return!!(new window.DOMParser).parseFromString(_e(""),"text/html")}catch{return!1}}()?new KH(t):t}(e);let r=t?String(t):"";n=d8.getInertBodyElement(r);let i=5,a=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=a,a=n.innerHTML,n=d8.getInertBodyElement(r)}while(r!==a);return _e((new ez).sanitizeChildren(pn(n)||n))}finally{if(n){const r=pn(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function pn(e){return"content"in e&&function rz(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var n1=(()=>((n1=n1||{})[n1.NONE=0]="NONE",n1[n1.HTML=1]="HTML",n1[n1.STYLE=2]="STYLE",n1[n1.SCRIPT=3]="SCRIPT",n1[n1.URL=4]="URL",n1[n1.RESOURCE_URL=5]="RESOURCE_URL",n1))();function h8(e){const t=function E6(){const e=Y();return e&&e[12]}();return t?$a(t.sanitize(n1.HTML,e)||""):j3(e,"HTML")?$a(a3(e)):no(function Ga(){return void 0!==ln?ln:typeof document<"u"?document:void 0}(),b2(e))}const ao=new _2("ENVIRONMENT_INITIALIZER"),oo=new _2("INJECTOR",-1),so=new _2("INJECTOR_DEF_TYPES");class co{get(t,n=S6){if(n===S6){const r=new Error(`NullInjectorError: No provider for ${X2(t)}!`);throw r.name="NullInjectorError",r}return n}}function Cz(...e){return{\u0275providers:lo(0,e)}}function lo(e,...t){const n=[],r=new Set;let i;return i4(t,a=>{const o=a;mn(o,n,[],r)&&(i||(i=[]),i.push(o))}),void 0!==i&&Co(i,n),n}function Co(e,t){for(let n=0;n<e.length;n++){const{providers:i}=e[n];i4(i,a=>{t.push(a)})}}function mn(e,t,n,r){if(!(e=V2(e)))return!1;let i=null,a=$9(e);const o=!a&&Q2(e);if(a||o){if(o&&!o.standalone)return!1;i=e}else{const c=e.ngModule;if(a=$9(c),!a)return!1;i=c}const s=r.has(i);if(o){if(s)return!1;if(r.add(i),o.dependencies){const c="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const l of c)mn(l,t,n,r)}}else{if(!a)return!1;{if(null!=a.imports&&!s){let l;r.add(i);try{i4(a.imports,C=>{mn(C,t,n,r)&&(l||(l=[]),l.push(C))})}finally{}void 0!==l&&Co(l,t)}if(!s){const l=U4(i)||(()=>new i);t.push({provide:i,useFactory:l,deps:K2},{provide:so,useValue:i,multi:!0},{provide:ao,useValue:()=>N2(i),multi:!0})}const c=a.providers;null==c||s||i4(c,C=>{t.push(C)})}}return i!==e&&void 0!==e.providers}const uz=Z2({provide:String,useValue:Z2});function gn(e){return null!==e&&"object"==typeof e&&uz in e}function $4(e){return"function"==typeof e}const vn=new _2("Set Injector scope."),p8={},dz={};let Mn;function m8(){return void 0===Mn&&(Mn=new co),Mn}class we{}class ho extends we{constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Vn(t,o=>this.processProvider(o)),this.records.set(oo,xe(void 0,this)),i.has("environment")&&this.records.set(we,xe(void 0,this));const a=this.records.get(vn);null!=a&&"string"==typeof a.value&&this.scopes.add(a.value),this.injectorDefTypes=new Set(this.get(so.multi,K2,H2.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}runInContext(t){this.assertNotDestroyed();const n=Se(this),r=u3(void 0);try{return t()}finally{Se(n),u3(r)}}get(t,n=S6,r=H2.Default){this.assertNotDestroyed();const i=Se(this),a=u3(void 0);try{if(!(r&H2.SkipSelf)){let s=this.records.get(t);if(void 0===s){const c=function vz(e){return"function"==typeof e||"object"==typeof e&&e instanceof _2}(t)&&b0(t);s=c&&this.injectableDefInScope(c)?xe(Ln(t),p8):null,this.records.set(t,s)}if(null!=s)return this.hydrate(t,s)}return(r&H2.Self?m8():this.parent).get(t,n=r&H2.Optional&&n===S6?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[o8]=o[o8]||[]).unshift(X2(t)),i)throw o;return function HH(e,t,n,r){const i=e[o8];throw t[ka]&&i.unshift(t[ka]),e.message=function zH(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let i=X2(t);if(Array.isArray(t))i=t.map(X2).join(" -> ");else if("object"==typeof t){let a=[];for(let o in t)if(t.hasOwnProperty(o)){let s=t[o];a.push(o+":"+("string"==typeof s?JSON.stringify(s):X2(s)))}i=`{${a.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(MH,"\n  ")}`}("\n"+e.message,i,n,r),e.ngTokenPath=i,e[o8]=null,e}(o,t,"R3InjectorError",this.source)}throw o}finally{u3(a),Se(i)}}resolveInjectorInitializers(){const t=Se(this),n=u3(void 0);try{const r=this.get(ao.multi,K2,H2.Self);for(const i of r)i()}finally{Se(t),u3(n)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(X2(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new f2(205,!1)}processProvider(t){let n=$4(t=V2(t))?t:V2(t&&t.provide);const r=function pz(e){return gn(e)?xe(void 0,e.useValue):xe(po(e),p8)}(t);if($4(t)||!0!==t.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=xe(void 0,p8,!0),i.factory=()=>sn(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n){return n.value===p8&&(n.value=dz,n.value=n.factory()),"object"==typeof n.value&&n.value&&function gz(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=V2(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function Ln(e){const t=b0(e),n=null!==t?t.factory:U4(e);if(null!==n)return n;if(e instanceof _2)throw new f2(204,!1);if(e instanceof Function)return function hz(e){const t=e.length;if(t>0)throw z6(t,"?"),new f2(204,!1);const n=function Cy(e){const t=e&&(e[O5]||e[q9]);if(t){const n=function uy(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new f2(204,!1)}function po(e,t,n){let r;if($4(e)){const i=V2(e);return U4(i)||Ln(i)}if(gn(e))r=()=>V2(e.useValue);else if(function fo(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...sn(e.deps||[]));else if(function uo(e){return!(!e||!e.useExisting)}(e))r=()=>N2(V2(e.useExisting));else{const i=V2(e&&(e.useClass||e.provide));if(!function mz(e){return!!e.deps}(e))return U4(i)||Ln(i);r=()=>new i(...sn(e.deps))}return r}function xe(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Mz(e){return!!e.\u0275providers}function Vn(e,t){for(const n of e)Array.isArray(n)?Vn(n,t):Mz(n)?Vn(n.\u0275providers,t):t(n)}class mo{}class yz{resolveComponentFactory(t){throw function Vz(e){const t=Error(`No component factory found for ${X2(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(t)}}let A6=(()=>{class e{}return e.NULL=new yz,e})();function Hz(){return De(L1(),Y())}function De(e,t){return new B1(p3(e,t))}let B1=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=Hz,e})();function zz(e){return e instanceof B1?e.nativeElement:e}class vo{}let a4=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>function Sz(){const e=Y(),n=n3(L1().index,e);return(q1(n)?n:e)[11]}(),e})(),bz=(()=>{class e{}return e.\u0275prov=B2({token:e,providedIn:"root",factory:()=>null}),e})();class g8{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const _z=new g8("14.1.3"),yn={};function _n(e){return e.ngOriginalError}class Ne{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&_n(t);for(;n&&_n(n);)n=_n(n);return n||null}}const wn=new Map;let Fz=0;const Dn="__ngContext__";function E1(e,t){q1(t)?(e[Dn]=t[20],function Bz(e){wn.set(e[20],e)}(t)):e[Dn]=t}function T6(e){const t=e[Dn];return"number"==typeof t?function zo(e){return wn.get(e)||null}(t):t||null}function Nn(e){const t=T6(e);return t?q1(t)?t:t.lView:null}const Qz=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(J2))();var K1=(()=>((K1=K1||{})[K1.Important=1]="Important",K1[K1.DashCase=2]="DashCase",K1))();function An(e,t){return undefined(e,t)}function P6(e){const t=e[3];return S3(t)?t[3]:t}function Tn(e){return Eo(e[13])}function Pn(e){return Eo(e[4])}function Eo(e){for(;null!==e&&!S3(e);)e=e[4];return e}function Ae(e,t,n,r,i){if(null!=r){let a,o=!1;S3(r)?a=r:q1(r)&&(o=!0,r=r[0]);const s=g1(r);0===e&&null!==n?null==i?Oo(t,n,s):q4(t,n,s,i||null,!0):1===e&&null!==n?q4(t,n,s,i||null,!0):2===e?function Go(e,t,n){const r=v8(e,t);r&&function hS(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}(t,s,o):3===e&&t.destroyNode(s),null!=a&&function gS(e,t,n,r,i){const a=n[7];a!==g1(n)&&Ae(t,e,r,a,i);for(let s=10;s<n.length;s++){const c=n[s];k6(c[1],c,e,t,r,a)}}(t,e,a,n,i)}}function In(e,t,n){return e.createElement(t,n)}function To(e,t){const n=e[9],r=n.indexOf(t),i=t[3];512&t[2]&&(t[2]&=-513,F0(i,-1)),n.splice(r,1)}function On(e,t){if(e.length<=10)return;const n=10+t,r=e[n];if(r){const i=r[17];null!==i&&i!==e&&To(i,r),t>0&&(e[n-1][4]=r[4]);const a=i8(e,10+t);!function oS(e,t){k6(e,t,t[11],2,null,null),t[0]=null,t[6]=null}(r[1],r);const o=a[19];null!==o&&o.detachView(a[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function Po(e,t){if(!(128&t[2])){const n=t[11];n.destroyNode&&k6(e,t,n,3,null,null),function lS(e){let t=e[13];if(!t)return Fn(e[1],e);for(;t;){let n=null;if(q1(t))n=t[13];else{const r=t[10];r&&(n=r)}if(!n){for(;t&&!t[4]&&t!==e;)q1(t)&&Fn(t[1],t),t=t[3];null===t&&(t=e),q1(t)&&Fn(t[1],t),n=t&&t[4]}t=n}}(t)}}function Fn(e,t){if(!(128&t[2])){t[2]&=-65,t[2]|=128,function dS(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const i=t[n[r]];if(!(i instanceof v6)){const a=n[r+1];if(Array.isArray(a))for(let o=0;o<a.length;o+=2){const s=i[a[o]],c=a[o+1];try{c.call(s)}finally{}}else try{a.call(i)}finally{}}}}(e,t),function fS(e,t){const n=e.cleanup,r=t[7];let i=-1;if(null!==n)for(let a=0;a<n.length-1;a+=2)if("string"==typeof n[a]){const o=n[a+1],s="function"==typeof o?o(t):g1(t[o]),c=r[i=n[a+2]],l=n[a+3];"boolean"==typeof l?s.removeEventListener(n[a],c,l):l>=0?r[i=l]():r[i=-l].unsubscribe(),a+=2}else{const o=r[i=n[a+1]];n[a].call(o)}if(null!==r){for(let a=i+1;a<r.length;a++)(0,r[a])();t[7]=null}}(e,t),1===t[1].type&&t[11].destroy();const n=t[17];if(null!==n&&S3(t[3])){n!==t[3]&&To(n,t);const r=t[19];null!==r&&r.detachView(e)}!function jz(e){wn.delete(e[20])}(t)}}function ko(e,t,n){return function Io(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[0];if(2&r.flags){const i=e.data[r.directiveStart].encapsulation;if(i===F3.None||i===F3.Emulated)return null}return p3(r,n)}(e,t.parent,n)}function q4(e,t,n,r,i){e.insertBefore(t,n,r,i)}function Oo(e,t,n){e.appendChild(t,n)}function Fo(e,t,n,r,i){null!==r?q4(e,t,n,r,i):Oo(e,t,n)}function v8(e,t){return e.parentNode(t)}function Ro(e,t,n){return jo(e,t,n)}let jo=function Bo(e,t,n){return 40&e.type?p3(e,n):null};function M8(e,t,n,r){const i=ko(e,r,t),a=t[11],s=Ro(r.parent||t[6],r,t);if(null!=i)if(Array.isArray(n))for(let c=0;c<n.length;c++)Fo(a,i,n[c],s,!1);else Fo(a,i,n,s,!1)}function L8(e,t){if(null!==t){const n=t.type;if(3&n)return p3(t,e);if(4&n)return Bn(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return L8(e,r);{const i=e[t.index];return S3(i)?Bn(-1,i):g1(i)}}if(32&n)return An(t,e)()||g1(e[t.index]);{const r=Uo(e,t);return null!==r?Array.isArray(r)?r[0]:L8(P6(e[16]),r):L8(e,t.next)}}return null}function Uo(e,t){return null!==t?e[16][6].projection[t.projection]:null}function Bn(e,t){const n=10+e+1;if(n<t.length){const r=t[n],i=r[1].firstChild;if(null!==i)return L8(r,i)}return t[7]}function jn(e,t,n,r,i,a,o){for(;null!=n;){const s=r[n.index],c=n.type;if(o&&0===t&&(s&&E1(g1(s),r),n.flags|=4),64!=(64&n.flags))if(8&c)jn(e,t,n.child,r,i,a,!1),Ae(t,e,i,s,a);else if(32&c){const l=An(n,r);let C;for(;C=l();)Ae(t,e,i,C,a);Ae(t,e,i,s,a)}else 16&c?$o(e,t,r,n,i,a):Ae(t,e,i,s,a);n=o?n.projectionNext:n.next}}function k6(e,t,n,r,i,a){jn(n,r,e.firstChild,t,i,a,!1)}function $o(e,t,n,r,i,a){const o=n[16],c=o[6].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)Ae(t,e,i,c[l],a);else jn(e,t,c,o[3],i,a,!0)}function qo(e,t,n){e.setAttribute(t,"style",n)}function Wn(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function Ko(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const a=t.length;if(i+a===r||e.charCodeAt(i+a)<=32)return i}n=i+1}}const Yo="ng-template";function MS(e,t,n){let r=0;for(;r<e.length;){let i=e[r++];if(n&&"class"===i){if(i=e[r],-1!==Ko(i.toLowerCase(),t,0))return!0}else if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function Qo(e){return 4===e.type&&e.value!==Yo}function LS(e,t,n){return t===(4!==e.type||n?e.value:Yo)}function VS(e,t,n){let r=4;const i=e.attrs||[],a=function zS(e){for(let t=0;t<e.length;t++)if(va(e[t]))return t;return e.length}(i);let o=!1;for(let s=0;s<t.length;s++){const c=t[s];if("number"!=typeof c){if(!o)if(4&r){if(r=2|1&r,""!==c&&!LS(e,c,n)||""===c&&1===t.length){if(_3(r))return!1;o=!0}}else{const l=8&r?c:t[++s];if(8&r&&null!==e.attrs){if(!MS(e.attrs,l,n)){if(_3(r))return!1;o=!0}continue}const u=yS(8&r?"class":c,i,Qo(e),n);if(-1===u){if(_3(r))return!1;o=!0;continue}if(""!==l){let d;d=u>a?"":i[u+1].toLowerCase();const M=8&r?d:null;if(M&&-1!==Ko(M,l,0)||2&r&&l!==d){if(_3(r))return!1;o=!0}}}}else{if(!o&&!_3(r)&&!_3(c))return!1;if(o&&_3(c))continue;o=!1,r=c|1&r}}return _3(r)||o}function _3(e){return 0==(1&e)}function yS(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let a=!1;for(;i<t.length;){const o=t[i];if(o===e)return i;if(3===o||6===o)a=!0;else{if(1===o||2===o){let s=t[++i];for(;"string"==typeof s;)s=t[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=a?1:2}return-1}return function SS(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function Jo(e,t,n=!1){for(let r=0;r<t.length;r++)if(VS(e,t[r],n))return!0;return!1}function bS(e,t){e:for(let n=0;n<t.length;n++){const r=t[n];if(e.length===r.length){for(let i=0;i<e.length;i++)if(e[i]!==r[i])continue e;return!0}}return!1}function Zo(e,t){return e?":not("+t.trim()+")":t}function _S(e){let t=e[0],n=1,r=2,i="",a=!1;for(;n<e.length;){let o=e[n];if("string"==typeof o)if(2&r){const s=e[++n];i+="["+o+(s.length>0?'="'+s+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!_3(o)&&(t+=Zo(a,i),i=""),r=o,a=a||!_3(r);n++}return""!==i&&(t+=Zo(a,i)),t}const w2={};function J(e){Xo(j2(),Y(),R1()+e,!1)}function Xo(e,t,n,r){if(!r)if(3==(3&t[2])){const a=e.preOrderCheckHooks;null!==a&&Q5(t,a,n)}else{const a=e.preOrderHooks;null!==a&&J5(t,a,0,n)}H4(n)}function rs(e,t=null,n=null,r){const i=is(e,t,n,r);return i.resolveInjectorInitializers(),i}function is(e,t=null,n=null,r,i=new Set){const a=[n||K2,Cz(e)];return r=r||("object"==typeof e?void 0:X2(e)),new ho(a,t||m8(),r||null,i)}let m3=(()=>{class e{static create(n,r){if(Array.isArray(n))return rs({name:""},r,n,"");{const i=n.name??"";return rs({name:i},n.parent,n.providers,i)}}}return e.THROW_IF_NOT_FOUND=S6,e.NULL=new co,e.\u0275prov=B2({token:e,providedIn:"any",factory:()=>N2(oo)}),e.__NG_ELEMENT_ID__=-1,e})();function q(e,t=H2.Default){const n=Y();return null===n?N2(e,t):ba(L1(),n,V2(e),t)}function y8(e,t){return e<<17|t<<2}function w3(e){return e>>17&32767}function Kn(e){return 2|e}function s4(e){return(131068&e)>>2}function Yn(e,t){return-131069&e|t<<2}function Qn(e){return 1|e}function Vs(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],a=n[r+1];if(-1!==a){const o=e.data[a];U0(i),o.contentQueries(2,t[a],a)}}}function S8(e,t,n,r,i,a,o,s,c,l,C){const u=t.blueprint.slice();return u[0]=i,u[2]=76|r,(null!==C||e&&1024&e[2])&&(u[2]|=1024),aa(u),u[3]=u[15]=e,u[8]=n,u[10]=o||e&&e[10],u[11]=s||e&&e[11],u[12]=c||e&&e[12]||null,u[9]=l||e&&e[9]||null,u[6]=a,u[20]=function Rz(){return Fz++}(),u[21]=C,u[16]=2==t.type?e[16]:u,u}function Pe(e,t,n,r,i){let a=e.data[t];if(null===a)a=function a7(e,t,n,r,i){const a=ca(),o=R0(),c=e.data[t]=function ub(e,t,n,r,i,a){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:a,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?a:a&&a.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=c),null!==a&&(o?null==a.child&&null!==c.parent&&(a.child=c):null===a.next&&(a.next=c)),c}(e,t,n,r,i),function Fy(){return S2.lFrame.inI18n}()&&(a.flags|=64);else if(64&a.type){a.type=n,a.value=r,a.attrs=i;const o=function m6(){const e=S2.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();a.injectorIndex=null===o?-1:o.injectorIndex}return R3(a,!0),a}function ke(e,t,n,r){if(0===n)return-1;const i=t.length;for(let a=0;a<n;a++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function b8(e,t,n){G0(t);try{const r=e.viewQuery;null!==r&&h7(1,r,n);const i=e.template;null!==i&&ys(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Vs(e,t),e.staticViewQueries&&h7(2,e.viewQuery,n);const a=e.components;null!==a&&function sb(e,t){for(let n=0;n<t.length;n++)_b(e,t[n])}(t,a)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[2]&=-5,$0()}}function I6(e,t,n,r){const i=t[2];if(128!=(128&i)){G0(t);try{aa(t),function la(e){return S2.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&ys(e,t,n,2,r);const o=3==(3&i);if(o){const l=e.preOrderCheckHooks;null!==l&&Q5(t,l,null)}else{const l=e.preOrderHooks;null!==l&&J5(t,l,0,null),q0(t,0)}if(function Sb(e){for(let t=Tn(e);null!==t;t=Pn(t)){if(!t[2])continue;const n=t[9];for(let r=0;r<n.length;r++){const i=n[r],a=i[3];0==(512&i[2])&&F0(a,1),i[2]|=512}}}(t),function zb(e){for(let t=Tn(e);null!==t;t=Pn(t))for(let n=10;n<t.length;n++){const r=t[n],i=r[1];$5(r)&&I6(i,r,i.template,r[8])}}(t),null!==e.contentQueries&&Vs(e,t),o){const l=e.contentCheckHooks;null!==l&&Q5(t,l)}else{const l=e.contentHooks;null!==l&&J5(t,l,1),q0(t,1)}!function ab(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)H4(~i);else{const a=i,o=n[++r],s=n[++r];Ry(o,a),s(2,t[a])}}}finally{H4(-1)}}(e,t);const s=e.components;null!==s&&function ob(e,t){for(let n=0;n<t.length;n++)bb(e,t[n])}(t,s);const c=e.viewQuery;if(null!==c&&h7(2,c,r),o){const l=e.viewCheckHooks;null!==l&&Q5(t,l)}else{const l=e.viewHooks;null!==l&&J5(t,l,2),q0(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[2]&=-41,512&t[2]&&(t[2]&=-513,F0(t[3],-1))}finally{$0()}}}function cb(e,t,n,r){const i=t[10],o=ia(t);try{!o&&i.begin&&i.begin(),o&&b8(e,t,r),I6(e,t,n,r)}finally{!o&&i.end&&i.end()}}function ys(e,t,n,r,i){const a=R1(),o=2&r;try{H4(-1),o&&t.length>22&&Xo(e,t,22,!1),n(r,i)}finally{H4(a)}}function Hs(e,t,n){if(A0(t)){const i=t.directiveEnd;for(let a=t.directiveStart;a<i;a++){const o=e.data[a];o.contentQueries&&o.contentQueries(1,n[a],a)}}}function o7(e,t,n){!sa()||(function mb(e,t,n,r){const i=n.directiveStart,a=n.directiveEnd;e.firstCreatePass||L6(n,t),E1(r,t);const o=n.initialInputs;for(let s=i;s<a;s++){const c=e.data[s],l=b3(c);l&&Vb(t,n,c);const C=V6(t,e,s,n);E1(C,t),null!==o&&yb(0,s-i,C,c,0,o),l&&(n3(n.index,t)[8]=C)}}(e,t,n,p3(n,t)),128==(128&n.flags)&&function gb(e,t,n){const r=n.directiveStart,i=n.directiveEnd,a=n.index,o=function By(){return S2.lFrame.currentDirectiveIndex}();try{H4(a);for(let s=r;s<i;s++){const c=e.data[s],l=t[s];j0(s),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&Ds(c,l)}}finally{H4(-1),j0(o)}}(e,t,n))}function s7(e,t,n=p3){const r=t.localNames;if(null!==r){let i=t.index+1;for(let a=0;a<r.length;a+=2){const o=r[a+1],s=-1===o?n(t,e):e[o];e[i++]=s}}}function zs(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=c7(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function c7(e,t,n,r,i,a,o,s,c,l){const C=22+r,u=C+i,d=function lb(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:w2);return n}(C,u),M="function"==typeof l?l():l;return d[1]={type:e,blueprint:d,template:n,queries:null,viewQuery:s,declTNode:t,data:d.slice().fill(null,C),bindingStartIndex:C,expandoStartIndex:u,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof a?a():a,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:M,incompleteFirstPass:!1}}function Ss(e,t,n,r){const i=Is(t);null===n?i.push(r):(i.push(n),e.firstCreatePass&&Os(e).push(r,i.length-1))}function bs(e,t,n){for(let r in e)if(e.hasOwnProperty(r)){const i=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,i):n[r]=[t,i]}return n}function _s(e,t){const r=t.directiveEnd,i=e.data,a=t.attrs,o=[];let s=null,c=null;for(let l=t.directiveStart;l<r;l++){const C=i[l],u=C.inputs,d=null===a||Qo(t)?null:Hb(u,a);o.push(d),s=bs(u,l,s),c=bs(C.outputs,l,c)}null!==s&&(s.hasOwnProperty("class")&&(t.flags|=16),s.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=o,t.inputs=s,t.outputs=c}function o3(e,t,n,r,i,a,o,s){const c=p3(t,n);let C,l=t.inputs;!s&&null!=l&&(C=l[r])?(p7(e,n,C,r,i),W5(t)&&ws(n,t.index)):3&t.type&&(r=function fb(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=o?o(i,t.value||"",r):i,a.setProperty(c,r,i))}function ws(e,t){const n=n3(t,e);16&n[2]||(n[2]|=32)}function l7(e,t,n,r){let i=!1;if(sa()){const a=function vb(e,t,n){const r=e.directiveRegistry;let i=null;if(r)for(let a=0;a<r.length;a++){const o=r[a];Jo(n,o.selectors,!1)&&(i||(i=[]),n8(L6(n,t),e,o.type),b3(o)?(Ns(e,n),i.unshift(o)):i.push(o))}return i}(e,t,n),o=null===r?null:{"":-1};if(null!==a){i=!0,Es(n,e.data.length,a.length);for(let C=0;C<a.length;C++){const u=a[C];u.providersResolver&&u.providersResolver(u)}let s=!1,c=!1,l=ke(e,t,a.length,null);for(let C=0;C<a.length;C++){const u=a[C];n.mergedAttrs=X5(n.mergedAttrs,u.hostAttrs),As(e,n,t,l,u),Lb(l,u,o),null!==u.contentQueries&&(n.flags|=8),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(n.flags|=128);const d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),s=!0),!c&&(d.ngOnChanges||d.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),c=!0),l++}_s(e,n)}o&&function Mb(e,t,n){if(t){const r=e.localNames=[];for(let i=0;i<t.length;i+=2){const a=n[t[i+1]];if(null==a)throw new f2(-301,!1);r.push(t[i],a)}}}(n,r,o)}return n.mergedAttrs=X5(n.mergedAttrs,n.attrs),i}function xs(e,t,n,r,i,a){const o=a.hostBindings;if(o){let s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);const c=~t.index;(function pb(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(s)!=c&&s.push(c),s.push(r,i,o)}}function Ds(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Ns(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function Lb(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;b3(t)&&(n[""]=e)}}function Es(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function As(e,t,n,r,i){e.data[r]=i;const a=i.factory||(i.factory=U4(i.type)),o=new v6(a,b3(i),q);e.blueprint[r]=o,n[r]=o,xs(e,t,0,r,ke(e,n,i.hostVars,w2),i)}function Vb(e,t,n){const r=p3(t,e),i=zs(n),a=e[10],o=_8(e,S8(e,i,null,n.onPush?32:16,r,t,a,a.createRenderer(r,n),null,null,null));e[t.index]=o}function U3(e,t,n,r,i,a){const o=p3(e,t);!function C7(e,t,n,r,i,a,o){if(null==a)e.removeAttribute(t,i,n);else{const s=null==o?b2(a):o(a,r||"",i);e.setAttribute(t,i,s,n)}}(t[11],o,a,e.value,n,r,i)}function yb(e,t,n,r,i,a){const o=a[t];if(null!==o){const s=r.setInput;for(let c=0;c<o.length;){const l=o[c++],C=o[c++],u=o[c++];null!==s?r.setInput(n,u,l,C):n[C]=u}}}function Hb(e,t){let n=null,r=0;for(;r<t.length;){const i=t[r];if(0!==i)if(5!==i){if("number"==typeof i)break;e.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,e[i],t[r+1])),r+=2}else r+=2;else r+=4}return n}function Ts(e,t,n,r){return new Array(e,!0,!1,t,null,0,r,n,null,null)}function bb(e,t){const n=n3(t,e);if($5(n)){const r=n[1];48&n[2]?I6(r,n,r.template,n[8]):n[5]>0&&u7(n)}}function u7(e){for(let r=Tn(e);null!==r;r=Pn(r))for(let i=10;i<r.length;i++){const a=r[i];if($5(a))if(512&a[2]){const o=a[1];I6(o,a,o.template,a[8])}else a[5]>0&&u7(a)}const n=e[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=n3(n[r],e);$5(i)&&i[5]>0&&u7(i)}}function _b(e,t){const n=n3(t,e),r=n[1];(function wb(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(r,n),b8(r,n,n[8])}function _8(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function f7(e){for(;e;){e[2]|=32;const t=P6(e);if(Ly(e)&&!t)return e;e=t}return null}function ks(e){!function Ps(e){for(let t=0;t<e.components.length;t++){const n=e.components[t],r=Nn(n);if(null!==r){const i=r[1];cb(i,r,i.template,n)}}}(e[8])}function h7(e,t,n){U0(0),t(e,n)}const Db=(()=>Promise.resolve(null))();function Is(e){return e[7]||(e[7]=[])}function Os(e){return e.cleanup||(e.cleanup=[])}function Rs(e,t){const n=e[9],r=n?n.get(Ne,null):null;r&&r.handleError(t)}function p7(e,t,n,r,i){for(let a=0;a<n.length;){const o=n[a++],s=n[a++],c=t[o],l=e.data[o];null!==l.setInput?l.setInput(c,i,r,s):c[s]=i}}function w8(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,a=0;if(null!==t)for(let o=0;o<t.length;o++){const s=t[o];"number"==typeof s?a=s:1==a?i=z0(i,s):2==a&&(r=z0(r,s+": "+t[++o]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function x8(e,t,n,r,i=!1){for(;null!==n;){const a=t[n.index];if(null!==a&&r.push(g1(a)),S3(a))for(let s=10;s<a.length;s++){const c=a[s],l=c[1].firstChild;null!==l&&x8(c[1],c,l,r)}const o=n.type;if(8&o)x8(e,t,n.child,r);else if(32&o){const s=An(n,t);let c;for(;c=s();)r.push(c)}else if(16&o){const s=Uo(t,n);if(Array.isArray(s))r.push(...s);else{const c=P6(t[16]);x8(c[1],c,s,r,!0)}}n=i?n.projectionNext:n.next}return r}class O6{constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,n=t[1];return x8(n,t,n.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(S3(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(On(t,r),i8(n,r))}this._attachedToViewContainer=!1}Po(this._lView[1],this._lView)}onDestroy(t){Ss(this._lView[1],this._lView,null,t)}markForCheck(){f7(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function d7(e,t,n){const r=t[10];r.begin&&r.begin();try{I6(e,t,e.template,n)}catch(i){throw Rs(t,i),i}finally{r.end&&r.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new f2(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function cS(e,t){k6(e,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new f2(902,!1);this._appRef=t}}class Nb extends O6{constructor(t){super(t),this._view=t}detectChanges(){ks(this._view)}checkNoChanges(){}get context(){return null}}class m7 extends A6{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=Q2(t);return new F6(n,this.ngModule)}}function Bs(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class Ab{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){const i=this.injector.get(t,yn,r);return i!==yn||n===yn?i:this.parentInjector.get(t,n,r)}}class F6 extends mo{constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function wS(e){return e.map(_S).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return Bs(this.componentDef.inputs)}get outputs(){return Bs(this.componentDef.outputs)}create(t,n,r,i){let a=(i=i||this.ngModule)instanceof we?i:i?.injector;a&&null!==this.componentDef.getStandaloneInjector&&(a=this.componentDef.getStandaloneInjector(a)||a);const o=a?new Ab(t,a):t,s=o.get(vo,null);if(null===s)throw new f2(407,!1);const c=o.get(bz,null),l=s.createRenderer(null,this.componentDef),C=this.componentDef.selectors[0][0]||"div",u=r?function Cb(e,t,n){return e.selectRootElement(t,n===F3.ShadowDom)}(l,r,this.componentDef.encapsulation):In(s.createRenderer(null,this.componentDef),C,function Eb(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(C)),d=this.componentDef.onPush?288:272,M=function Ob(e,t){return{components:[],scheduler:e||Qz,clean:Db,playerHandler:t||null,flags:0}}(),D=c7(0,null,null,1,0,null,null,null,null,null),I=S8(null,D,M,d,null,null,s,l,c,o,null);let K,Z;G0(I);try{const r2=function kb(e,t,n,r,i,a){const o=n[1];n[22]=e;const c=Pe(o,22,2,"#host",null),l=c.mergedAttrs=t.hostAttrs;null!==l&&(w8(c,l,!0),null!==e&&(Z5(i,e,l),null!==c.classes&&Wn(i,e,c.classes),null!==c.styles&&qo(i,e,c.styles)));const C=r.createRenderer(e,t),u=S8(n,zs(t),null,t.onPush?32:16,n[22],c,r,C,a||null,null,null);return o.firstCreatePass&&(n8(L6(c,n),o,t.type),Ns(o,c),Es(c,n.length,1)),_8(n,u),n[22]=u}(u,this.componentDef,I,s,l);if(u)if(r)Z5(l,u,["ng-version",_z.full]);else{const{attrs:F,classes:c2}=function xS(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let a=e[r];if("string"==typeof a)2===i?""!==a&&t.push(a,e[++r]):8===i&&n.push(a);else{if(!_3(i))break;i=a}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);F&&Z5(l,u,F),c2&&c2.length>0&&Wn(l,u,c2.join(" "))}if(Z=O0(D,22),void 0!==n){const F=Z.projection=[];for(let c2=0;c2<this.ngContentSelectors.length;c2++){const v2=n[c2];F.push(null!=v2?Array.from(v2):null)}}K=function Ib(e,t,n,r,i){const a=n[1],o=function hb(e,t,n){const r=L1();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),As(e,r,t,ke(e,t,1,null),n),_s(e,r));const i=V6(t,e,r.directiveStart,r);E1(i,t);const a=p3(r,t);return a&&E1(a,t),i}(a,n,t);if(r.components.push(o),e[8]=o,null!==i)for(const c of i)c(o,t);if(t.contentQueries){const c=L1();t.contentQueries(1,o,c.directiveStart)}const s=L1();return!a.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(H4(s.index),xs(n[1],s,0,s.directiveStart,s.directiveEnd,t),Ds(t,o)),o}(r2,this.componentDef,I,M,[Fb]),b8(D,I,null)}finally{$0()}return new Pb(this.componentType,K,De(Z,I),I,Z)}}class Pb extends class Lz{}{constructor(t,n,r,i,a){super(),this.location=r,this._rootLView=i,this._tNode=a,this.instance=n,this.hostView=this.changeDetectorRef=new Nb(i),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[t])){const a=this._rootLView;p7(a[1],a,i,t,n),ws(a,this._tNode.index)}}get injector(){return new Me(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function Fb(){const e=L1();Y5(Y()[1],e)}function $2(e){let t=function js(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let i;if(b3(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new f2(903,!1);i=t.\u0275dir}if(i){if(n){r.push(i);const o=e;o.inputs=g7(e.inputs),o.declaredInputs=g7(e.declaredInputs),o.outputs=g7(e.outputs);const s=i.hostBindings;s&&Wb(e,s);const c=i.viewQuery,l=i.contentQueries;if(c&&Bb(e,c),l&&jb(e,l),H0(e.inputs,i.inputs),H0(e.declaredInputs,i.declaredInputs),H0(e.outputs,i.outputs),b3(i)&&i.data.animation){const C=e.data;C.animation=(C.animation||[]).concat(i.data.animation)}}const a=i.features;if(a)for(let o=0;o<a.length;o++){const s=a[o];s&&s.ngInherit&&s(e),s===$2&&(n=!1)}}t=Object.getPrototypeOf(t)}!function Rb(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=X5(i.hostAttrs,n=X5(n,i.hostAttrs))}}(r)}function g7(e){return e===Ce?{}:e===K2?[]:e}function Bb(e,t){const n=e.viewQuery;e.viewQuery=n?(r,i)=>{t(r,i),n(r,i)}:t}function jb(e,t){const n=e.contentQueries;e.contentQueries=n?(r,i,a)=>{t(r,i,a),n(r,i,a)}:t}function Wb(e,t){const n=e.hostBindings;e.hostBindings=n?(r,i)=>{t(r,i),n(r,i)}:t}let D8=null;function K4(){if(!D8){const e=J2.Symbol;if(e&&e.iterator)D8=e.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<t.length;++n){const r=t[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(D8=r)}}}return D8}function R6(e){return!!v7(e)&&(Array.isArray(e)||!(e instanceof Map)&&K4()in e)}function v7(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function G3(e,t,n){return e[t]=n}function A1(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Y4(e,t,n,r){const i=A1(e,t,n);return A1(e,t+1,r)||i}function $3(e,t,n,r){const i=Y();return A1(i,me(),t)&&(j2(),U3(d1(),i,e,t,n,r)),$3}function Oe(e,t,n,r){return A1(e,me(),n)?t+b2(n)+r:w2}function h2(e,t,n,r,i,a,o,s){const c=Y(),l=j2(),C=e+22,u=l.firstCreatePass?function Zb(e,t,n,r,i,a,o,s,c){const l=t.consts,C=Pe(t,e,4,o||null,y4(l,s));l7(t,n,C,y4(l,c)),Y5(t,C);const u=C.tViews=c7(2,C,r,i,a,t.directiveRegistry,t.pipeRegistry,null,t.schemas,l);return null!==t.queries&&(t.queries.template(t,C),u.queries=t.queries.embeddedTView(C)),C}(C,l,c,t,n,r,i,a,o):l.data[C];R3(u,!1);const d=c[11].createComment("");M8(l,c,d,u),E1(d,c),_8(c,c[C]=Ts(d,c,d,u)),U5(u)&&o7(l,c,u),null!=o&&s7(c,u,s)}function $e(e){return pe(function Oy(){return S2.lFrame.contextLView}(),22+e)}function $(e,t,n){const r=Y();return A1(r,me(),t)&&o3(j2(),d1(),r,e,t,r[11],n,!1),$}function M7(e,t,n,r,i){const o=i?"class":"style";p7(e,n,t.inputs[o],o,r)}function Q(e,t,n,r){const i=Y(),a=j2(),o=22+e,s=i[11],c=i[o]=In(s,t,function qy(){return S2.lFrame.currentNamespace}()),l=a.firstCreatePass?function e_(e,t,n,r,i,a,o){const s=t.consts,l=Pe(t,e,2,i,y4(s,a));return l7(t,n,l,y4(s,o)),null!==l.attrs&&w8(l,l.attrs,!1),null!==l.mergedAttrs&&w8(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(o,a,i,0,t,n,r):a.data[o];R3(l,!0);const C=l.mergedAttrs;null!==C&&Z5(s,c,C);const u=l.classes;null!==u&&Wn(s,c,u);const d=l.styles;return null!==d&&qo(s,c,d),64!=(64&l.flags)&&M8(a,i,c,l),0===function Ay(){return S2.lFrame.elementDepthCount}()&&E1(c,i),function Ty(){S2.lFrame.elementDepthCount++}(),U5(l)&&(o7(a,i,l),Hs(a,l,i)),null!==r&&s7(i,l),Q}function X(){let e=L1();R0()?B0():(e=e.parent,R3(e,!1));const t=e;!function Py(){S2.lFrame.elementDepthCount--}();const n=j2();return n.firstCreatePass&&(Y5(n,e),A0(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function Zy(e){return 0!=(16&e.flags)}(t)&&M7(n,t,Y(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function Xy(e){return 0!=(32&e.flags)}(t)&&M7(n,t,Y(),t.stylesWithoutHost,!1),X}function R2(e,t,n,r){return Q(e,t,n,r),X(),R2}function j6(e,t,n){const r=Y(),i=j2(),a=e+22,o=i.firstCreatePass?function t_(e,t,n,r,i){const a=t.consts,o=y4(a,r),s=Pe(t,e,8,"ng-container",o);return null!==o&&w8(s,o,!0),l7(t,n,s,y4(a,i)),null!==t.queries&&t.queries.elementStart(t,s),s}(a,i,r,t,n):i.data[a];R3(o,!0);const s=r[a]=r[11].createComment("");return M8(i,r,s,o),E1(s,r),U5(o)&&(o7(i,r,o),Hs(i,o,r)),null!=n&&s7(r,o),j6}function W6(){let e=L1();const t=j2();return R0()?B0():(e=e.parent,R3(e,!1)),t.firstCreatePass&&(Y5(t,e),A0(e)&&t.queries.elementEnd(e)),W6}function E8(e,t,n){return j6(e,t,n),W6(),E8}function v3(){return Y()}function A8(e){return!!e&&"function"==typeof e.then}function Zs(e){return!!e&&"function"==typeof e.subscribe}const Xs=Zs;function O2(e,t,n,r){const i=Y(),a=j2(),o=L1();return function tc(e,t,n,r,i,a,o,s){const c=U5(r),C=e.firstCreatePass&&Os(e),u=t[8],d=Is(t);let M=!0;if(3&r.type||s){const K=p3(r,t),Z=s?s(K):K,r2=d.length,F=s?v2=>s(g1(v2[r.index])):r.index;let c2=null;if(!s&&c&&(c2=function n_(e,t,n,r){const i=e.cleanup;if(null!=i)for(let a=0;a<i.length-1;a+=2){const o=i[a];if(o===n&&i[a+1]===r){const s=t[7],c=i[a+2];return s.length>c?s[c]:null}"string"==typeof o&&(a+=2)}return null}(e,t,i,r.index)),null!==c2)(c2.__ngLastListenerFn__||c2).__ngNextListenerFn__=a,c2.__ngLastListenerFn__=a,M=!1;else{a=rc(r,t,u,a,!1);const v2=n.listen(Z,i,a);d.push(a,v2),C&&C.push(i,F,r2,r2+1)}}else a=rc(r,t,u,a,!1);const D=r.outputs;let I;if(M&&null!==D&&(I=D[i])){const K=I.length;if(K)for(let Z=0;Z<K;Z+=2){const U2=t[I[Z]][I[Z+1]].subscribe(a),C3=d.length;d.push(a,U2),C&&C.push(i,r.index,C3,-(C3+1))}}}(a,i,i[11],o,e,t,0,r),O2}function nc(e,t,n,r){try{return!1!==n(r)}catch(i){return Rs(e,i),!1}}function rc(e,t,n,r,i){return function a(o){if(o===Function)return r;f7(2&e.flags?n3(e.index,t):t);let c=nc(t,0,r,o),l=a.__ngNextListenerFn__;for(;l;)c=nc(t,0,l,o)&&c,l=l.__ngNextListenerFn__;return i&&!1===c&&(o.preventDefault(),o.returnValue=!1),c}}function d2(e=1){return function Wy(e){return(S2.lFrame.contextLView=function Uy(e,t){for(;e>0;)t=t[15],e--;return t}(e,S2.lFrame.contextLView))[8]}(e)}function r_(e,t){let n=null;const r=function HS(e){const t=e.attrs;if(null!=t){const n=t.indexOf(5);if(0==(1&n))return t[n+1]}return null}(e);for(let i=0;i<t.length;i++){const a=t[i];if("*"!==a){if(null===r?Jo(e,a,!0):bS(r,a))return i}else n=i}return n}function L7(e){const t=Y()[16][6];if(!t.projection){const r=t.projection=z6(e?e.length:1,null),i=r.slice();let a=t.child;for(;null!==a;){const o=e?r_(a,e):0;null!==o&&(i[o]?i[o].projectionNext=a:r[o]=a,i[o]=a),a=a.next}}}function T8(e,t=0,n){const r=Y(),i=j2(),a=Pe(i,22+e,16,null,n||null);null===a.projection&&(a.projection=t),B0(),64!=(64&a.flags)&&function mS(e,t,n){$o(t[11],0,t,n,ko(e,n,t),Ro(n.parent||t[6],n,t))}(i,r,a)}function dc(e,t,n,r,i){const a=e[n+1],o=null===t;let s=r?w3(a):s4(a),c=!1;for(;0!==s&&(!1===c||o);){const C=e[s+1];o_(e[s],t)&&(c=!0,e[s+1]=r?Qn(C):Kn(C)),s=r?w3(C):s4(C)}c&&(e[n+1]=r?Kn(a):Qn(a))}function o_(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&ze(e,t)>=0}const H1={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function hc(e){return e.substring(H1.key,H1.keyEnd)}function pc(e,t){const n=H1.textEnd;return n===t?-1:(t=H1.keyEnd=function C_(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,H1.key=t,n),qe(e,t,n))}function qe(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function _4(e,t){return function x3(e,t,n,r){const i=Y(),a=j2(),o=r4(2);a.firstUpdatePass&&yc(a,e,o,r),t!==w2&&A1(i,o,t)&&zc(a,a.data[R1()],i,i[11],e,i[o+1]=function L_(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=X2(a3(e)))),e}(t,n),r,o)}(e,t,null,!0),_4}function P8(e){D3(i3,K3,e,!0)}function K3(e,t){for(let n=function c_(e){return function gc(e){H1.key=0,H1.keyEnd=0,H1.value=0,H1.valueEnd=0,H1.textEnd=e.length}(e),pc(e,qe(e,0,H1.textEnd))}(t);n>=0;n=pc(t,n))i3(e,hc(t),!0)}function D3(e,t,n,r){const i=j2(),a=r4(2);i.firstUpdatePass&&yc(i,null,a,r);const o=Y();if(n!==w2&&A1(o,a,n)){const s=i.data[R1()];if(bc(s,r)&&!Vc(i,a)){let c=r?s.classesWithoutHost:s.stylesWithoutHost;null!==c&&(n=z0(c,n||"")),M7(i,s,o,n,r)}else!function M_(e,t,n,r,i,a,o,s){i===w2&&(i=K2);let c=0,l=0,C=0<i.length?i[0]:null,u=0<a.length?a[0]:null;for(;null!==C||null!==u;){const d=c<i.length?i[c+1]:void 0,M=l<a.length?a[l+1]:void 0;let I,D=null;C===u?(c+=2,l+=2,d!==M&&(D=u,I=M)):null===u||null!==C&&C<u?(c+=2,D=C):(l+=2,D=u,I=M),null!==D&&zc(e,t,n,r,D,I,o,s),C=c<i.length?i[c]:null,u=l<a.length?a[l]:null}}(i,s,o,o[11],o[a+1],o[a+1]=function v_(e,t,n){if(null==n||""===n)return K2;const r=[],i=a3(n);if(Array.isArray(i))for(let a=0;a<i.length;a++)e(r,i[a],!0);else if("object"==typeof i)for(const a in i)i.hasOwnProperty(a)&&e(r,a,i[a]);else"string"==typeof i&&t(r,i);return r}(e,t,n),r,a)}}function Vc(e,t){return t>=e.expandoStartIndex}function yc(e,t,n,r){const i=e.data;if(null===i[n+1]){const a=i[R1()],o=Vc(e,n);bc(a,r)&&null===t&&!o&&(t=!1),t=function h_(e,t,n,r){const i=function W0(e){const t=S2.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let a=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=U6(n=y7(null,e,t,n,r),t.attrs,r),a=null);else{const o=t.directiveStylingLast;if(-1===o||e[o]!==i)if(n=y7(i,e,t,n,r),null===a){let c=function p_(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==s4(r))return e[w3(r)]}(e,t,r);void 0!==c&&Array.isArray(c)&&(c=y7(null,e,t,c[1],r),c=U6(c,t.attrs,r),function m_(e,t,n,r){e[w3(n?t.classBindings:t.styleBindings)]=r}(e,t,r,c))}else a=function g_(e,t,n){let r;const i=t.directiveEnd;for(let a=1+t.directiveStylingLast;a<i;a++)r=U6(r,e[a].hostAttrs,n);return U6(r,t.attrs,n)}(e,t,r)}return void 0!==a&&(r?t.residualClasses=a:t.residualStyles=a),n}(i,a,t,r),function i_(e,t,n,r,i,a){let o=a?t.classBindings:t.styleBindings,s=w3(o),c=s4(o);e[r]=n;let C,l=!1;if(Array.isArray(n)){const u=n;C=u[1],(null===C||ze(u,C)>0)&&(l=!0)}else C=n;if(i)if(0!==c){const d=w3(e[s+1]);e[r+1]=y8(d,s),0!==d&&(e[d+1]=Yn(e[d+1],r)),e[s+1]=function YS(e,t){return 131071&e|t<<17}(e[s+1],r)}else e[r+1]=y8(s,0),0!==s&&(e[s+1]=Yn(e[s+1],r)),s=r;else e[r+1]=y8(c,0),0===s?s=r:e[c+1]=Yn(e[c+1],r),c=r;l&&(e[r+1]=Kn(e[r+1])),dc(e,C,r,!0),dc(e,C,r,!1),function a_(e,t,n,r,i){const a=i?e.residualClasses:e.residualStyles;null!=a&&"string"==typeof t&&ze(a,t)>=0&&(n[r+1]=Qn(n[r+1]))}(t,C,e,r,a),o=y8(s,c),a?t.classBindings=o:t.styleBindings=o}(i,a,t,n,o,r)}}function y7(e,t,n,r,i){let a=null;const o=n.directiveEnd;let s=n.directiveStylingLast;for(-1===s?s=n.directiveStart:s++;s<o&&(a=t[s],r=U6(r,a.hostAttrs,i),a!==e);)s++;return null!==e&&(n.directiveStylingLast=s),r}function U6(e,t,n){const r=n?1:2;let i=-1;if(null!==t)for(let a=0;a<t.length;a++){const o=t[a];"number"==typeof o?i=o:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),i3(e,o,!!n||t[++a]))}return void 0===e?null:e}function zc(e,t,n,r,i,a,o,s){if(!(3&t.type))return;const c=e.data,l=c[s+1];k8(function ds(e){return 1==(1&e)}(l)?Sc(c,t,n,i,s4(l),o):void 0)||(k8(a)||function fs(e){return 2==(2&e)}(l)&&(a=Sc(c,null,n,i,s,o)),function vS(e,t,n,r,i){if(t)i?e.addClass(n,r):e.removeClass(n,r);else{let a=-1===r.indexOf("-")?void 0:K1.DashCase;null==i?e.removeStyle(n,r,a):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),a|=K1.Important),e.setStyle(n,r,i,a))}}(r,o,G5(R1(),n),i,a))}function Sc(e,t,n,r,i,a){const o=null===t;let s;for(;i>0;){const c=e[i],l=Array.isArray(c),C=l?c[1]:c,u=null===C;let d=n[i+1];d===w2&&(d=u?K2:void 0);let M=u?nn(d,r):C===r?d:void 0;if(l&&!k8(M)&&(M=nn(c,r)),k8(M)&&(s=M,o))return s;const D=e[i+1];i=o?w3(D):s4(D)}if(null!==t){let c=a?t.residualClasses:t.residualStyles;null!=c&&(s=nn(c,r))}return s}function k8(e){return void 0!==e}function bc(e,t){return 0!=(e.flags&(t?16:32))}function u2(e,t=""){const n=Y(),r=j2(),i=e+22,a=r.firstCreatePass?Pe(r,i,1,t,null):r.data[i],o=n[i]=function kn(e,t){return e.createText(t)}(n[11],t);M8(r,n,o,a),R3(a,!1)}function N3(e){return w4("",e,""),N3}function w4(e,t,n){const r=Y(),i=Oe(r,e,t,n);return i!==w2&&function c4(e,t,n){const r=G5(t,e);!function Ao(e,t,n){e.setValue(t,n)}(e[11],r,n)}(r,R1(),i),w4}function G6(e,t,n){D3(i3,K3,Oe(Y(),e,t,n),!0)}function H7(e,t,n){const r=Y();return A1(r,me(),t)&&o3(j2(),d1(),r,e,t,r[11],n,!0),H7}const Ye="en-US";let qc=Ye;function b7(e,t,n,r,i){if(e=V2(e),Array.isArray(e))for(let a=0;a<e.length;a++)b7(e[a],t,n,r,i);else{const a=j2(),o=Y();let s=$4(e)?e:V2(e.provide),c=po(e);const l=L1(),C=1048575&l.providerIndexes,u=l.directiveStart,d=l.providerIndexes>>20;if($4(e)||!e.multi){const M=new v6(c,i,q),D=w7(s,t,i?C:C+d,u);-1===D?(n8(L6(l,o),a,s),_7(a,e,t.length),t.push(s),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(M),o.push(M)):(n[D]=M,o[D]=M)}else{const M=w7(s,t,C+d,u),D=w7(s,t,C,C+d),I=M>=0&&n[M],K=D>=0&&n[D];if(i&&!K||!i&&!I){n8(L6(l,o),a,s);const Z=function Iw(e,t,n,r,i){const a=new v6(e,n,q);return a.multi=[],a.index=t,a.componentProviders=0,vl(a,i,r&&!n),a}(i?kw:Pw,n.length,i,r,c);!i&&K&&(n[D].providerFactory=Z),_7(a,e,t.length,0),t.push(s),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(Z),o.push(Z)}else _7(a,e,M>-1?M:D,vl(n[i?D:M],c,!i&&r));!i&&r&&K&&n[D].componentProviders++}}}function _7(e,t,n,r){const i=$4(t),a=function fz(e){return!!e.useClass}(t);if(i||a){const c=(a?V2(t.useClass):t).prototype.ngOnDestroy;if(c){const l=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){const C=l.indexOf(n);-1===C?l.push(n,[r,c]):l[C+1].push(r,c)}else l.push(n,c)}}}function vl(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function w7(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function Pw(e,t,n,r){return x7(this.multi,[])}function kw(e,t,n,r){const i=this.multi;let a;if(this.providerFactory){const o=this.providerFactory.componentProviders,s=V6(n,n[1],this.providerFactory.index,r);a=s.slice(0,o),x7(i,a);for(let c=o;c<s.length;c++)a.push(s[c])}else a=[],x7(i,a);return a}function x7(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function o1(e,t=[]){return n=>{n.providersResolver=(r,i)=>function Tw(e,t,n){const r=j2();if(r.firstCreatePass){const i=b3(e);b7(n,r.data,r.blueprint,i,!0),b7(t,r.data,r.blueprint,i,!1)}}(r,i?i(e):e,t)}}class Je{}class Ml extends Je{constructor(t,n){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new m7(this);const r=function X1(e,t){const n=e[Y9]||null;if(!n&&!0===t)throw new Error(`Type ${X2(e)} does not have '\u0275mod' property.`);return n}(t);this._bootstrapComponents=function o4(e){return e instanceof Function?e():e}(r.bootstrap),this._r3Injector=is(t,n,[{provide:Je,useValue:this},{provide:A6,useValue:this.componentFactoryResolver}],X2(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class D7 extends class Ow{}{constructor(t){super(),this.moduleType=t}create(t){return new Ml(this.moduleType,t)}}function s3(e,t,n,r){return wl(Y(),F1(),e,t,n,r)}function E7(e,t,n,r,i){return function xl(e,t,n,r,i,a,o){const s=t+n;return Y4(e,s,i,a)?G3(e,s+2,o?r.call(o,i,a):r(i,a)):Q6(e,s+2)}(Y(),F1(),e,t,n,r,i)}function B8(e,t,n,r,i,a){return function Dl(e,t,n,r,i,a,o,s){const c=t+n;return function N8(e,t,n,r,i){const a=Y4(e,t,n,r);return A1(e,t+2,i)||a}(e,c,i,a,o)?G3(e,c+3,s?r.call(s,i,a,o):r(i,a,o)):Q6(e,c+3)}(Y(),F1(),e,t,n,r,i,a)}function Q6(e,t){const n=e[t];return n===w2?void 0:n}function wl(e,t,n,r,i,a){const o=t+n;return A1(e,o,i)?G3(e,o+1,a?r.call(a,i):r(i)):Q6(e,o+1)}function J6(e,t){const n=j2();let r;const i=e+22;n.firstCreatePass?(r=function rx(e,t){if(t)for(let n=t.length-1;n>=0;n--){const r=t[n];if(e===r.name)return r}}(t,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const a=r.factory||(r.factory=U4(r.type)),o=u3(q);try{const s=e8(!1),c=a();return e8(s),function Xb(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}(n,Y(),i,c),c}finally{u3(o)}}function Z6(e,t,n){const r=e+22,i=Y(),a=pe(i,r);return function X6(e,t){return e[1].data[t].pure}(i,r)?wl(i,F1(),t,a.transform,n,a):a.transform(n)}function A7(e){return t=>{setTimeout(e,void 0,t)}}const s1=class cx extends k2{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){let i=t,a=n||(()=>null),o=r;if(t&&"object"==typeof t){const c=t;i=c.next?.bind(c),a=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(a=A7(a),i&&(i=A7(i)),o&&(o=A7(o)));const s=super.subscribe({next:i,error:a,complete:o});return t instanceof V&&t.add(s),s}};function lx(){return this._results[K4()]()}class T7{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=K4(),r=T7.prototype;r[n]||(r[n]=lx)}get changes(){return this._changes||(this._changes=new s1)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const r=this;r.dirty=!1;const i=r3(t);(this._changesDetected=!function lH(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],a=t[r];if(n&&(i=n(i),a=n(a)),a!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let M3=(()=>{class e{}return e.__NG_ELEMENT_ID__=fx,e})();const Cx=M3,ux=class extends Cx{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(t,n){const r=this._declarationTContainer.tViews,i=S8(this._declarationLView,r,t,16,null,r.declTNode,null,null,null,null,n||null);i[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(i[19]=o.createEmbeddedView(r)),b8(r,i,t),new O6(i)}};function fx(){return j8(L1(),Y())}function j8(e,t){return 4&e.type?new ux(t,e,De(e,t)):null}let Y3=(()=>{class e{}return e.__NG_ELEMENT_ID__=dx,e})();function dx(){return Pl(L1(),Y())}const hx=Y3,Al=class extends hx{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return De(this._hostTNode,this._hostLView)}get injector(){return new Me(this._hostTNode,this._hostLView)}get parentInjector(){const t=t8(this._hostTNode,this._hostLView);if(Va(t)){const n=ve(t,this._hostLView),r=ge(t);return new Me(n[1].data[r+8],n)}return new Me(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=Tl(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,n,r){let i,a;"number"==typeof r?i=r:null!=r&&(i=r.index,a=r.injector);const o=t.createEmbeddedView(n||{},a);return this.insert(o,i),o}createComponent(t,n,r,i,a){const o=t&&!function H6(e){return"function"==typeof e}(t);let s;if(o)s=n;else{const u=n||{};s=u.index,r=u.injector,i=u.projectableNodes,a=u.environmentInjector||u.ngModuleRef}const c=o?t:new F6(Q2(t)),l=r||this.parentInjector;if(!a&&null==c.ngModule){const d=(o?l:this.parentInjector).get(we,null);d&&(a=d)}const C=c.create(l,i,void 0,a);return this.insert(C.hostView,s),C}insert(t,n){const r=t._lView,i=r[1];if(function Ey(e){return S3(e[3])}(r)){const C=this.indexOf(t);if(-1!==C)this.detach(C);else{const u=r[3],d=new Al(u,u[6],u[3]);d.detach(d.indexOf(t))}}const a=this._adjustIndex(n),o=this._lContainer;!function CS(e,t,n,r){const i=10+r,a=n.length;r>0&&(n[i-1][4]=t),r<a-10?(t[4]=n[i],Ea(n,10+r,t)):(n.push(t),t[4]=null),t[3]=n;const o=t[17];null!==o&&n!==o&&function uS(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(o,t);const s=t[19];null!==s&&s.insertView(e),t[2]|=64}(i,r,o,a);const s=Bn(a,o),c=r[11],l=v8(c,o[7]);return null!==l&&function sS(e,t,n,r,i,a){r[0]=i,r[6]=t,k6(e,r,n,1,i,a)}(i,o[6],c,r,l,s),t.attachToViewContainerRef(),Ea(P7(o),a,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=Tl(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=On(this._lContainer,n);r&&(i8(P7(this._lContainer),n),Po(r[1],r))}detach(t){const n=this._adjustIndex(t,-1),r=On(this._lContainer,n);return r&&null!=i8(P7(this._lContainer),n)?new O6(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function Tl(e){return e[8]}function P7(e){return e[8]||(e[8]=[])}function Pl(e,t){let n;const r=t[e.index];if(S3(r))n=r;else{let i;if(8&e.type)i=g1(r);else{const a=t[11];i=a.createComment("");const o=p3(e,t);q4(a,v8(a,o),i,function pS(e,t){return e.nextSibling(t)}(a,o),!1)}t[e.index]=n=Ts(r,t,i,e),_8(t,n)}return new Al(n,e,t)}class k7{constructor(t){this.queryList=t,this.matches=null}clone(){return new k7(this.queryList)}setDirty(){this.queryList.setDirty()}}class I7{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,i=[];for(let a=0;a<r;a++){const o=n.getByIndex(a);i.push(this.queries[o.indexInDeclarationView].clone())}return new I7(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==Rl(t,n).matches&&this.queries[n].setDirty()}}class kl{constructor(t,n,r=null){this.predicate=t,this.flags=n,this.read=r}}class O7{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,a=this.getByIndex(r).embeddedTView(t,i);a&&(a.indexInDeclarationView=r,null!==n?n.push(a):n=[a])}return null!==n?new O7(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class F7{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new F7(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const a=r[i];this.matchTNodeWithReadOption(t,n,gx(n,a)),this.matchTNodeWithReadOption(t,n,r8(n,t,a,!1,!1))}else r===M3?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,r8(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===B1||i===Y3||i===M3&&4&n.type)this.addMatch(n.index,-2);else{const a=r8(n,t,i,!1,!1);null!==a&&this.addMatch(n.index,a)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function gx(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function Mx(e,t,n,r){return-1===n?function vx(e,t){return 11&e.type?De(e,t):4&e.type?j8(e,t):null}(t,e):-2===n?function Lx(e,t,n){return n===B1?De(t,e):n===M3?j8(t,e):n===Y3?Pl(t,e):void 0}(e,t,r):V6(e,e[1],n,t)}function Il(e,t,n,r){const i=t[19].queries[r];if(null===i.matches){const a=e.data,o=n.matches,s=[];for(let c=0;c<o.length;c+=2){const l=o[c];s.push(l<0?null:Mx(t,a[l],o[c+1],n.metadata.read))}i.matches=s}return i.matches}function R7(e,t,n,r){const i=e.queries.getByIndex(n),a=i.matches;if(null!==a){const o=Il(e,t,i,n);for(let s=0;s<a.length;s+=2){const c=a[s];if(c>0)r.push(o[s/2]);else{const l=a[s+1],C=t[-c];for(let u=10;u<C.length;u++){const d=C[u];d[17]===d[3]&&R7(d[1],d,l,r)}if(null!==C[9]){const u=C[9];for(let d=0;d<u.length;d++){const M=u[d];R7(M[1],M,l,r)}}}}}return r}function W8(e){const t=Y(),n=j2(),r=ua();U0(r+1);const i=Rl(n,r);if(e.dirty&&ia(t)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{const a=i.crossesNgTemplate?R7(n,t,r,[]):Il(n,t,i,r);e.reset(a,zz),e.notifyOnChanges()}return!0}return!1}function U8(e,t,n){const r=j2();r.firstCreatePass&&(function Fl(e,t,n){null===e.queries&&(e.queries=new O7),e.queries.track(new F7(t,n))}(r,new kl(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),function Ol(e,t,n){const r=new T7(4==(4&n));Ss(e,t,r,r.destroy),null===t[19]&&(t[19]=new I7),t[19].queries.push(new k7(r))}(r,Y(),t)}function G8(){return function yx(e,t){return e[19].queries[t].queryList}(Y(),ua())}function Rl(e,t){return e.queries.getByIndex(t)}function e5(e,t){return j8(e,t)}function q8(...e){}const aC=new _2("Application Initializer");let K8=(()=>{class e{constructor(n){this.appInits=n,this.resolve=q8,this.reject=q8,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const a=this.appInits[i]();if(A8(a))n.push(a);else if(Xs(a)){const o=new Promise((s,c)=>{a.subscribe({complete:s,error:c})});n.push(o)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)(N2(aC,8))},e.\u0275prov=B2({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const r5=new _2("AppId",{providedIn:"root",factory:function oC(){return`${G7()}${G7()}${G7()}`}});function G7(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const sC=new _2("Platform Initializer"),cC=new _2("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Wx=new _2("appBootstrapListener"),l4=new _2("LocaleId",{providedIn:"root",factory:()=>on(l4,H2.Optional|H2.SkipSelf)||function Ux(){return typeof $localize<"u"&&$localize.locale||Ye}()}),Yx=(()=>Promise.resolve(0))();function $7(e){typeof Zone>"u"?Yx.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class _1{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new s1(!1),this.onMicrotaskEmpty=new s1(!1),this.onStable=new s1(!1),this.onError=new s1(!1),typeof Zone>"u")throw new f2(908,!1);Zone.assertZonePatched();const i=this;if(i._nesting=0,i._outer=i._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const a=Zone.AsyncStackTaggingZoneSpec;i._inner=i._inner.fork(new a("Angular"))}Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function Qx(){let e=J2.requestAnimationFrame,t=J2.cancelAnimationFrame;if(typeof Zone<"u"&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function Xx(e){const t=()=>{!function Zx(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(J2,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,K7(e),e.isCheckStableRunning=!0,q7(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),K7(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,a,o,s)=>{try{return uC(e),n.invokeTask(i,a,o,s)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===a.type||e.shouldCoalesceRunChangeDetection)&&t(),fC(e)}},onInvoke:(n,r,i,a,o,s,c)=>{try{return uC(e),n.invoke(i,a,o,s,c)}finally{e.shouldCoalesceRunChangeDetection&&t(),fC(e)}},onHasTask:(n,r,i,a)=>{n.hasTask(i,a),r===i&&("microTask"==a.change?(e._hasPendingMicrotasks=a.microTask,K7(e),q7(e)):"macroTask"==a.change&&(e.hasPendingMacrotasks=a.macroTask))},onHandleError:(n,r,i,a)=>(n.handleError(i,a),e.runOutsideAngular(()=>e.onError.emit(a)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!_1.isInAngularZone())throw new f2(909,!1)}static assertNotInAngularZone(){if(_1.isInAngularZone())throw new f2(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){const a=this._inner,o=a.scheduleEventTask("NgZoneEvent: "+i,t,Jx,q8,q8);try{return a.runTask(o,n,r)}finally{a.cancelTask(o)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const Jx={};function q7(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function K7(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function uC(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function fC(e){e._nesting--,q7(e)}class eD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new s1,this.onMicrotaskEmpty=new s1,this.onStable=new s1,this.onError=new s1}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}}const dC=new _2(""),Y8=new _2("");let J7,Y7=(()=>{class e{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,J7||(function tD(e){J7=e}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{_1.assertNotInAngularZone(),$7(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())$7(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let a=-1;r&&r>0&&(a=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==a),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:a,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}}return e.\u0275fac=function(n){return new(n||e)(N2(_1),N2(Q7),N2(Y8))},e.\u0275prov=B2({token:e,factory:e.\u0275fac}),e})(),Q7=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return J7?.findTestabilityInTree(this,n,r)??null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=B2({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})(),x4=null;const hC=new _2("AllowMultipleToken"),Z7=new _2("PlatformDestroyListeners");function mC(e,t,n=[]){const r=`Platform: ${t}`,i=new _2(r);return(a=[])=>{let o=X7();if(!o||o.injector.get(hC,!1)){const s=[...n,...a,{provide:i,useValue:!0}];e?e(s):function iD(e){if(x4&&!x4.get(hC,!1))throw new f2(400,!1);x4=e;const t=e.get(vC);(function pC(e){const t=e.get(sC,null);t&&t.forEach(n=>n())})(e)}(function gC(e=[],t){return m3.create({name:t,providers:[{provide:vn,useValue:"platform"},{provide:Z7,useValue:new Set([()=>x4=null])},...e]})}(s,r))}return function oD(e){const t=X7();if(!t)throw new f2(401,!1);return t}()}}function X7(){return x4?.get(vC)??null}let vC=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function sD(e,t){let n;return n="noop"===e?new eD:("zone.js"===e?void 0:e)||new _1(t),n}(r?.ngZone,function MC(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!e||!e.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!e||!e.ngZoneRunCoalescing)||!1}}(r)),a=[{provide:_1,useValue:i}];return i.run(()=>{const o=m3.create({providers:a,parent:this.injector,name:n.moduleType.name}),s=n.create(o),c=s.injector.get(Ne,null);if(!c)throw new f2(402,!1);return i.runOutsideAngular(()=>{const l=i.onError.subscribe({next:C=>{c.handleError(C)}});s.onDestroy(()=>{J8(this._modules,s),l.unsubscribe()})}),function LC(e,t,n){try{const r=n();return A8(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(c,i,()=>{const l=s.injector.get(K8);return l.runInitializers(),l.donePromise.then(()=>(function Kc(e){J1(e,"Expected localeId to be defined"),"string"==typeof e&&(qc=e.toLowerCase().replace(/_/g,"-"))}(s.injector.get(l4,Ye)||Ye),this._moduleDoBootstrap(s),s))})})}bootstrapModule(n,r=[]){const i=VC({},r);return function nD(e,t,n){const r=new D7(n);return Promise.resolve(r)}(0,0,n).then(a=>this.bootstrapModuleFactory(a,i))}_moduleDoBootstrap(n){const r=n.injector.get(Q8);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new f2(403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new f2(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(Z7,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(N2(m3))},e.\u0275prov=B2({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function VC(e,t){return Array.isArray(t)?t.reduce(VC,e):{...e,...t}}let Q8=(()=>{class e{constructor(n,r,i){this._zone=n,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new E(s=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{s.next(this._stable),s.complete()})}),o=new E(s=>{let c;this._zone.runOutsideAngular(()=>{c=this._zone.onStable.subscribe(()=>{_1.assertNotInAngularZone(),$7(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,s.next(!0))})})});const l=this._zone.onUnstable.subscribe(()=>{_1.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{s.next(!1)}))});return()=>{c.unsubscribe(),l.unsubscribe()}});this.isStable=L0(a,o.pipe(V0()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof mo;if(!this._injector.get(K8).done)throw!i&&function n5(e){const t=Q2(e)||P1(e)||k1(e);return null!==t&&t.standalone}(n),new f2(405,false);let o;o=i?n:this._injector.get(A6).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const s=function rD(e){return e.isBoundToModule}(o)?void 0:this._injector.get(Je),l=o.create(m3.NULL,[],r||o.selector,s),C=l.location.nativeElement,u=l.injector.get(dC,null);return u?.registerApplication(C),l.onDestroy(()=>{this.detachView(l.hostView),J8(this.components,l),u?.unregisterApplication(C)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new f2(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;J8(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(Wx,[]).concat(this._bootstrapListeners).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>J8(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new f2(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(n){return new(n||e)(N2(_1),N2(we),N2(Ne))},e.\u0275prov=B2({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function J8(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}let HC=!0,bC=(()=>{class e{}return e.__NG_ELEMENT_ID__=CD,e})();function CD(e){return function uD(e,t,n){if(W5(e)&&!n){const r=n3(e.index,t);return new O6(r,r)}return 47&e.type?new O6(t[16],t):null}(L1(),Y(),16==(16&e))}class xC{constructor(){}supports(t){return R6(t)}create(t){return new gD(t)}}const mD=(e,t)=>t;class gD{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||mD}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,i=0,a=null;for(;n||r;){const o=!r||n&&n.currentIndex<NC(r,i,a)?n:r,s=NC(o,i,a),c=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{a||(a=[]);const l=s-i,C=c-i;if(l!=C){for(let d=0;d<l;d++){const M=d<a.length?a[d]:a[d]=0,D=M+d;C<=D&&D<l&&(a[d]=M+1)}a[o.previousIndex]=C-l}}s!==c&&t(o,s,c)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!R6(t))throw new f2(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i,a,o,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let s=0;s<this.length;s++)a=t[s],o=this._trackByFn(s,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,s)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,s),r=!0),n=n._next}else i=0,function Kb(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[K4()]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,s=>{o=this._trackByFn(i,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,i)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,i){let a;return null===t?a=this._itTail:(a=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,a,i)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,a,i)):t=this._addAfter(new vD(n,r),a,i),t}_verifyReinsertion(t,n,r,i){let a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==a?t=this._reinsertAfter(a,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,a=t._nextRemoved;return null===i?this._removalsHead=a:i._nextRemoved=a,null===a?this._removalsTail=i:a._prevRemoved=i,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const i=null===n?this._itHead:n._next;return t._next=i,t._prev=n,null===i?this._itTail=t:i._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new DC),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new DC),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class vD{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class MD{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class DC{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new MD,this.map.set(n,r)),r.add(t)}get(t,n){const i=this.map.get(t);return i?i.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function NC(e,t,n){const r=e.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}class EC{constructor(){}supports(t){return t instanceof Map||v7(t)}create(){return new LD}}class LD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||v7(t)))throw new f2(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const a=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,a)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const r=t._prev;return n._next=t,n._prev=r,t._prev=n,r&&(r._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const i=this._records.get(t);this._maybeAddToChanges(i,n);const a=i._prev,o=i._next;return a&&(a._next=o),o&&(o._prev=a),i._next=null,i._prev=null,i}const r=new VD(t);return this._records.set(t,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(r=>n(t[r],r))}}class VD{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function AC(){return new et([new xC])}let et=(()=>{class e{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||AC()),deps:[[e,new c8,new s8]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new f2(901,!1)}}return e.\u0275prov=B2({token:e,providedIn:"root",factory:AC}),e})();function TC(){return new i5([new EC])}let i5=(()=>{class e{constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||TC()),deps:[[e,new c8,new s8]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(r)return r;throw new f2(901,!1)}}return e.\u0275prov=B2({token:e,providedIn:"root",factory:TC}),e})();const zD=mC(null,"core",[]);let SD=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(N2(Q8))},e.\u0275mod=f3({type:e}),e.\u0275inj=Z1({}),e})();let tt=null;function Z4(){return tt}const c3=new _2("DocumentToken");let T3=(()=>{class e{constructor(n,r,i,a){this._iterableDiffers=n,this._keyValueDiffers=r,this._ngEl=i,this._renderer=a,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(n){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof n?n.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(n){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof n?n.split(/\s+/):n,this._rawClass&&(R6(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const n=this._iterableDiffer.diff(this._rawClass);n&&this._applyIterableChanges(n)}else if(this._keyValueDiffer){const n=this._keyValueDiffer.diff(this._rawClass);n&&this._applyKeyValueChanges(n)}}_applyKeyValueChanges(n){n.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),n.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),n.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(n){n.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${X2(r.item)}`);this._toggleClass(r.item,!0)}),n.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(n){n&&(Array.isArray(n)||n instanceof Set?n.forEach(r=>this._toggleClass(r,!0)):Object.keys(n).forEach(r=>this._toggleClass(r,!!n[r])))}_removeClasses(n){n&&(Array.isArray(n)||n instanceof Set?n.forEach(r=>this._toggleClass(r,!1)):Object.keys(n).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(n,r){(n=n.trim())&&n.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return e.\u0275fac=function(n){return new(n||e)(q(et),q(i5),q(B1),q(a4))},e.\u0275dir=z2({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),e})();class pN{constructor(t,n,r,i){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let s5=(()=>{class e{constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,a,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new pN(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===a?void 0:a);else if(null!==a){const s=r.get(a);r.move(s,o),$C(s,i)}});for(let i=0,a=r.length;i<a;i++){const s=r.get(i).context;s.index=i,s.count=a,s.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{$C(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}}return e.\u0275fac=function(n){return new(n||e)(q(Y3),q(M3),q(et))},e.\u0275dir=z2({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function $C(e,t){e.context.$implicit=t.item}let f4=(()=>{class e{constructor(n,r){this._viewContainer=n,this._context=new gN,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){qC("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){qC("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return e.\u0275fac=function(n){return new(n||e)(q(Y3),q(M3))},e.\u0275dir=z2({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class gN{constructor(){this.$implicit=null,this.ngIf=null}}function qC(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${X2(t)}'.`)}class hr{constructor(t,n){this._viewContainerRef=t,this._templateRef=n,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let ut=(()=>{class e{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(n){this._ngSwitch=n,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(n){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(n)}_matchCase(n){const r=n==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(n){if(this._defaultViews&&n!==this._defaultUsed){this._defaultUsed=n;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(n)}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=z2({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),e})(),KC=(()=>{class e{constructor(n,r,i){this.ngSwitch=i,i._addCase(),this._view=new hr(n,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return e.\u0275fac=function(n){return new(n||e)(q(Y3),q(M3),q(ut,9))},e.\u0275dir=z2({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),e})(),QC=(()=>{class e{constructor(n,r,i){this._ngEl=n,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}ngDoCheck(){if(this._differ){const n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}_setStyle(n,r){const[i,a]=n.split("."),o=-1===i.indexOf("-")?void 0:K1.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,a?`${r}${a}`:r,o):this._renderer.removeStyle(this._ngEl.nativeElement,i,o)}_applyChanges(n){n.forEachRemovedItem(r=>this._setStyle(r.key,null)),n.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),n.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return e.\u0275fac=function(n){return new(n||e)(q(B1),q(i5),q(a4))},e.\u0275dir=z2({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),e})(),JC=(()=>{class e{constructor(n){this._viewContainerRef=n,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(n){if(n.ngTemplateOutlet||n.ngTemplateOutletInjector){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:i,ngTemplateOutletContext:a,ngTemplateOutletInjector:o}=this;this._viewRef=r.createEmbeddedView(i,a,o?{injector:o}:void 0)}else this._viewRef=null}else this._viewRef&&n.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return e.\u0275fac=function(n){return new(n||e)(q(Y3))},e.\u0275dir=z2({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[t3]}),e})();class LN{createSubscription(t,n){return t.subscribe({next:n,error:r=>{throw r}})}dispose(t){t.unsubscribe()}}class VN{createSubscription(t,n){return t.then(n,r=>{throw r})}dispose(t){}}const yN=new VN,HN=new LN;let ZC=(()=>{class e{constructor(n){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){return this._obj?n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue:(n&&this._subscribe(n),this._latestValue)}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r))}_selectStrategy(n){if(A8(n))return yN;if(Zs(n))return HN;throw function P3(e,t){return new f2(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return e.\u0275fac=function(n){return new(n||e)(q(bC,16))},e.\u0275pipe=$1({name:"async",type:e,pure:!1,standalone:!0}),e})(),ft=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=f3({type:e}),e.\u0275inj=Z1({}),e})();class gr extends class GN extends class wD{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function _D(e){tt||(tt=e)}(new gr)}onAndCancel(t,n,r){return t.addEventListener(n,r,!1),()=>{t.removeEventListener(n,r,!1)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function $N(){return c5=c5||document.querySelector("base"),c5?c5.getAttribute("href"):null}();return null==n?null:function qN(e){dt=dt||document.createElement("a"),dt.setAttribute("href",e);const t=dt.pathname;return"/"===t.charAt(0)?t:`/${t}`}(n)}resetBaseElement(){c5=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function dN(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[i,a]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(a)}return null}(document.cookie,t)}}let dt,c5=null;const nu=new _2("TRANSITION_ID"),YN=[{provide:aC,useFactory:function KN(e,t,n){return()=>{n.get(K8).donePromise.then(()=>{const r=Z4(),i=t.querySelectorAll(`style[ng-transition="${e}"]`);for(let a=0;a<i.length;a++)r.remove(i[a])})}},deps:[nu,c3,m3],multi:!0}];let JN=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=B2({token:e,factory:e.\u0275fac}),e})();const ht=new _2("EventManagerPlugins");let pt=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>i.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let a=0;a<i.length;a++){const o=i[a];if(o.supports(n))return this._eventNameToPlugin.set(n,o),o}throw new Error(`No event manager plugin found for event ${n}`)}}return e.\u0275fac=function(n){return new(n||e)(N2(ht),N2(_1))},e.\u0275prov=B2({token:e,factory:e.\u0275fac}),e})();class ru{constructor(t){this._doc=t}addGlobalEventListener(t,n,r){const i=Z4().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let iu=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=B2({token:e,factory:e.\u0275fac}),e})(),l5=(()=>{class e extends iu{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,i){n.forEach(a=>{const o=this._doc.createElement("style");o.textContent=a,i.push(r.appendChild(o))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(au),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(n,i,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(au))}}return e.\u0275fac=function(n){return new(n||e)(N2(c3))},e.\u0275prov=B2({token:e,factory:e.\u0275fac}),e})();function au(e){Z4().remove(e)}const vr={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Mr=/%COMP%/g;function mt(e,t,n){for(let r=0;r<t.length;r++){let i=t[r];Array.isArray(i)?mt(e,i,n):(i=i.replace(Mr,e),n.push(i))}return n}function cu(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let Lr=(()=>{class e{constructor(n,r,i){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Vr(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case F3.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new rE(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(n),i}case 1:case F3.ShadowDom:return new iE(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const i=mt(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(n){return new(n||e)(N2(pt),N2(l5),N2(r5))},e.\u0275prov=B2({token:e,factory:e.\u0275fac}),e})();class Vr{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,n){return n?document.createElementNS(vr[n]||n,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,n){(Cu(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(Cu(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;const a=vr[i];a?t.setAttributeNS(a,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const i=vr[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(K1.DashCase|K1.Important)?t.style.setProperty(n,r,i&K1.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&K1.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t[n]=r}setValue(t,n){t.nodeValue=n}listen(t,n,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,n,cu(r)):this.eventManager.addEventListener(t,n,cu(r))}}function Cu(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class rE extends Vr{constructor(t,n,r,i){super(t),this.component=r;const a=mt(i+"-"+r.id,r.styles,[]);n.addStyles(a),this.contentAttr=function eE(e){return"_ngcontent-%COMP%".replace(Mr,e)}(i+"-"+r.id),this.hostAttr=function tE(e){return"_nghost-%COMP%".replace(Mr,e)}(i+"-"+r.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}class iE extends Vr{constructor(t,n,r,i){super(t),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=mt(i.id,i.styles,[]);for(let o=0;o<a.length;o++){const s=document.createElement("style");s.textContent=a[o],this.shadowRoot.appendChild(s)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let aE=(()=>{class e extends ru{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return e.\u0275fac=function(n){return new(n||e)(N2(c3))},e.\u0275prov=B2({token:e,factory:e.\u0275fac}),e})();const uu=["alt","control","meta","shift"],sE={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},fu={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},cE={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let lE=(()=>{class e extends ru{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,i){const a=e.parseEventName(r),o=e.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Z4().onAndCancel(n,a.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=e._normalizeKey(r.pop());let o="";if(uu.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),o+=c+".")}),o+=a,0!=r.length||0===a.length)return null;const s={};return s.domEventName=i,s.fullKey=o,s}static getEventFullKey(n){let r="",i=function CE(e){let t=e.key;if(null==t){if(t=e.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&fu.hasOwnProperty(t)&&(t=fu[t]))}return sE[t]||t}(n);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),uu.forEach(a=>{a!=i&&(0,cE[a])(n)&&(r+=a+".")}),r+=i,r}static eventCallback(n,r,i){return a=>{e.getEventFullKey(a)===n&&i.runGuarded(()=>r(a))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return e.\u0275fac=function(n){return new(n||e)(N2(c3))},e.\u0275prov=B2({token:e,factory:e.\u0275fac}),e})();const hE=mC(zD,"browser",[{provide:cC,useValue:"browser"},{provide:sC,useValue:function uE(){gr.makeCurrent()},multi:!0},{provide:c3,useFactory:function dE(){return function TH(e){ln=e}(document),document},deps:[]}]),hu=new _2(""),pu=[{provide:Y8,useClass:class QN{addToWindow(t){J2.getAngularTestability=(r,i=!0)=>{const a=t.findTestabilityInTree(r,i);if(null==a)throw new Error("Could not find testability for element.");return a},J2.getAllAngularTestabilities=()=>t.getAllTestabilities(),J2.getAllAngularRootElements=()=>t.getAllRootElements(),J2.frameworkStabilizers||(J2.frameworkStabilizers=[]),J2.frameworkStabilizers.push(r=>{const i=J2.getAllAngularTestabilities();let a=i.length,o=!1;const s=function(c){o=o||c,a--,0==a&&r(o)};i.forEach(function(c){c.whenStable(s)})})}findTestabilityInTree(t,n,r){return null==n?null:t.getTestability(n)??(r?Z4().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},deps:[]},{provide:dC,useClass:Y7,deps:[_1,Q7,Y8]},{provide:Y7,useClass:Y7,deps:[_1,Q7,Y8]}],mu=[{provide:vn,useValue:"root"},{provide:Ne,useFactory:function fE(){return new Ne},deps:[]},{provide:ht,useClass:aE,multi:!0,deps:[c3,_1,cC]},{provide:ht,useClass:lE,multi:!0,deps:[c3]},{provide:Lr,useClass:Lr,deps:[pt,l5,r5]},{provide:vo,useExisting:Lr},{provide:iu,useExisting:l5},{provide:l5,useClass:l5,deps:[c3]},{provide:pt,useClass:pt,deps:[ht,_1]},{provide:class UN{},useClass:JN,deps:[]},[]];let pE=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:r5,useValue:n.appId},{provide:nu,useExisting:r5},YN]}}}return e.\u0275fac=function(n){return new(n||e)(N2(hu,12))},e.\u0275mod=f3({type:e}),e.\u0275inj=Z1({providers:[...mu,...pu],imports:[ft,SD]}),e})();typeof window<"u"&&window;let Mu=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=B2({token:e,factory:function(n){let r=null;return r=n?new(n||e):N2(Lu),r},providedIn:"root"}),e})(),Lu=(()=>{class e extends Mu{constructor(n){super(),this._doc=n}sanitize(n,r){if(null==r)return null;switch(n){case n1.NONE:return r;case n1.HTML:return j3(r,"HTML")?a3(r):no(this._doc,String(r)).toString();case n1.STYLE:return j3(r,"Style")?a3(r):r;case n1.SCRIPT:if(j3(r,"Script"))return a3(r);throw new Error("unsafe value used in a script context");case n1.URL:return j3(r,"URL")?a3(r):D6(String(r));case n1.RESOURCE_URL:if(j3(r,"ResourceURL"))return a3(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${n} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(n){return function WH(e){return new IH(e)}(n)}bypassSecurityTrustStyle(n){return function UH(e){return new OH(e)}(n)}bypassSecurityTrustScript(n){return function GH(e){return new FH(e)}(n)}bypassSecurityTrustUrl(n){return function $H(e){return new RH(e)}(n)}bypassSecurityTrustResourceUrl(n){return function qH(e){return new BH(e)}(n)}}return e.\u0275fac=function(n){return new(n||e)(N2(c3))},e.\u0275prov=B2({token:e,factory:function(n){let r=null;return r=n?new n:function zE(e){return new Lu(e.get(c3))}(N2(m3)),r},providedIn:"root"}),e})();function Vu(e,t,n,r,i,a,o){try{var s=e[a](o),c=s.value}catch(l){return void n(l)}s.done?t(c):Promise.resolve(c).then(r,i)}function yu(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var a=e.apply(t,n);function o(c){Vu(a,r,i,o,s,"next",c)}function s(c){Vu(a,r,i,o,s,"throw",c)}o(void 0)})}}class zr extends k2{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}function d4(e,t){return c1((n,r)=>{let i=0;n.subscribe(I2(r,a=>e.call(t,a,i++)&&r.next(a)))})}function gt(e){return e<=0?()=>v0:c1((t,n)=>{let r=0;t.subscribe(I2(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function Hu(e,t=x2){return e=e??SE,c1((n,r)=>{let i,a=!0;n.subscribe(I2(r,o=>{const s=t(o);(a||!e(i,s))&&(a=!1,i=s,r.next(o))}))})}function SE(e,t){return e===t}const vt=new zr(!1),_E=vt.asObservable().pipe(d4(e=>!e),gt(1)),Sr={};new class wE{registerPreStoreUpdate(t){Sr.preStoreUpdate=t}};const C5=new Map,br=new k2;br.asObservable();class NE extends zr{constructor(t){super(t.state),this.storeDef=t,this.batchInProgress=!1,this.context={config:this.getConfig()},this.state=t.state,this.initialState=this.getValue(),function xE(e){C5.set(e.name,e),br.next({type:"add",store:e})}(this)}get name(){return this.storeDef.name}getConfig(){return this.storeDef.config}query(t){return t(this.getValue())}update(...t){const n=this.getValue();let r=t.reduce((i,a)=>a(i,this.context),n);Sr.preStoreUpdate&&(r=Sr.preStoreUpdate(n,r,this.name)),r!==n&&(this.state=r,vt.getValue()?this.batchInProgress||(this.batchInProgress=!0,_E.subscribe(()=>{super.next(this.state),this.batchInProgress=!1})):super.next(this.state))}getValue(){return this.state}reset(){this.update(()=>this.initialState)}combine(t){let n=!0;const r={};return new E(i=>{for(const[a,o]of Object.entries(t))i.add(o.subscribe(s=>{r[a]=s,n=!0}));return this.subscribe({next(){n&&(i.next(r),n=!1)},error(a){i.error(a)},complete(){i.complete()}})})}destroy(){(function DE(e){C5.delete(e.name),br.next({type:"remove",store:e})})(this),this.reset()}next(t){this.update(()=>t)}error(){}complete(){}}function e6(e){return Array.isArray(e)?e:[e]}function u5(e){return"function"==typeof e}function Mt(e){return e.charAt(0).toUpperCase()+e.slice(1)}function AE(e){return"object"==typeof e&&!Array.isArray(e)&&null!==e}function zu(e){return g(x1(e),Hu())}function Su(e,{initialValue:t,config:n}){let r=t;const i=Mt(e);return{[`with${i}`]:(a=r)=>({props:{[e]:a},config:n}),[`set${i}InitialValue`](a){r=a},[`set${i}`]:a=>function(o){const s=u5(a)?a(o):a;return s===o[e]?o:Object.assign({},o,{[e]:s})},[`update${i}`]:a=>function(o){const s=u5(a)?a(o):a;return s===o[e]?o:Object.assign({},o,{[e]:AE(s)?Object.assign({},o[e],s):s})},[`reset${i}`]:()=>function(a){return Object.assign({},a,{[e]:r})},[`select${i}`]:()=>zu(a=>a[e]),[`get${i}`]:a=>a[e]}}function kE(e,t){return[...e,...e6(t)]}function IE(e,t){const n=e6(t);return e.filter(r=>!n.includes(r))}function OE(e,t){const n=e6(t),r=[...e];return n.forEach(i=>{const a=r.indexOf(i);a>-1?r.splice(a,1):r.push(i)}),r}function RE(e,t,n){return e.map(r=>r===t?n:r)}function Lt(e,t){const n={},r=[];for(const i of e){const a=i[t];r.push(a),n[a]=i}return{ids:r,asObject:n}}class WE{constructor(t){this.idKeyRef="idKey",this.entitiesKey=t.entitiesKey,this.idsKey=t.idsKey,this.idKeyRef=t.idKeyRef}}function _u(e){const t=e?`idKey${Mt(e)}`:"idKey",n=new WE({entitiesKey:e?`${e}Entities`:"entities",idsKey:e?`${e}Ids`:"ids",idKeyRef:t});return{[`${e}EntitiesRef`]:n,[`with${Mt(e)}Entities`]:function r(i){let a={},o=[];const s=i?.idKey||"id";return null!=i&&i.initialValue&&({ids:o,asObject:a}=Lt(i.initialValue,s)),{props:{[n.entitiesKey]:a,[n.idsKey]:o},config:{[t]:s}}}}}const{withEntities:UE,EntitiesRef:W2}=_u("");function wr(e,t={}){return function(n){const{ref:{idsKey:r,entitiesKey:i}=W2}=t,a=e6(e),o=Object.assign({},n[i]),s=n[r].filter(c=>!a.includes(c));for(const c of a)Reflect.deleteProperty(o,c);return Object.assign({},n,{[i]:o,[r]:s})}}function Du(e,t){return u5(e)?e(t):Object.assign({},t,e)}function yt(e,t,n={}){return function(r){const{ref:{entitiesKey:i}=W2}=n,a={};for(const o of e6(e))a[o]=Du(t,r[i][o]);return Object.assign({},r,{[i]:Object.assign({},r[i],a)})}}function Eu(e={}){const{ref:{entitiesKey:t,idsKey:n}=W2}=e;return zu(r=>r[t][r[n][r[n].length-1]])}_u("UI");Su("activeId",{initialValue:void 0}),function PE(e,t){const n=Mt(e),r=Su(e,t);Object.assign({},r,{[`add${n}`]:i=>function(a){return Object.assign({},a,{[e]:kE(a[e],i)})},[`remove${n}`]:i=>function(a){return Object.assign({},a,{[e]:IE(a[e],i)})},[`toggle${n}`]:i=>function(a){return Object.assign({},a,{[e]:OE(a[e],i)})},[`update${n}`]:(i,a)=>function(o){return Object.assign({},o,{[e]:RE(o[e],i,a)})},[`in${n}`]:i=>a=>function FE(e,t){return e.includes(t)}(a[e],i)})}("activeIds",{initialValue:[]});const xr=y(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function Au(e,t){const n="object"==typeof t;return new Promise((r,i)=>{let o,a=!1;e.subscribe({next:s=>{o=s,a=!0},error:i,complete:()=>{a?r(o):n?r(t.defaultValue):i(new xr)}})})}var Q3=(()=>{return(e=Q3||(Q3={}))[e.CharacterCreation=0]="CharacterCreation",e[e.Simple=1]="Simple",e[e.Debug=2]="Debug",Q3;var e})();const{isArray:oA}=Array;function Tu(e){return x1(t=>function sA(e,t){return oA(t)?e(...t):e(t)}(e,t))}const cA=["addListener","removeListener"],lA=["addEventListener","removeEventListener"],CA=["on","off"];function X4(e,t,n,r){if(v(n)&&(r=n,n=void 0),r)return X4(e,t,n).pipe(Tu(r));const[i,a]=function dA(e){return v(e.addEventListener)&&v(e.removeEventListener)}(e)?lA.map(o=>s=>e[o](t,s,n)):function uA(e){return v(e.addListener)&&v(e.removeListener)}(e)?cA.map(Pu(e,t)):function fA(e){return v(e.on)&&v(e.off)}(e)?CA.map(Pu(e,t)):[];if(!i&&m0(e))return g0(o=>X4(o,t,n))(y3(e));if(!i)throw new TypeError("Invalid event target");return new E(o=>{const s=(...c)=>o.next(1<c.length?c:c[0]);return i(s),()=>a(s)})}function Pu(e,t){return n=>r=>e[n](t,r)}function ku(e){return c1((t,n)=>{let r=!1;t.subscribe(I2(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function hA(e=pA){return c1((t,n)=>{let r=!1;t.subscribe(I2(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function pA(){return new xr}function h5(e){return c1((t,n)=>{y3(e).subscribe(I2(n,()=>n.complete(),f)),!n.closed&&t.subscribe(n)})}function vA(e,t){1&e&&R2(0,"h2",10),2&e&&$("innerHTML",d2().title.content,h8)}function MA(e,t){1&e&&E8(0)}function LA(e,t){if(1&e&&(Q(0,"h2"),h2(1,MA,1,0,"ng-container",11),X()),2&e){const n=d2();J(1),$("ngTemplateOutlet",n.title.content)("ngTemplateOutletContext",n.context)}}function VA(e,t){if(1&e&&R2(0,"p",10),2&e){const n=d2();_4("with-title",n.title),$("innerHTML",n.body.content,h8)}}function yA(e,t){1&e&&E8(0)}function HA(e,t){if(1&e&&(Q(0,"p"),h2(1,yA,1,0,"ng-container",11),X()),2&e){const n=d2();_4("with-title",n.title),J(1),$("ngTemplateOutlet",n.body.content)("ngTemplateOutletContext",n.context)}}const zA=[[["",8,"icon"]],[["",8,"btn"]]],SA=[".icon",".btn"],Iu="[_nghost-%COMP%]{display:flex;flex-direction:column;flex-grow:1;overflow:hidden}",bA=["backdrop"],_A=["dialog"];function wA(e,t){if(1&e&&R2(0,"div",6),2&e){const n=d2(),r=$e(3);$("dialogDragEnabled",!0)("dialogDragTarget",r)("dragConstraint",n.config.dragConstraint)}}function xA(e,t){if(1&e){const n=v3();Q(0,"div",7),O2("click",function(){return I1(n),O1(d2().closeDialog())}),g6(),Q(1,"svg",8),R2(2,"path",9),X()()}}function Ht(e){return function DA(e){return null==e}(e)?"":function NA(e){return"string"==typeof e}(e)?e:`${e}px`}const Dr=Symbol("Dialog Content Data");class p5{}class Nr extends p5{constructor(t={}){super(),this.beforeCloseGuards=[],this.mutate(t)}close(t){this.canClose(t).pipe(d4(Boolean)).subscribe({next:()=>this.onClose(t)})}beforeClose(t){this.beforeCloseGuards.push(t)}resetDrag(t){this.onReset(t)}canClose(t){return L0(...this.beforeCloseGuards.map(r=>r(t)).filter(r=>void 0!==r&&!0!==r).map(r=>"boolean"==typeof r?function aA(...e){return P5(e,B9(e))}(r):P5(r).pipe(d4(i=>!i)))).pipe(ku(!0),function mA(e,t){const n=arguments.length>=2;return r=>r.pipe(e?d4((i,a)=>e(i,a,r)):x2,gt(1),n?ku(t):hA(()=>new xr))}())}mutate(t){Object.assign(this,t)}asDialogRef(){return this}}let ee=(()=>{class e{constructor(n){this.ref=n,this.title=this.ref.data[Dr].title,this.body=this.ref.data[Dr].body,this.context={$implicit:this.ref,data:this.ref.data}}}return e.\u0275fac=function(n){return new(n||e)(q(p5))},e.\u0275cmp=p1({type:e,selectors:[["ngneat-dialog-base"]],ngContentSelectors:SA,decls:12,vars:6,consts:[[1,"dialog"],[1,"dialog-header"],[1,"dialog-icon"],[3,"ngSwitch"],[3,"innerHTML",4,"ngSwitchCase"],[4,"ngSwitchCase"],[1,"dialog-content",3,"ngSwitch"],[3,"with-title","innerHTML",4,"ngSwitchCase"],[3,"with-title",4,"ngSwitchCase"],[1,"dialog-footer"],[3,"innerHTML"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(n,r){1&n&&(L7(zA),Q(0,"div",0)(1,"div",1)(2,"span",2),T8(3),X(),j6(4,3),h2(5,vA,1,1,"h2",4),h2(6,LA,2,2,"h2",5),W6(),X(),Q(7,"div",6),h2(8,VA,1,3,"p",7),h2(9,HA,2,4,"p",8),X(),Q(10,"div",9),T8(11,1),X()()),2&n&&(J(4),$("ngSwitch",null==r.title?null:r.title.type),J(1),$("ngSwitchCase","string"),J(1),$("ngSwitchCase","template"),J(1),$("ngSwitch",r.body.type),J(1),$("ngSwitchCase","string"),J(1),$("ngSwitchCase","template"))},dependencies:[ut,KC,JC],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;overflow:hidden;flex-grow:1}.dialog[_ngcontent-%COMP%]{flex-grow:1;display:flex;align-items:center;flex-direction:column;justify-content:flex-start;overflow:hidden}.dialog-header[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:row;align-items:center;width:100%;margin:0;padding:18px 40px 10px 30px}.dialog-header[_ngcontent-%COMP%]   .dialog-icon[_ngcontent-%COMP%]    {display:flex}.dialog-header[_ngcontent-%COMP%]   .dialog-icon[_ngcontent-%COMP%]     .icon{width:24px;margin-right:10px}.dialog-header[_ngcontent-%COMP%]   .dialog-icon[_ngcontent-%COMP%]     .icon-success{fill:#72c140}.dialog-header[_ngcontent-%COMP%]   .dialog-icon[_ngcontent-%COMP%]     .icon-question{fill:#f0af41}.dialog-header[_ngcontent-%COMP%]   .dialog-icon[_ngcontent-%COMP%]     .icon-error{fill:#e74c3c}.dialog-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;margin:0}.dialog-content[_ngcontent-%COMP%]{width:100%;flex-grow:1;overflow:auto;position:relative;display:flex;flex-direction:column;padding:0 30px 30px}.dialog-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.75;margin:5px 0}.dialog-content[_ngcontent-%COMP%]   .with-title[_ngcontent-%COMP%]{padding-left:35px}.dialog-footer[_ngcontent-%COMP%]    {display:flex;width:100%;justify-content:flex-end;padding:17px 30px 16px;border-top:1px solid #f1f2f5}.dialog-footer[_ngcontent-%COMP%]     .btn{margin-right:10px;padding:10px 18px;border:0;border-radius:4px;cursor:pointer}.dialog-footer[_ngcontent-%COMP%]     .btn:focus{outline:none}.dialog-footer[_ngcontent-%COMP%]     .btn:last-child{margin-right:0}.dialog-footer[_ngcontent-%COMP%]     .btn-success{background-color:#4091f7;color:#fff}.dialog-footer[_ngcontent-%COMP%]     .btn-error{background-color:#e74c3c;color:#fff}.dialog-footer[_ngcontent-%COMP%]     .btn-cancel{background-color:#fff;border:2px solid #4091f7;color:#4091f7}"],changeDetection:0}),e})(),Ou=(()=>{class e extends ee{}return e.\u0275fac=function(){let t;return function(r){return(t||(t=V1(e)))(r||e)}}(),e.\u0275cmp=p1({type:e,selectors:[["ngneat-dialog-success"]],features:[$2],decls:7,vars:0,consts:[["x","0px","y","0px","viewBox","0 0 496 496",1,"icon","icon-success"],["d","M248,0C111.033,0,0,111.033,0,248s111.033,248,248,248s248-111.033,248-248C495.841,111.099,384.901,0.159,248,0z      M248,480C119.87,480,16,376.13,16,248S119.87,16,248,16s232,103.87,232,232C479.859,376.072,376.072,479.859,248,480z"],["d","M370.344,158.344L208,320.688l-82.344-82.344c-3.178-3.07-8.242-2.982-11.312,0.196c-2.994,3.1-2.994,8.015,0,11.116     l88,88c3.124,3.123,8.188,3.123,11.312,0l168-168c3.07-3.178,2.982-8.242-0.196-11.312     C378.359,155.35,373.444,155.35,370.344,158.344z"],[1,"btn","btn-success","ngneat-dialog-primary-btn",3,"click"]],template:function(n,r){1&n&&(Q(0,"ngneat-dialog-base"),g6(),Q(1,"svg",0)(2,"g"),R2(3,"path",1)(4,"path",2),X()(),K5(),Q(5,"button",3),O2("click",function(){return r.ref.close()}),u2(6,"OK"),X()())},dependencies:[ee],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex-grow:1;overflow:hidden}"],changeDetection:0}),e})(),Fu=(()=>{class e extends ee{}return e.\u0275fac=function(){let t;return function(r){return(t||(t=V1(e)))(r||e)}}(),e.\u0275cmp=p1({type:e,selectors:[["ngneat-dialog-confirm"]],features:[$2],decls:10,vars:0,consts:[["x","0px","y","0px","viewBox","0 0 512 512",1,"icon","icon-question"],["cx","256","cy","378.5","r","25"],["d","M256,0C114.516,0,0,114.497,0,256c0,141.484,114.497,256,256,256c141.484,0,256-114.497,256-256     C512,114.516,397.503,0,256,0z M256,472c-119.377,0-216-96.607-216-216c0-119.377,96.607-216,216-216     c119.377,0,216,96.607,216,216C472,375.377,375.393,472,256,472z"],["d","M256,128.5c-44.112,0-80,35.888-80,80c0,11.046,8.954,20,20,20s20-8.954,20-20c0-22.056,17.944-40,40-40     c22.056,0,40,17.944,40,40c0,22.056-17.944,40-40,40c-11.046,0-20,8.954-20,20v50c0,11.046,8.954,20,20,20     c11.046,0,20-8.954,20-20v-32.531c34.466-8.903,60-40.26,60-77.469C336,164.388,300.112,128.5,256,128.5z"],[1,"btn","btn-cancel","ngneat-dialog-secondary-btn",3,"click"],[1,"btn","btn-success","ngneat-dialog-primary-btn",3,"click"]],template:function(n,r){1&n&&(Q(0,"ngneat-dialog-base"),g6(),Q(1,"svg",0)(2,"g"),R2(3,"circle",1)(4,"path",2)(5,"path",3),X()(),K5(),Q(6,"button",4),O2("click",function(){return r.ref.close(!1)}),u2(7,"Cancel"),X(),Q(8,"button",5),O2("click",function(){return r.ref.close(!0)}),u2(9,"OK"),X()())},dependencies:[ee],styles:[Iu],changeDetection:0}),e})(),Ru=(()=>{class e extends ee{}return e.\u0275fac=function(){let t;return function(r){return(t||(t=V1(e)))(r||e)}}(),e.\u0275cmp=p1({type:e,selectors:[["ngneat-dialog-error"]],features:[$2],decls:7,vars:0,consts:[["x","0px","y","0px","viewBox","0 0 512 512",1,"icon","icon-error"],["d","M256,0C114.508,0,0,114.497,0,256c0,141.493,114.497,256,256,256c141.492,0,256-114.497,256-256    C512,114.507,397.503,0,256,0z M256,472c-119.384,0-216-96.607-216-216c0-119.385,96.607-216,216-216    c119.384,0,216,96.607,216,216C472,375.385,375.393,472,256,472z"],["d","M343.586,315.302L284.284,256l59.302-59.302c7.81-7.81,7.811-20.473,0.001-28.284c-7.812-7.811-20.475-7.81-28.284,0    L256,227.716l-59.303-59.302c-7.809-7.811-20.474-7.811-28.284,0c-7.81,7.811-7.81,20.474,0.001,28.284L227.716,256    l-59.302,59.302c-7.811,7.811-7.812,20.474-0.001,28.284c7.813,7.812,20.476,7.809,28.284,0L256,284.284l59.303,59.302    c7.808,7.81,20.473,7.811,28.284,0C351.398,335.775,351.397,323.112,343.586,315.302z"],[1,"btn","btn-error","ngneat-dialog-primary-btn",3,"click"]],template:function(n,r){1&n&&(Q(0,"ngneat-dialog-base"),g6(),Q(1,"svg",0)(2,"g"),R2(3,"path",1)(4,"path",2),X()(),K5(),Q(5,"button",3),O2("click",function(){return r.ref.close()}),u2(6,"OK"),X()())},dependencies:[ee],styles:[Iu],changeDetection:0}),e})();const Bu=new _2("A reference to the document. Useful for iframes that want appends to parent window",{providedIn:"root",factory:()=>on(c3)}),ju=new _2("Global dialog config token"),zt=new _2("Dialog config token",{providedIn:"root",factory:()=>({id:void 0,container:on(Bu).body,backdrop:!0,closeButton:!0,enableClose:!0,draggable:!1,dragConstraint:"none",resizable:!1,size:"md",windowClass:void 0,width:void 0,height:void 0,minHeight:void 0,maxHeight:void 0,data:void 0,vcr:void 0,sizes:{sm:{minHeight:"200px",width:"400px"},md:{minHeight:"280px",width:"560px"},lg:{minHeight:"350px",width:"800px"},fullScreen:{height:"100%",width:"100%"}},success:{component:Ou},confirm:{component:Fu},error:{component:Ru},onClose:void 0,onOpen:void 0})}),Wu=new _2("Nodes inserted into the dialog");let Uu=(()=>{class e{constructor(n,r,i){this.host=n,this.zone=r,this.renderer=i,this.dialogDragEnabled=!1,this.delta={x:0,y:0},this.offset={x:0,y:0},this.enabled=!0,this.destroy$=new k2}set dialogDragOffset(n){this.reset(n)}ngAfterViewInit(){!this.enabled||this.init()}ngOnChanges(){!this.enabled&&this.dialogDragEnabled&&this.dialogDragTarget&&(this.enabled=!0,this.handle?this.renderer.setStyle(this.handle,"cursor","move"):this.enabled&&this.init()),this.dialogDragEnabled||(this.enabled=!1,this.handle&&this.renderer.setStyle(this.handle,"cursor",""))}ngOnDestroy(){this.destroy$.next()}reset(n){const r={x:0,y:0};this.offset={...r,...n},this.delta={...r},this.translate()}setupEvents(){this.zone.runOutsideAngular(()=>{const n=X4(this.handle,"mousedown"),r=X4(document,"mousemove"),i=X4(document,"mouseup");n.pipe(d4(()=>this.enabled),x1(o=>({startX:o.clientX,startY:o.clientY})),function gA(e,t){return c1((n,r)=>{let i=null,a=0,o=!1;const s=()=>o&&!i&&r.complete();n.subscribe(I2(r,c=>{i?.unsubscribe();let l=0;const C=a++;y3(e(c,C)).subscribe(i=I2(r,u=>r.next(t?t(c,u,C,l++):u),()=>{i=null,s()}))},()=>{o=!0,s()}))})}(({startX:o,startY:s})=>r.pipe(x1(c=>{c.preventDefault(),this.delta={x:c.clientX-o,y:c.clientY-s},"constrain"===this.dragConstraint&&this.checkConstraint()}),h5(i))),h5(this.destroy$)).subscribe(()=>{0===this.delta.x&&0===this.delta.y||this.translate()}),i.pipe(d4(()=>this.enabled),d4(()=>0!==this.delta.x||0!==this.delta.y),h5(this.destroy$)).subscribe(()=>{"bounce"===this.dragConstraint&&(this.checkConstraint(),this.translate()),this.offset.x+=this.delta.x,this.offset.y+=this.delta.y,this.delta={x:0,y:0}})})}translate(){this.target&&this.zone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this.renderer.setStyle(this.target,"transform",`translate(${this.translateX}px, ${this.translateY}px)`)})})}get translateX(){return this.offset.x+this.delta.x}get translateY(){return this.offset.y+this.delta.y}init(){if(!this.dialogDragTarget)throw new Error("You need to specify the drag target");this.handle=this.dialogDragHandle instanceof Element?this.dialogDragHandle:"string"==typeof this.dialogDragHandle&&this.dialogDragHandle?document.querySelector(this.dialogDragHandle):this.host.nativeElement,this.handle&&this.enabled&&this.renderer.setStyle(this.handle,"cursor","move"),this.target=this.dialogDragTarget instanceof HTMLElement?this.dialogDragTarget:document.querySelector(this.dialogDragTarget),this.setupEvents(),this.translate()}checkConstraint(){const{width:r,height:i}=this.target.getBoundingClientRect(),{innerWidth:o,innerHeight:s}=window,c=this.translateY>0?this.translateY+i/2:this.translateY-i/2,l=s/2,C=this.translateX>0?this.translateX+r/2:this.translateX-r/2,u=o/2;-l>c&&(this.delta.y=i/2-l-this.offset.y),l<c&&(this.delta.y=l-i/2-this.offset.y),-u>C&&(this.delta.x=r/2-u-this.offset.x),u<C&&(this.delta.x=u-r/2-this.offset.x)}}return e.\u0275fac=function(n){return new(n||e)(q(B1),q(_1),q(a4))},e.\u0275dir=z2({type:e,selectors:[["","dialogDraggable",""]],inputs:{dialogDragHandle:"dialogDragHandle",dialogDragTarget:"dialogDragTarget",dialogDragEnabled:"dialogDragEnabled",dialogDragOffset:"dialogDragOffset",dragConstraint:"dragConstraint"},features:[t3]}),e})(),EA=(()=>{class e{constructor(n,{nativeElement:r},i,a,o){this.document=n,this.dialogRef=i,this.config=a,this.nodes=o,this.size=this.config.sizes?.[this.config.size||"md"],this.styles={width:Ht(this.config.width||this.size?.width),height:Ht(this.config.height||this.size?.height),minHeight:Ht(this.config.minHeight||this.size?.minHeight),maxHeight:Ht(this.config.maxHeight||this.size?.maxHeight)},this.destroy$=new k2,r.id=this.config.id,this.nodes.forEach(s=>r.appendChild(s)),a.windowClass&&a.windowClass.split(/\s/).filter(c=>c).forEach(c=>r.classList.add(c))}ngOnInit(){const r=this.dialogElement.nativeElement,i=X4(this.config.backdrop?this.backdrop.nativeElement:this.document.body,"click",{capture:!0}).pipe(d4(({target:a})=>!r.contains(a)));i.pipe(h5(this.destroy$)).subscribe(this.dialogRef.backdropClick$),this.config.enableClose&&L0(X4(this.document.body,"keyup").pipe(d4(({key:a})=>"Escape"===a)),i).pipe(h5(this.destroy$)).subscribe(()=>this.closeDialog()),this.nodes.forEach(a=>r.appendChild(a))}reset(n){this.config.draggable&&this.draggable.reset(n)}closeDialog(){this.dialogRef.close()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.dialogRef=null,this.nodes=null}}return e.\u0275fac=function(n){return new(n||e)(q(c3),q(B1),q(Nr),q(zt),q(Wu))},e.\u0275cmp=p1({type:e,selectors:[["ngneat-dialog"]],viewQuery:function(n,r){if(1&n&&(U8(bA,7),U8(_A,7),U8(Uu,5)),2&n){let i;W8(i=G8())&&(r.backdrop=i.first),W8(i=G8())&&(r.dialogElement=i.first),W8(i=G8())&&(r.draggable=i.first)}},decls:6,vars:8,consts:[[1,"ngneat-dialog-backdrop",3,"hidden"],["backdrop",""],[1,"ngneat-dialog-content",3,"ngStyle"],["dialog",""],["class","ngneat-drag-marker","dialogDraggable","",3,"dialogDragEnabled","dialogDragTarget","dragConstraint",4,"ngIf"],["class","ngneat-close-dialog",3,"click",4,"ngIf"],["dialogDraggable","",1,"ngneat-drag-marker",3,"dialogDragEnabled","dialogDragTarget","dragConstraint"],[1,"ngneat-close-dialog",3,"click"],["viewBox","0 0 329.26933 329","xmlns","http://www.w3.org/2000/svg"],["fill","currentColor","d","m194.800781 164.769531 128.210938-128.214843c8.34375-8.339844 8.34375-21.824219 0-30.164063-8.339844-8.339844-21.824219-8.339844-30.164063 0l-128.214844 128.214844-128.210937-128.214844c-8.34375-8.339844-21.824219-8.339844-30.164063 0-8.34375 8.339844-8.34375 21.824219 0 30.164063l128.210938 128.214843-128.210938 128.214844c-8.34375 8.339844-8.34375 21.824219 0 30.164063 4.15625 4.160156 9.621094 6.25 15.082032 6.25 5.460937 0 10.921875-2.089844 15.082031-6.25l128.210937-128.214844 128.214844 128.214844c4.160156 4.160156 9.621094 6.25 15.082032 6.25 5.460937 0 10.921874-2.089844 15.082031-6.25 8.34375-8.339844 8.34375-21.824219 0-30.164063zm0 0"]],template:function(n,r){1&n&&(Q(0,"div",0,1)(2,"div",2,3),h2(4,wA,1,3,"div",4),h2(5,xA,3,0,"div",5),X()()),2&n&&(_4("ngneat-dialog-backdrop-visible",r.config.backdrop),$("hidden",!r.config.backdrop),J(2),_4("ngneat-dialog-resizable",r.config.resizable),$("ngStyle",r.styles),J(2),$("ngIf",r.config.draggable),J(1),$("ngIf",r.config.closeButton))},dependencies:[QC,f4,Uu],styles:[".ngneat-dialog-content{display:flex;flex-direction:column;overflow:hidden;position:relative;-webkit-animation:dialog-open .4s cubic-bezier(.25,.8,.25,1);animation:dialog-open .4s cubic-bezier(.25,.8,.25,1);border-radius:4px;box-sizing:border-box;box-shadow:0 11px 15px -7px #0003,0 24px 38px 3px #00000024,0 9px 46px 8px #0000001f;background:#fff;color:#000000de;width:auto;max-width:100%;height:auto;max-height:100%}@-webkit-keyframes dialog-open{0%{transform:translate(50px)}to{transform:none}}@keyframes dialog-open{0%{transform:translate(50px)}to{transform:none}}.ngneat-dialog-content.ngneat-dialog-resizable{resize:both}.ngneat-dialog-backdrop{position:fixed;display:flex;align-items:center;justify-content:center;top:0;left:0;bottom:0;right:0;height:100%;width:100%;padding:30px;z-index:1050;background:rgba(0,0,0,.32);-webkit-animation:dialog-open-backdrop .3s;animation:dialog-open-backdrop .3s}@-webkit-keyframes dialog-open-backdrop{0%{opacity:0}to{opacity:1}}@keyframes dialog-open-backdrop{0%{opacity:0}to{opacity:1}}.ngneat-drag-marker{position:absolute;left:0;top:0;cursor:move;width:100%;height:10px;z-index:1051}.ngneat-close-dialog{display:flex;align-items:center;justify-content:center;position:absolute;top:10px;cursor:pointer;right:10px;width:24px;height:24px;color:#5f6368;transition:color .2s ease-in-out;z-index:1051}.ngneat-close-dialog svg{width:12px;height:12px}.ngneat-close-dialog:hover{color:#5d9ff1}body.ngneat-dialog-hidden{overflow:hidden}\n"],encapsulation:2}),e})();const Gu="ngneat-dialog-hidden";let $u=(()=>{class e{constructor(n,r,i,a,o,s){this.appRef=n,this.componentFactoryResolver=r,this.injector=i,this.document=a,this.defaultConfig=o,this.globalConfig=s,this.dialogs=[],this.dialogFactory=this.componentFactoryResolver.resolveComponentFactory(EA)}closeAll(){this.dialogs.forEach(n=>n.close())}success(n,r={}){const i=this.mergeConfigWithContent(this.applyDefaultSize(r),n);return this.open(i.success.component,i)}confirm(n,r={}){const i=this.mergeConfigWithContent(this.applyDefaultSize(r),n);return this.open(i.confirm.component,i)}error(n,r={}){const i=this.mergeConfigWithContent(this.applyDefaultSize(r),n);return this.open(i.error.component,i)}open(n,r={}){const i=this.mergeConfig(r);i.onOpen?.();const a=new Nr({id:i.id,data:i.data,backdropClick$:new k2}),o={config:i,dialogRef:a};return this.throwIfIDAlreadyExists(i.id),this.dialogs.push(a),1===this.dialogs.length&&this.document.body.classList.add(Gu),n instanceof M3?this.openTemplate(n,o):"function"==typeof n?this.openComponent(n,o):this.throwMustBeAComponentOrATemplateRef(n)}openTemplate(n,{config:r,dialogRef:i}){const a={$implicit:i,config:r},o=r.vcr?.createEmbeddedView(n,a)||n.createEmbeddedView(a);return this.attach({dialogRef:i,config:r,ref:n,view:o,attachToApp:!r.vcr})}openComponent(n,{config:r,dialogRef:i}){const o=this.componentFactoryResolver.resolveComponentFactory(n).create(m3.create({providers:[{provide:p5,useValue:i},{provide:zt,useValue:r}],parent:r.vcr?.injector||this.injector}));return this.attach({dialogRef:i,config:r,ref:o,view:o.hostView,attachToApp:!0})}attach({dialogRef:n,config:r,ref:i,view:a,attachToApp:o}){const s=this.createDialog(r,n,a),c=r.container instanceof B1?r.container.nativeElement:r.container,l={after:new k2};return n.mutate({id:r.id,data:r.data,ref:i,onClose:d=>{this.globalConfig.onClose?.(),this.dialogs=this.dialogs.filter(({id:M})=>n.id!==M),c.removeChild(s.location.nativeElement),this.appRef.detachView(s.hostView),this.appRef.detachView(a),s.destroy(),a.destroy(),n.backdropClick$.complete(),n.mutate({ref:null,onClose:null,afterClosed$:null,backdropClick$:null,beforeCloseGuards:null,onReset:null}),l.after.next(d),l.after.complete(),0===this.dialogs.length&&this.document.body.classList.remove(Gu)},afterClosed$:l.after.asObservable(),onReset:d=>{s.instance.reset(d)}}),c.appendChild(s.location.nativeElement),this.appRef.attachView(s.hostView),o&&this.appRef.attachView(a),n.asDialogRef()}createDialog(n,r,i){return this.dialogFactory.create(m3.create({providers:[{provide:Nr,useValue:r},{provide:zt,useValue:n},{provide:Wu,useValue:i.rootNodes}],parent:this.injector}))}mergeConfig(n){return{...this.defaultConfig,id:`dialog-${Math.random().toString(36).substring(7)}`,...this.globalConfig,...this.cleanConfig(n),sizes:{...this.defaultConfig.sizes,...this.globalConfig?.sizes,...n?.sizes}}}mergeConfigWithContent(n,r){const{data:i,...a}=this.mergeConfig(n);return{...a,data:{...i,[Dr]:this.isTemplateOrString(r)?{title:null,body:{type:this.getTypeOfContent(r),content:r}}:Object.entries(r).reduce((o,[s,c])=>(o[s]={type:this.getTypeOfContent(c),content:c},o),{})}}}cleanConfig(n){return Object.entries(n).reduce((r,[i,a])=>(null!=a&&(r[i]=a),r),{})}isTemplateOrString(n){return n instanceof M3||"string"==typeof n}getTypeOfContent(n){return n instanceof M3?"template":"string"}throwMustBeAComponentOrATemplateRef(n){throw new TypeError(`Dialog must receive a Component or a TemplateRef, but this has been passed instead: ${n}`)}throwIfIDAlreadyExists(n){if(this.dialogs.find(r=>r.id===n))throw new Error(`Please, ID must be unique, but there is already a dialog created with this ID: ${n}`)}applyDefaultSize(n){return{...n,size:n.size||"sm"}}}return e.\u0275fac=function(n){return new(n||e)(N2(Q8),N2(A6),N2(m3),N2(Bu),N2(zt),N2(ju))},e.\u0275prov=B2({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),TA=(()=>{class e{static forRoot(n={}){return{ngModule:e,providers:[{provide:ju,useValue:n}]}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=f3({type:e}),e.\u0275inj=Z1({imports:[[ft]]}),e})();function PA(e,t){if(1&e&&(Q(0,"p"),u2(1),X()),2&e){const n=t.$implicit;J(1),w4(" ",n," ")}}const m5=function(e){return{selected:e}};let kA=(()=>{class e{constructor(n){this.ref=n}get title(){return this.ref.data.title}get paragraphs(){return this.ref.data.paragraphs}get statValue(){return this.ref.data.statValue?this.ref.data.statValue:-1}}return e.\u0275fac=function(n){return new(n||e)(q(p5))},e.\u0275cmp=p1({type:e,selectors:[["ng-component"]],decls:19,vars:17,consts:[[1,"explanation"],[3,"ngClass"],[4,"ngFor","ngForOf"]],template:function(n,r){1&n&&(Q(0,"div")(1,"h1"),u2(2),X(),Q(3,"p",0)(4,"span",1),u2(5,"1 - Ignorant"),X(),u2(6," | "),Q(7,"span",1),u2(8,"2 - Unfamiliar"),X(),u2(9," | "),Q(10,"span",1),u2(11,"3 - Novice"),X(),u2(12," | "),Q(13,"span",1),u2(14,"4 - Beginner"),X(),u2(15," | "),Q(16,"span",1),u2(17,"5 - Average"),X()(),h2(18,PA,2,1,"p",2),X()),2&n&&(J(2),N3(r.title),J(2),$("ngClass",s3(7,m5,1==r.statValue)),J(3),$("ngClass",s3(9,m5,2==r.statValue)),J(3),$("ngClass",s3(11,m5,3==r.statValue)),J(3),$("ngClass",s3(13,m5,4==r.statValue)),J(3),$("ngClass",s3(15,m5,5==r.statValue)),J(2),$("ngForOf",r.paragraphs))},dependencies:[T3,s5],styles:['h1[_ngcontent-%COMP%]{margin:0;color:var(--main)}h1[_ngcontent-%COMP%]:after{content:"Major Arcana";font-size:.5em;font-weight:lighter;color:var(--secondary-text);display:block;margin-top:-10px}p[_ngcontent-%COMP%]{font-size:.9em}p[_ngcontent-%COMP%]:nth-child(3){margin-bottom:0}p[_ngcontent-%COMP%]:nth-child(3):before{content:"Upright: ";font-weight:700}p[_ngcontent-%COMP%]:nth-child(4){margin-top:0}p[_ngcontent-%COMP%]:nth-child(4):before{content:"Reversed: ";font-weight:700}p[_ngcontent-%COMP%]:nth-child(5):before{content:"Recommended for: ";font-weight:700}p[_ngcontent-%COMP%]:nth-child(6){font-size:1em}p[_ngcontent-%COMP%]:nth-child(7){font-size:1em}.explanation[_ngcontent-%COMP%]{font-size:.9em;color:var(--secondary-text)}.explanation[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{color:var(--analog1);font-weight:700}'],changeDetection:0}),e})();var Ku={prefix:"fas",iconName:"angle-left",icon:[256,512,[8249],"f104","M192 448c-8.188 0-16.38-3.125-22.62-9.375l-160-160c-12.5-12.5-12.5-32.75 0-45.25l160-160c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25L77.25 256l137.4 137.4c12.5 12.5 12.5 32.75 0 45.25C208.4 444.9 200.2 448 192 448z"]},Yu={prefix:"fas",iconName:"angle-right",icon:[256,512,[8250],"f105","M64 448c-8.188 0-16.38-3.125-22.62-9.375c-12.5-12.5-12.5-32.75 0-45.25L178.8 256L41.38 118.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0l160 160c12.5 12.5 12.5 32.75 0 45.25l-160 160C80.38 444.9 72.19 448 64 448z"]},nf={prefix:"fas",iconName:"arrow-left",icon:[448,512,[8592],"f060","M447.1 256C447.1 273.7 433.7 288 416 288H109.3l105.4 105.4c12.5 12.5 12.5 32.75 0 45.25C208.4 444.9 200.2 448 192 448s-16.38-3.125-22.62-9.375l-160-160c-12.5-12.5-12.5-32.75 0-45.25l160-160c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25L109.3 224H416C433.7 224 447.1 238.3 447.1 256z"]},of={prefix:"fas",iconName:"arrow-right",icon:[448,512,[8594],"f061","M438.6 278.6l-160 160C272.4 444.9 264.2 448 256 448s-16.38-3.125-22.62-9.375c-12.5-12.5-12.5-32.75 0-45.25L338.8 288H32C14.33 288 .0016 273.7 .0016 256S14.33 224 32 224h306.8l-105.4-105.4c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0l160 160C451.1 245.9 451.1 266.1 438.6 278.6z"]},Rr={prefix:"fas",iconName:"backward-step",icon:[320,512,["step-backward"],"f048","M31.1 64.03c-17.67 0-31.1 14.33-31.1 32v319.9c0 17.67 14.33 32 32 32C49.67 447.1 64 433.6 64 415.1V96.03C64 78.36 49.67 64.03 31.1 64.03zM267.5 71.41l-192 159.1C67.82 237.8 64 246.9 64 256c0 9.094 3.82 18.18 11.44 24.62l192 159.1c20.63 17.12 52.51 2.75 52.51-24.62v-319.9C319.1 68.66 288.1 54.28 267.5 71.41z"]},Br={prefix:"fas",iconName:"bahai",icon:[512,512,["haykal"],"f666","M496.3 202.5l-110-15.38l41.88-104.4c6.625-16.63-11.63-32.25-26.63-22.63L307.5 120l-34.13-107.1C270.6 4.25 263.4 0 255.1 0C248.6 0 241.4 4.25 238.6 12.88L204.5 120L110.5 60.12c-15-9.5-33.22 5.1-26.6 22.63l41.85 104.4L15.71 202.5C-1.789 205-5.915 228.8 9.71 237.2l98.14 52.63l-74.51 83.5c-10.88 12.25-1.78 31 13.35 31c1.25 0 2.657-.25 4.032-.5l108.6-23.63l-4.126 112.5C154.7 504.4 164.1 512 173.6 512c5.125 0 10.38-2.25 14.25-7.25l68.13-88.88l68.23 88.88C327.1 509.8 333.2 512 338.4 512c9.5 0 18.88-7.625 18.38-19.25l-4.032-112.5l108.5 23.63c17.38 3.75 29.25-17.25 17.38-30.5l-74.51-83.5l98.14-52.72C517.9 228.8 513.8 205 496.3 202.5zM338.5 311.6L286.6 300.4l2 53.75l-32.63-42.5l-32.63 42.5l2-53.75L173.5 311.6l35.63-39.87L162.1 246.6L214.7 239.2L194.7 189.4l45 28.63L255.1 166.8l16.25 51.25l45-28.63L297.2 239.2l52.63 7.375l-47 25.13L338.5 311.6z"]},Xf={prefix:"fas",iconName:"brain",icon:[512,512,[129504],"f5dc","M184 0C214.9 0 240 25.07 240 56V456C240 486.9 214.9 512 184 512C155.1 512 131.3 490.1 128.3 461.9C123.1 463.3 117.6 464 112 464C76.65 464 48 435.3 48 400C48 392.6 49.27 385.4 51.59 378.8C21.43 367.4 0 338.2 0 304C0 272.1 18.71 244.5 45.77 231.7C37.15 220.8 32 206.1 32 192C32 161.3 53.59 135.7 82.41 129.4C80.84 123.9 80 118 80 112C80 82.06 100.6 56.92 128.3 49.93C131.3 21.86 155.1 0 184 0zM383.7 49.93C411.4 56.92 432 82.06 432 112C432 118 431.2 123.9 429.6 129.4C458.4 135.7 480 161.3 480 192C480 206.1 474.9 220.8 466.2 231.7C493.3 244.5 512 272.1 512 304C512 338.2 490.6 367.4 460.4 378.8C462.7 385.4 464 392.6 464 400C464 435.3 435.3 464 400 464C394.4 464 388.9 463.3 383.7 461.9C380.7 490.1 356.9 512 328 512C297.1 512 272 486.9 272 456V56C272 25.07 297.1 0 328 0C356.9 0 380.7 21.86 383.7 49.93z"]},qr={prefix:"fas",iconName:"circle-arrow-right",icon:[512,512,["arrow-circle-right"],"f0a9","M256 0C114.6 0 0 114.6 0 256c0 141.4 114.6 256 256 256s256-114.6 256-256C512 114.6 397.4 0 256 0zM406.6 278.6l-103.1 103.1c-12.5 12.5-32.75 12.5-45.25 0s-12.5-32.75 0-45.25L306.8 288H128C110.3 288 96 273.7 96 256s14.31-32 32-32h178.8l-49.38-49.38c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0l103.1 103.1C414.6 241.3 416 251.1 416 256C416 260.9 414.6 270.7 406.6 278.6z"]},zd=qr,Rd={prefix:"fas",iconName:"circle-notch",icon:[512,512,[],"f1ce","M222.7 32.15C227.7 49.08 218.1 66.9 201.1 71.94C121.8 95.55 64 169.1 64 255.1C64 362 149.1 447.1 256 447.1C362 447.1 448 362 448 255.1C448 169.1 390.2 95.55 310.9 71.94C293.9 66.9 284.3 49.08 289.3 32.15C294.4 15.21 312.2 5.562 329.1 10.6C434.9 42.07 512 139.1 512 255.1C512 397.4 397.4 511.1 256 511.1C114.6 511.1 0 397.4 0 255.1C0 139.1 77.15 42.07 182.9 10.6C199.8 5.562 217.6 15.21 222.7 32.15V32.15z"]},lh={prefix:"fas",iconName:"dice",icon:[640,512,[127922],"f522","M447.1 224c0-12.56-4.781-25.13-14.35-34.76l-174.9-174.9C249.1 4.786 236.5 0 223.1 0C211.4 0 198.9 4.786 189.2 14.35L14.35 189.2C4.783 198.9-.0011 211.4-.0011 223.1c0 12.56 4.785 25.17 14.35 34.8l174.9 174.9c9.625 9.562 22.19 14.35 34.75 14.35s25.13-4.783 34.75-14.35l174.9-174.9C443.2 249.1 447.1 236.6 447.1 224zM96 248c-13.25 0-23.1-10.75-23.1-23.1s10.75-23.1 23.1-23.1S120 210.8 120 224S109.3 248 96 248zM224 376c-13.25 0-23.1-10.75-23.1-23.1s10.75-23.1 23.1-23.1s23.1 10.75 23.1 23.1S237.3 376 224 376zM224 248c-13.25 0-23.1-10.75-23.1-23.1s10.75-23.1 23.1-23.1S248 210.8 248 224S237.3 248 224 248zM224 120c-13.25 0-23.1-10.75-23.1-23.1s10.75-23.1 23.1-23.1s23.1 10.75 23.1 23.1S237.3 120 224 120zM352 248c-13.25 0-23.1-10.75-23.1-23.1s10.75-23.1 23.1-23.1s23.1 10.75 23.1 23.1S365.3 248 352 248zM591.1 192l-118.7 0c4.418 10.27 6.604 21.25 6.604 32.23c0 20.7-7.865 41.38-23.63 57.14l-136.2 136.2v46.37C320 490.5 341.5 512 368 512h223.1c26.5 0 47.1-21.5 47.1-47.1V240C639.1 213.5 618.5 192 591.1 192zM479.1 376c-13.25 0-23.1-10.75-23.1-23.1s10.75-23.1 23.1-23.1s23.1 10.75 23.1 23.1S493.2 376 479.1 376z"]},am={prefix:"fas",iconName:"infinity",icon:[640,512,[9854,8734],"f534","M494.9 96.01c-38.78 0-75.22 15.09-102.6 42.5L320 210.8L247.8 138.5c-27.41-27.41-63.84-42.5-102.6-42.5C65.11 96.01 0 161.1 0 241.1v29.75c0 80.03 65.11 145.1 145.1 145.1c38.78 0 75.22-15.09 102.6-42.5L320 301.3l72.23 72.25c27.41 27.41 63.84 42.5 102.6 42.5C574.9 416 640 350.9 640 270.9v-29.75C640 161.1 574.9 96.01 494.9 96.01zM202.5 328.3c-15.31 15.31-35.69 23.75-57.38 23.75C100.4 352 64 315.6 64 270.9v-29.75c0-44.72 36.41-81.13 81.14-81.13c21.69 0 42.06 8.438 57.38 23.75l72.23 72.25L202.5 328.3zM576 270.9c0 44.72-36.41 81.13-81.14 81.13c-21.69 0-42.06-8.438-57.38-23.75l-72.23-72.25l72.23-72.25c15.31-15.31 35.69-23.75 57.38-23.75C539.6 160 576 196.4 576 241.1V270.9z"]},Et={prefix:"fas",iconName:"magnifying-glass",icon:[512,512,[128269,"search"],"f002","M500.3 443.7l-119.7-119.7c27.22-40.41 40.65-90.9 33.46-144.7C401.8 87.79 326.8 13.32 235.2 1.723C99.01-15.51-15.51 99.01 1.724 235.2c11.6 91.64 86.08 166.7 177.6 178.9c53.8 7.189 104.3-6.236 144.7-33.46l119.7 119.7c15.62 15.62 40.95 15.62 56.57 0C515.9 484.7 515.9 459.3 500.3 443.7zM79.1 208c0-70.58 57.42-128 128-128s128 57.42 128 128c0 70.58-57.42 128-128 128S79.1 278.6 79.1 208z"]},fi={prefix:"fas",iconName:"mobile-screen-button",icon:[384,512,["mobile-alt"],"f3cd","M304 0h-224c-35.35 0-64 28.65-64 64v384c0 35.35 28.65 64 64 64h224c35.35 0 64-28.65 64-64V64C368 28.65 339.3 0 304 0zM192 480c-17.75 0-32-14.25-32-32s14.25-32 32-32s32 14.25 32 32S209.8 480 192 480zM304 64v320h-224V64H304z"]},mg={prefix:"fas",iconName:"play",icon:[384,512,[9654],"f04b","M361 215C375.3 223.8 384 239.3 384 256C384 272.7 375.3 288.2 361 296.1L73.03 472.1C58.21 482 39.66 482.4 24.52 473.9C9.377 465.4 0 449.4 0 432V80C0 62.64 9.377 46.63 24.52 38.13C39.66 29.64 58.21 29.99 73.03 39.04L361 215z"]},rM={prefix:"fas",iconName:"user",icon:[448,512,[62144,128100],"f007","M224 256c70.7 0 128-57.31 128-128s-57.3-128-128-128C153.3 0 96 57.31 96 128S153.3 256 224 256zM274.7 304H173.3C77.61 304 0 381.6 0 477.3c0 19.14 15.52 34.67 34.66 34.67h378.7C432.5 512 448 496.5 448 477.3C448 381.6 370.4 304 274.7 304z"]},Q52=S(106),h4=(()=>{return(e=h4||(h4={}))[e.Explore=0]="Explore",e[e.Advance=1]="Advance",e[e.ThoughtAdvance=2]="ThoughtAdvance",h4;var e})(),te=(()=>{return(e=te||(te={}))[e.Start=0]="Start",e[e.End=1]="End",te;var e})();class J52{constructor(t){this.choiceKinds=t}isExplore(){return-1!=this.choiceKinds.indexOf(h4.Explore)}isAdvance(){return-1!=this.choiceKinds.indexOf(h4.Advance)}isThoughtAdvance(){return-1!=this.choiceKinds.indexOf(h4.ThoughtAdvance)}}class Z52{constructor(t){this.tags=t}get(t){for(let n of this.tags)if(n.startsWith(t))return this.parseTag(n);return null}getAll(t){let n=[];for(let r of this.tags)r.startsWith(t)&&n.push(this.parseTag(r));return n}parseTag(t){if(-1!=t.indexOf(":")){let n=t.split(":");return{name:n[0],value:n[1]}}return{name:t,value:null}}}const SM=/(?:\[s\])((.)*)(?:\[\|\])((.)*)(?:\[\/s\])/g,bM=/(?:\[c\])((.)*)(?:\[\|\])((.)*)(?:\[\/c\])/g;class X52{constructor(t){this.json=t}getJson(){return this.json}}let ne=(()=>{class e{constructor(){this.piecesIds=0,this.storyPiecesEmitter=new s1,this.variableEmitter=new s1,this.story=new Q52.Story(storyContent),this.story.BindExternalFunctionGeneral("format_stat_name",n=>n[0].maxItem.Key.itemName.toUpperCase(),!1),this.story.BindExternalFunctionGeneral("format_stat_box",n=>{let r=n[0];return`[s]${n[1].maxItem.Key.itemName.toLowerCase()}[|]${r}[/s]`},!1)}ngOnDestroy(){}getStoryGroups(){return this.storyPiecesEmitter.asObservable().pipe(V0())}getVariables(){return this.variableEmitter.asObservable().pipe(V0())}continue(){let n=[];for(;this.story.canContinue;){let a=this.story.Continue();n.push({kind:"paragraph",text:a??"",tags:new Z52(this.story.currentTags??[])})}let r=this.story.currentChoices?.map(a=>{let o=this.story.state.VisitCountAtPathString(a.pathStringOnChoice)??0;return{text:a.text,index:a.index,visited:o>0}});n.push({kind:"choice_list",choices:r??[]});let i={id:this.getNextId(),items:[]};for(let a of n){let o=this.convertPiece(a);i.items.push(...o)}this.storyPiecesEmitter.next(i)}chooseChoiceIndex(n){this.story.ChooseChoiceIndex(n)}save(){let n=this.story.state.ToJson();return new X52(n)}load(n){this.story.state.LoadJson(n.getJson())}call(n,r,i){return this.story.EvaluateFunction(n,r,i)}get(n){return this.story.variablesState.GetVariableWithName(n)}getNextId(){return this.piecesIds+=1,this.piecesIds.toString()}convertPiece(n){if("paragraph"==n.kind){let D=function(I){return null!=I},r=n.tags.get("command"),i=n.tags.get("divider");if(r||i)return[{id:this.getNextId(),kind:"command",text:i?"[[divider]]":n.text}];let a=null;if(n.tags.get("difficulty")){let I=n.text.split("|");if(2!=I.length)throw new Error(`unexpected split lenght ${n.text}`);a=I[0],n.text=I[1]}let s=n.tags.get("voice"),c=n.tags.get("success"),l=n.tags.get("failure"),C=n.tags.get("statCheck"),u=n.tags.get("trainOfThoughtStart"),d=n.tags.get("trainOfThoughtEnd"),M=null;return u?M=te.Start:d&&(M=te.End),[{id:this.getNextId(),kind:"paragraph",text:n.text,voice:s?.value||null,difficulty:a,success:!!c||!l&&null,statCheck:!!C,meets:n.tags.getAll("meet").map(I=>I.value).filter(D),trainOfThought:M}]}if("choice_list"==n.kind){let r=[];for(let i of n.choices){let a=new J52(this.getChoiceKinds(i.text)),o=this.getBox(i.text),s=this.getStatCheck(i.text);r.push(o?{id:this.getNextId(),kind:"contextual_choice",text:this.filterChoiceText(i.text),index:i.index,choiceKinds:a,visited:i.visited,box:o}:s?{id:this.getNextId(),kind:"active_stat_check_choice",text:this.filterChoiceText(i.text),index:i.index,choiceKinds:a,visited:i.visited,stat:s[0],difficulty:s[1]}:"CONTINUE >>>"==i.text?{id:this.getNextId(),kind:"continue_choice",text:i.text,index:i.index}:{id:this.getNextId(),kind:"simple_choice",text:this.filterChoiceText(i.text),index:i.index,choiceKinds:a,visited:i.visited})}return r}throw new Error(`invalid kind for RawPiece ${n}`)}getChoiceKinds(n){let r=[];return-1!=n.indexOf("[>]")&&r.push(h4.Advance),-1!=n.indexOf("[e]")&&r.push(h4.Explore),-1!=n.indexOf("[t>]")&&r.push(h4.ThoughtAdvance),r}getBox(n){let r=SM.exec(n);return r?[r[1],r[3]]:null}getStatCheck(n){let r=bM.exec(n);return r?[r[1],r[3]]:null}filterChoiceText(n){return n.replace("[>]","").replace("[e]","").replace("[t>]","").replace(SM,"").replace(bM,"")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=B2({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function _M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function C2(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_M(Object(n),!0).forEach(function(r){n82(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_M(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jt(e){return(jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function wM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n82(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wi(e,t){return function a82(e){if(Array.isArray(e))return e}(e)||function s82(e,t){var n=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,s,r=[],i=!0,a=!1;try{for(n=n.call(e);!(i=(o=n.next()).done)&&(r.push(o.value),!t||r.length!==t);i=!0);}catch(c){a=!0,s=c}finally{try{!i&&null!=n.return&&n.return()}finally{if(a)throw s}}return r}}(e,t)||xM(e,t)||function l82(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ut(e){return function i82(e){if(Array.isArray(e))return xi(e)}(e)||function o82(e){if(typeof Symbol<"u"&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||xM(e)||function c82(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xM(e,t){if(e){if("string"==typeof e)return xi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xi(e,t)}}function xi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var DM=function(){},Di={},NM={},EM=null,AM={mark:DM,measure:DM};try{typeof window<"u"&&(Di=window),typeof document<"u"&&(NM=document),typeof MutationObserver<"u"&&(EM=MutationObserver),typeof performance<"u"&&(AM=performance)}catch{}var TM=(Di.navigator||{}).userAgent,PM=void 0===TM?"":TM,N4=Di,i1=NM,kM=EM,Gt=AM,p4=!!i1.documentElement&&!!i1.head&&"function"==typeof i1.addEventListener&&"function"==typeof i1.createElement,IM=~PM.indexOf("MSIE")||~PM.indexOf("Trident/"),m4="___FONT_AWESOME___",FM="svg-inline--fa",re="data-fa-i2svg",Ei="data-fa-pseudo-element",Ai="data-prefix",Ti="data-icon",RM="fontawesome-i2svg",d82=["HTML","HEAD","STYLE","SCRIPT"],BM=function(){try{return!0}catch{return!1}}(),Pi={fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit",fa:"solid"},$t={solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"},jM={fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},h82={"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},p82=/fa[srltdbk]?[\-\ ]/,WM="fa-layers-text",m82=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Kit)?.*/i,g82={900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},UM=[1,2,3,4,5,6,7,8,9,10],v82=UM.concat([11,12,13,14,15,16,17,18,19,20]),M82=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],L82=[].concat(Ut(Object.keys($t)),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul","duotone-group","swap-opacity","primary","secondary"]).concat(UM.map(function(e){return"".concat(e,"x")})).concat(v82.map(function(e){return"w-".concat(e)})),GM=N4.FontAwesomeConfig||{};i1&&"function"==typeof i1.querySelector&&[["data-family-prefix","familyPrefix"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(e){var t=wi(e,2),r=t[1],i=function y82(e){return""===e||"false"!==e&&("true"===e||e)}(function V82(e){var t=i1.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(t[0]));null!=i&&(GM[r]=i)});var H5=C2(C2({},{familyPrefix:"fa",styleDefault:"solid",replacementClass:FM,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0}),GM);H5.autoReplaceSvg||(H5.observeMutations=!1);var g2={};Object.keys(H5).forEach(function(e){Object.defineProperty(g2,e,{enumerable:!0,set:function(n){H5[e]=n,qt.forEach(function(r){return r(g2)})},get:function(){return H5[e]}})}),N4.FontAwesomeConfig=g2;var qt=[],J3={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function z5(){for(var e=12,t="";e-- >0;)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return t}function t6(e){for(var t=[],n=(e||[]).length>>>0;n--;)t[n]=e[n];return t}function ki(e){return e.classList?t6(e.classList):(e.getAttribute("class")||"").split(" ").filter(function(t){return t})}function $M(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Kt(e){return Object.keys(e||{}).reduce(function(t,n){return t+"".concat(n,": ").concat(e[n].trim(),";")},"")}function Ii(e){return e.size!==J3.size||e.x!==J3.x||e.y!==J3.y||e.rotate!==J3.rotate||e.flipX||e.flipY}function qM(){var e="fa",t=FM,n=g2.familyPrefix,r=g2.replacementClass,i=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    transition-delay: 0s;\n    transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';if(n!==e||r!==t){var a=new RegExp("\\.".concat(e,"\\-"),"g"),o=new RegExp("\\--".concat(e,"\\-"),"g"),s=new RegExp("\\.".concat(t),"g");i=i.replace(a,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(s,".".concat(r))}return i}var KM=!1;function Oi(){g2.autoAddCss&&!KM&&(function b82(e){if(e&&p4){var t=i1.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var n=i1.head.childNodes,r=null,i=n.length-1;i>-1;i--){var a=n[i],o=(a.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=a)}i1.head.insertBefore(t,r)}}(qM()),KM=!0)}var E82={mixout:function(){return{dom:{css:qM,insertCss:Oi}}},hooks:function(){return{beforeDOMElementCreation:function(){Oi()},beforeI2svg:function(){Oi()}}}},g4=N4||{};g4[m4]||(g4[m4]={}),g4[m4].styles||(g4[m4].styles={}),g4[m4].hooks||(g4[m4].hooks={}),g4[m4].shims||(g4[m4].shims=[]);var k3=g4[m4],YM=[],Yt=!1;function T82(e){!p4||(Yt?setTimeout(e,0):YM.push(e))}function S5(e){var t=e.tag,n=e.attributes,r=void 0===n?{}:n,i=e.children,a=void 0===i?[]:i;return"string"==typeof e?$M(e):"<".concat(t," ").concat(function w82(e){return Object.keys(e||{}).reduce(function(t,n){return t+"".concat(n,'="').concat($M(e[n]),'" ')},"").trim()}(r),">").concat(a.map(S5).join(""),"</").concat(t,">")}function QM(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}p4&&((Yt=(i1.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(i1.readyState))||i1.addEventListener("DOMContentLoaded",function e(){i1.removeEventListener("DOMContentLoaded",e),Yt=1,YM.map(function(t){return t()})}));var Fi=function(t,n,r,i){var c,l,C,a=Object.keys(t),o=a.length,s=void 0!==i?function(t,n){return function(r,i,a,o){return t.call(n,r,i,a,o)}}(n,i):n;for(void 0===r?(c=1,C=t[a[0]]):(c=0,C=r);c<o;c++)C=s(C,t[l=a[c]],l,t);return C};function Ri(e){var t=function k82(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var a=e.charCodeAt(n++);56320==(64512&a)?t.push(((1023&i)<<10)+(1023&a)+65536):(t.push(i),n--)}else t.push(i)}return t}(e);return 1===t.length?t[0].toString(16):null}function JM(e){return Object.keys(e).reduce(function(t,n){var r=e[n];return r.icon?t[r.iconName]=r.icon:t[n]=r,t},{})}function Bi(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.skipHooks,i=void 0!==r&&r,a=JM(t);"function"!=typeof k3.hooks.addPack||i?k3.styles[e]=C2(C2({},k3.styles[e]||{}),a):k3.hooks.addPack(e,JM(t)),"fas"===e&&Bi("fa",t)}var b5=k3.styles,O82=k3.shims,F82=Object.values(jM),ji=null,ZM={},XM={},eL={},tL={},nL={},R82=Object.keys(Pi);function j82(e,t){var n=t.split("-"),r=n[0],i=n.slice(1).join("-");return r!==e||""===i||function B82(e){return~L82.indexOf(e)}(i)?null:i}var rL=function(){var t=function(a){return Fi(b5,function(o,s,c){return o[c]=Fi(s,a,{}),o},{})};ZM=t(function(i,a,o){return a[3]&&(i[a[3]]=o),a[2]&&a[2].filter(function(c){return"number"==typeof c}).forEach(function(c){i[c.toString(16)]=o}),i}),XM=t(function(i,a,o){return i[o]=o,a[2]&&a[2].filter(function(c){return"string"==typeof c}).forEach(function(c){i[c]=o}),i}),nL=t(function(i,a,o){var s=a[2];return i[o]=o,s.forEach(function(c){i[c]=o}),i});var n="far"in b5||g2.autoFetchSvg,r=Fi(O82,function(i,a){var o=a[0],s=a[1],c=a[2];return"far"===s&&!n&&(s="fas"),"string"==typeof o&&(i.names[o]={prefix:s,iconName:c}),"number"==typeof o&&(i.unicodes[o.toString(16)]={prefix:s,iconName:c}),i},{names:{},unicodes:{}});eL=r.names,tL=r.unicodes,ji=Qt(g2.styleDefault)};function Wi(e,t){return(ZM[e]||{})[t]}function n6(e,t){return(nL[e]||{})[t]}function iL(e){return eL[e]||{prefix:null,iconName:null}}function A4(){return ji}function Qt(e){return $t[e]||$t[Pi[e]]||(e in k3.styles?e:null)||null}function Jt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.skipLookups,r=void 0!==n&&n,i=null,a=e.reduce(function(o,s){var c=j82(g2.familyPrefix,s);if(b5[s]?(s=F82.includes(s)?h82[s]:s,i=s,o.prefix=s):R82.indexOf(s)>-1?(i=s,o.prefix=Qt(s)):c?o.iconName=c:s!==g2.replacementClass&&o.rest.push(s),!r&&o.prefix&&o.iconName){var l="fa"===i?iL(o.iconName):{},C=n6(o.prefix,o.iconName);l.prefix&&(i=null),o.iconName=l.iconName||C||o.iconName,o.prefix=l.prefix||o.prefix,"far"===o.prefix&&!b5.far&&b5.fas&&!g2.autoFetchSvg&&(o.prefix="fas")}return o},{prefix:null,iconName:null,rest:[]});return("fa"===a.prefix||"fa"===i)&&(a.prefix=A4()||"fas"),a}(function S82(e){qt.push(e)})(function(e){ji=Qt(e.styleDefault)}),rL();var G82=function(){function e(){(function e82(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.definitions={}}return function t82(e,t,n){t&&wM(e.prototype,t),n&&wM(e,n),Object.defineProperty(e,"prototype",{writable:!1})}(e,[{key:"add",value:function(){for(var n=this,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=i.reduce(this._pullDefinitions,{});Object.keys(o).forEach(function(s){n.definitions[s]=C2(C2({},n.definitions[s]||{}),o[s]),Bi(s,o[s]);var c=jM[s];c&&Bi(c,o[s]),rL()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(n,r){var i=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(i).map(function(a){var o=i[a],s=o.prefix,c=o.iconName,l=o.icon,C=l[2];n[s]||(n[s]={}),C.length>0&&C.forEach(function(u){"string"==typeof u&&(n[s][u]=l)}),n[s][c]=l}),n}}]),e}(),aL=[],r6={},i6={},$82=Object.keys(i6);function Gi(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var a=r6[e]||[];return a.forEach(function(o){t=o.apply(null,[t].concat(r))}),t}function ae(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=r6[e]||[];i.forEach(function(a){a.apply(null,n)})}function v4(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return i6[e]?i6[e].apply(null,t):void 0}function $i(e){"fa"===e.prefix&&(e.prefix="fas");var t=e.iconName,n=e.prefix||A4();if(t)return t=n6(n,t)||t,QM(oL.definitions,n,t)||QM(k3.styles,n,t)}var oL=new G82,Y82={i2svg:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return p4?(ae("beforeI2svg",t),v4("pseudoElements2svg",t),v4("i2svg",t)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.autoReplaceSvgRoot;!1===g2.autoReplaceSvg&&(g2.autoReplaceSvg=!0),g2.observeMutations=!0,T82(function(){J82({autoReplaceSvgRoot:n}),ae("watch",t)})}},l3={noAuto:function(){g2.autoReplaceSvg=!1,g2.observeMutations=!1,ae("noAuto")},config:g2,dom:Y82,parse:{icon:function(t){if(null===t)return null;if("object"===jt(t)&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:n6(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&2===t.length){var n=0===t[1].indexOf("fa-")?t[1].slice(3):t[1],r=Qt(t[0]);return{prefix:r,iconName:n6(r,n)||n}}if("string"==typeof t&&(t.indexOf("".concat(g2.familyPrefix,"-"))>-1||t.match(p82))){var i=Jt(t.split(" "),{skipLookups:!0});return{prefix:i.prefix||A4(),iconName:n6(i.prefix,i.iconName)||i.iconName}}if("string"==typeof t){var a=A4();return{prefix:a,iconName:n6(a,t)||t}}}},library:oL,findIconDefinition:$i,toHtml:S5},J82=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.autoReplaceSvgRoot,r=void 0===n?i1:n;(Object.keys(k3.styles).length>0||g2.autoFetchSvg)&&p4&&g2.autoReplaceSvg&&l3.dom.i2svg({node:r})};function Zt(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map(function(r){return S5(r)})}}),Object.defineProperty(e,"node",{get:function(){if(p4){var r=i1.createElement("div");return r.innerHTML=e.html,r.children}}}),e}function qi(e){var t=e.icons,n=t.main,r=t.mask,i=e.prefix,a=e.iconName,o=e.transform,s=e.symbol,c=e.title,l=e.maskId,C=e.titleId,u=e.extra,d=e.watchable,M=void 0!==d&&d,D=r.found?r:n,I=D.width,K=D.height,Z="fak"===i,r2=[g2.replacementClass,a?"".concat(g2.familyPrefix,"-").concat(a):""].filter(function(X3){return-1===u.classes.indexOf(X3)}).filter(function(X3){return""!==X3||!!X3}).concat(u.classes).join(" "),F={children:[],attributes:C2(C2({},u.attributes),{},{"data-prefix":i,"data-icon":a,class:r2,role:u.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(I," ").concat(K)})},c2=Z&&!~u.classes.indexOf("fa-fw")?{width:"".concat(I/K*16*.0625,"em")}:{};M&&(F.attributes[re]=""),c&&(F.children.push({tag:"title",attributes:{id:F.attributes["aria-labelledby"]||"title-".concat(C||z5())},children:[c]}),delete F.attributes.title);var v2=C2(C2({},F),{},{prefix:i,iconName:a,main:n,mask:r,maskId:l,transform:o,symbol:s,styles:C2(C2({},c2),u.styles)}),U2=r.found&&n.found?v4("generateAbstractMask",v2)||{children:[],attributes:{}}:v4("generateAbstractIcon",v2)||{children:[],attributes:{}},M4=U2.attributes;return v2.children=U2.children,v2.attributes=M4,s?function X82(e){var n=e.iconName,r=e.children,i=e.attributes,a=e.symbol,o=!0===a?"".concat(e.prefix,"-").concat(g2.familyPrefix,"-").concat(n):a;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:C2(C2({},i),{},{id:o}),children:r}]}]}(v2):function Z82(e){var t=e.children,n=e.main,r=e.mask,i=e.attributes,a=e.styles,o=e.transform;if(Ii(o)&&n.found&&!r.found){var l={x:n.width/n.height/2,y:.5};i.style=Kt(C2(C2({},a),{},{"transform-origin":"".concat(l.x+o.x/16,"em ").concat(l.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:t}]}(v2)}function sL(e){var t=e.content,n=e.width,r=e.height,i=e.transform,a=e.title,o=e.extra,s=e.watchable,c=void 0!==s&&s,l=C2(C2(C2({},o.attributes),a?{title:a}:{}),{},{class:o.classes.join(" ")});c&&(l[re]="");var C=C2({},o.styles);Ii(i)&&(C.transform=function D82(e){var t=e.transform,n=e.width,i=e.height,a=void 0===i?16:i,o=e.startCentered,s=void 0!==o&&o,c="";return c+=s&&IM?"translate(".concat(t.x/16-(void 0===n?16:n)/2,"em, ").concat(t.y/16-a/2,"em) "):s?"translate(calc(-50% + ".concat(t.x/16,"em), calc(-50% + ").concat(t.y/16,"em)) "):"translate(".concat(t.x/16,"em, ").concat(t.y/16,"em) "),(c+="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "))+"rotate(".concat(t.rotate,"deg) ")}({transform:i,startCentered:!0,width:n,height:r}),C["-webkit-transform"]=C.transform);var u=Kt(C);u.length>0&&(l.style=u);var d=[];return d.push({tag:"span",attributes:l,children:[t]}),a&&d.push({tag:"span",attributes:{class:"sr-only"},children:[a]}),d}function et2(e){var t=e.content,n=e.title,r=e.extra,i=C2(C2(C2({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),a=Kt(r.styles);a.length>0&&(i.style=a);var o=[];return o.push({tag:"span",attributes:i,children:[t]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}var Ki=k3.styles;function Yi(e){var t=e[0],n=e[1],a=wi(e.slice(4),1)[0];return{found:!0,width:t,height:n,icon:Array.isArray(a)?{tag:"g",attributes:{class:"".concat(g2.familyPrefix,"-").concat("duotone-group")},children:[{tag:"path",attributes:{class:"".concat(g2.familyPrefix,"-").concat("secondary"),fill:"currentColor",d:a[0]}},{tag:"path",attributes:{class:"".concat(g2.familyPrefix,"-").concat("primary"),fill:"currentColor",d:a[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:a}}}}var tt2={found:!1,width:512,height:512};function Qi(e,t){var n=t;return"fa"===t&&null!==g2.styleDefault&&(t=A4()),new Promise(function(r,i){if(v4("missingIconAbstract"),"fa"===n){var o=iL(e)||{};e=o.iconName||e,t=o.prefix||t}if(e&&t&&Ki[t]&&Ki[t][e])return r(Yi(Ki[t][e]));(function nt2(e,t){!BM&&!g2.showMissingIcons&&e&&console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))})(e,t),r(C2(C2({},tt2),{},{icon:g2.showMissingIcons&&e&&v4("missingIconAbstract")||{}}))})}var cL=function(){},Ji=g2.measurePerformance&&Gt&&Gt.mark&&Gt.measure?Gt:{mark:cL,measure:cL},_5='FA "6.1.2"',Zi_begin=function(t){return Ji.mark("".concat(_5," ").concat(t," begins")),function(){return function(t){Ji.mark("".concat(_5," ").concat(t," ends")),Ji.measure("".concat(_5," ").concat(t),"".concat(_5," ").concat(t," begins"),"".concat(_5," ").concat(t," ends"))}(t)}},Xt=function(){};function CL(e){return"string"==typeof(e.getAttribute?e.getAttribute(re):null)}function st2(e){return i1.createElementNS("http://www.w3.org/2000/svg",e)}function ct2(e){return i1.createElement(e)}function uL(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.ceFn,r=void 0===n?"svg"===e.tag?st2:ct2:n;if("string"==typeof e)return i1.createTextNode(e);var i=r(e.tag);Object.keys(e.attributes||[]).forEach(function(o){i.setAttribute(o,e.attributes[o])});var a=e.children||[];return a.forEach(function(o){i.appendChild(uL(o,{ceFn:r}))}),i}var e0={replace:function(t){var n=t[0];if(n.parentNode)if(t[1].forEach(function(i){n.parentNode.insertBefore(uL(i),n)}),null===n.getAttribute(re)&&g2.keepOriginalSource){var r=i1.createComment(function lt2(e){var t=" ".concat(e.outerHTML," ");return"".concat(t,"Font Awesome fontawesome.com ")}(n));n.parentNode.replaceChild(r,n)}else n.remove()},nest:function(t){var n=t[0],r=t[1];if(~ki(n).indexOf(g2.replacementClass))return e0.replace(t);var i=new RegExp("".concat(g2.familyPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){var a=r[0].attributes.class.split(" ").reduce(function(s,c){return c===g2.replacementClass||c.match(i)?s.toSvg.push(c):s.toNode.push(c),s},{toNode:[],toSvg:[]});r[0].attributes.class=a.toSvg.join(" "),0===a.toNode.length?n.removeAttribute("class"):n.setAttribute("class",a.toNode.join(" "))}var o=r.map(function(s){return S5(s)}).join("\n");n.setAttribute(re,""),n.innerHTML=o}};function fL(e){e()}function dL(e,t){var n="function"==typeof t?t:Xt;if(0===e.length)n();else{var r=fL;"async"===g2.mutateApproach&&(r=N4.requestAnimationFrame||fL),r(function(){var i=function ot2(){return!0===g2.autoReplaceSvg?e0.replace:e0[g2.autoReplaceSvg]||e0.replace}(),a=Zi_begin("mutate");e.map(i),a(),n()})}}var Xi=!1;function hL(){Xi=!0}function e9(){Xi=!1}var t0=null;function pL(e){if(kM&&g2.observeMutations){var t=e.treeCallback,n=void 0===t?Xt:t,r=e.nodeCallback,i=void 0===r?Xt:r,a=e.pseudoElementsCallback,o=void 0===a?Xt:a,s=e.observeMutationsRoot,c=void 0===s?i1:s;t0=new kM(function(l){if(!Xi){var C=A4();t6(l).forEach(function(u){if("childList"===u.type&&u.addedNodes.length>0&&!CL(u.addedNodes[0])&&(g2.searchPseudoElements&&o(u.target),n(u.target)),"attributes"===u.type&&u.target.parentNode&&g2.searchPseudoElements&&o(u.target.parentNode),"attributes"===u.type&&CL(u.target)&&~M82.indexOf(u.attributeName))if("class"===u.attributeName&&function it2(e){var t=e.getAttribute?e.getAttribute(Ai):null,n=e.getAttribute?e.getAttribute(Ti):null;return t&&n}(u.target)){var d=Jt(ki(u.target)),D=d.iconName;u.target.setAttribute(Ai,d.prefix||C),D&&u.target.setAttribute(Ti,D)}else(function at2(e){return e&&e.classList&&e.classList.contains&&e.classList.contains(g2.replacementClass)})(u.target)&&i(u.target)})}}),p4&&t0.observe(c,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function ut2(e){var t=e.getAttribute("style"),n=[];return t&&(n=t.split(";").reduce(function(r,i){var a=i.split(":"),o=a[0],s=a.slice(1);return o&&s.length>0&&(r[o]=s.join(":").trim()),r},{})),n}function ft2(e){var t=e.getAttribute("data-prefix"),n=e.getAttribute("data-icon"),r=void 0!==e.innerText?e.innerText.trim():"",i=Jt(ki(e));return i.prefix||(i.prefix=A4()),t&&n&&(i.prefix=t,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=function W82(e,t){return(XM[e]||{})[t]}(i.prefix,e.innerText)||Wi(i.prefix,Ri(e.innerText))),!i.iconName&&g2.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=e.firstChild.data)),i}function dt2(e){var t=t6(e.attributes).reduce(function(i,a){return"class"!==i.name&&"style"!==i.name&&(i[a.name]=a.value),i},{}),n=e.getAttribute("title"),r=e.getAttribute("data-fa-title-id");return g2.autoA11y&&(n?t["aria-labelledby"]="".concat(g2.replacementClass,"-title-").concat(r||z5()):(t["aria-hidden"]="true",t.focusable="false")),t}function mL(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},n=ft2(e),r=n.iconName,i=n.prefix,a=n.rest,o=dt2(e),s=Gi("parseNodeAttributes",{},e),c=t.styleParser?ut2(e):[];return C2({iconName:r,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:i,transform:J3,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:a,styles:c,attributes:o}},s)}var pt2=k3.styles;function gL(e){var t="nest"===g2.autoReplaceSvg?mL(e,{styleParser:!1}):mL(e);return~t.extra.classes.indexOf(WM)?v4("generateLayersText",e,t):v4("generateSvgReplacementMutation",e,t)}function vL(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!p4)return Promise.resolve();var n=i1.documentElement.classList,r=function(u){return n.add("".concat(RM,"-").concat(u))},i=function(u){return n.remove("".concat(RM,"-").concat(u))},a=Object.keys(g2.autoFetchSvg?Pi:pt2);a.includes("fa")||a.push("fa");var o=[".".concat(WM,":not([").concat(re,"])")].concat(a.map(function(C){return".".concat(C,":not([").concat(re,"])")})).join(", ");if(0===o.length)return Promise.resolve();var s=[];try{s=t6(e.querySelectorAll(o))}catch{}if(!(s.length>0))return Promise.resolve();r("pending"),i("complete");var c=Zi_begin("onTree"),l=s.reduce(function(C,u){try{var d=gL(u);d&&C.push(d)}catch(M){BM||"MissingIcon"===M.name&&console.error(M)}return C},[]);return new Promise(function(C,u){Promise.all(l).then(function(d){dL(d,function(){r("active"),r("complete"),i("pending"),"function"==typeof t&&t(),c(),C()})}).catch(function(d){c(),u(d)})})}function mt2(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;gL(e).then(function(n){n&&dL([n],t)})}var vt2=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.transform,i=void 0===r?J3:r,a=n.symbol,o=void 0!==a&&a,s=n.mask,c=void 0===s?null:s,l=n.maskId,C=void 0===l?null:l,u=n.title,d=void 0===u?null:u,M=n.titleId,D=void 0===M?null:M,I=n.classes,K=void 0===I?[]:I,Z=n.attributes,r2=void 0===Z?{}:Z,F=n.styles,c2=void 0===F?{}:F;if(t){var v2=t.prefix,U2=t.iconName,C3=t.icon;return Zt(C2({type:"icon"},t),function(){return ae("beforeDOMElementCreation",{iconDefinition:t,params:n}),g2.autoA11y&&(d?r2["aria-labelledby"]="".concat(g2.replacementClass,"-title-").concat(D||z5()):(r2["aria-hidden"]="true",r2.focusable="false")),qi({icons:{main:Yi(C3),mask:c?Yi(c.icon):{found:!1,width:null,height:null,icon:{}}},prefix:v2,iconName:U2,transform:C2(C2({},J3),i),symbol:o,title:d,maskId:C,titleId:D,extra:{attributes:r2,styles:c2,classes:K}})})}},Mt2={mixout:function(){return{icon:(e=vt2,function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(t||{}).icon?t:$i(t||{}),i=n.mask;return i&&(i=(i||{}).icon?i:$i(i||{})),e(r,C2(C2({},n),{},{mask:i}))})};var e},hooks:function(){return{mutationObserverCallbacks:function(n){return n.treeCallback=vL,n.nodeCallback=mt2,n}}},provides:function(t){t.i2svg=function(n){var r=n.node,a=n.callback;return vL(void 0===r?i1:r,void 0===a?function(){}:a)},t.generateSvgReplacementMutation=function(n,r){var i=r.iconName,a=r.title,o=r.titleId,s=r.prefix,c=r.transform,l=r.symbol,C=r.mask,u=r.maskId,d=r.extra;return new Promise(function(M,D){Promise.all([Qi(i,s),C.iconName?Qi(C.iconName,C.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(I){var K=wi(I,2);M([n,qi({icons:{main:K[0],mask:K[1]},prefix:s,iconName:i,transform:c,symbol:l,maskId:u,title:a,titleId:o,extra:d,watchable:!0})])}).catch(D)})},t.generateAbstractIcon=function(n){var l,r=n.children,i=n.attributes,a=n.main,o=n.transform,c=Kt(n.styles);return c.length>0&&(i.style=c),Ii(o)&&(l=v4("generateAbstractTransformGrouping",{main:a,transform:o,containerWidth:a.width,iconWidth:a.width})),r.push(l||a.icon),{children:r,attributes:i}}}},Lt2={mixout:function(){return{layer:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.classes,a=void 0===i?[]:i;return Zt({type:"layer"},function(){ae("beforeDOMElementCreation",{assembler:n,params:r});var o=[];return n(function(s){Array.isArray(s)?s.map(function(c){o=o.concat(c.abstract)}):o=o.concat(s.abstract)}),[{tag:"span",attributes:{class:["".concat(g2.familyPrefix,"-layers")].concat(Ut(a)).join(" ")},children:o}]})}}}},Vt2={mixout:function(){return{counter:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.title,a=void 0===i?null:i,o=r.classes,s=void 0===o?[]:o,c=r.attributes,l=void 0===c?{}:c,C=r.styles,u=void 0===C?{}:C;return Zt({type:"counter",content:n},function(){return ae("beforeDOMElementCreation",{content:n,params:r}),et2({content:n.toString(),title:a,extra:{attributes:l,styles:u,classes:["".concat(g2.familyPrefix,"-layers-counter")].concat(Ut(s))}})})}}}},yt2={mixout:function(){return{text:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.transform,a=void 0===i?J3:i,o=r.title,s=void 0===o?null:o,c=r.classes,l=void 0===c?[]:c,C=r.attributes,u=void 0===C?{}:C,d=r.styles,M=void 0===d?{}:d;return Zt({type:"text",content:n},function(){return ae("beforeDOMElementCreation",{content:n,params:r}),sL({content:n,transform:C2(C2({},J3),a),title:s,extra:{attributes:u,styles:M,classes:["".concat(g2.familyPrefix,"-layers-text")].concat(Ut(l))}})})}}},provides:function(t){t.generateLayersText=function(n,r){var i=r.title,a=r.transform,o=r.extra,s=null,c=null;if(IM){var l=parseInt(getComputedStyle(n).fontSize,10),C=n.getBoundingClientRect();s=C.width/l,c=C.height/l}return g2.autoA11y&&!i&&(o.attributes["aria-hidden"]="true"),Promise.resolve([n,sL({content:n.innerHTML,width:s,height:c,transform:a,title:i,extra:o,watchable:!0})])}}},Ht2=new RegExp('"',"ug"),ML=[1105920,1112319];function LL(e,t){var n="".concat("data-fa-pseudo-element-pending").concat(t.replace(":","-"));return new Promise(function(r,i){if(null!==e.getAttribute(n))return r();var o=t6(e.children).filter(function(U2){return U2.getAttribute(Ei)===t})[0],s=N4.getComputedStyle(e,t),c=s.getPropertyValue("font-family").match(m82),l=s.getPropertyValue("font-weight"),C=s.getPropertyValue("content");if(o&&!c)return e.removeChild(o),r();if(c&&"none"!==C&&""!==C){var u=s.getPropertyValue("content"),d=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(c[2])?$t[c[2].toLowerCase()]:g82[l],M=function zt2(e){var t=e.replace(Ht2,""),n=function I82(e,t){var i,n=e.length,r=e.charCodeAt(t);return r>=55296&&r<=56319&&n>t+1&&(i=e.charCodeAt(t+1))>=56320&&i<=57343?1024*(r-55296)+i-56320+65536:r}(t,0),r=n>=ML[0]&&n<=ML[1],i=2===t.length&&t[0]===t[1];return{value:Ri(i?t[0]:t),isSecondary:r||i}}(u),D=M.value,I=M.isSecondary,K=c[0].startsWith("FontAwesome"),Z=Wi(d,D),r2=Z;if(K){var F=function U82(e){var t=tL[e],n=Wi("fas",e);return t||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}(D);F.iconName&&F.prefix&&(Z=F.iconName,d=F.prefix)}if(!Z||I||o&&o.getAttribute(Ai)===d&&o.getAttribute(Ti)===r2)r();else{e.setAttribute(n,r2),o&&e.removeChild(o);var c2=function ht2(){return{iconName:null,title:null,titleId:null,prefix:null,transform:J3,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}(),v2=c2.extra;v2.attributes[Ei]=t,Qi(Z,d).then(function(U2){var C3=qi(C2(C2({},c2),{},{icons:{main:U2,mask:{prefix:null,iconName:null,rest:[]}},prefix:d,iconName:r2,extra:v2,watchable:!0})),M4=i1.createElement("svg");"::before"===t?e.insertBefore(M4,e.firstChild):e.appendChild(M4),M4.outerHTML=C3.map(function(X3){return S5(X3)}).join("\n"),e.removeAttribute(n),r()}).catch(i)}}else r()})}function St2(e){return Promise.all([LL(e,"::before"),LL(e,"::after")])}function bt2(e){return!(e.parentNode===document.head||~d82.indexOf(e.tagName.toUpperCase())||e.getAttribute(Ei)||e.parentNode&&"svg"===e.parentNode.tagName)}function VL(e){if(p4)return new Promise(function(t,n){var r=t6(e.querySelectorAll("*")).filter(bt2).map(St2),i=Zi_begin("searchPseudoElements");hL(),Promise.all(r).then(function(){i(),e9(),t()}).catch(function(){i(),e9(),n()})})}var yL=!1,HL=function(t){return t.toLowerCase().split(" ").reduce(function(r,i){var a=i.toLowerCase().split("-"),o=a[0],s=a.slice(1).join("-");if(o&&"h"===s)return r.flipX=!0,r;if(o&&"v"===s)return r.flipY=!0,r;if(s=parseFloat(s),isNaN(s))return r;switch(o){case"grow":r.size=r.size+s;break;case"shrink":r.size=r.size-s;break;case"left":r.x=r.x-s;break;case"right":r.x=r.x+s;break;case"up":r.y=r.y-s;break;case"down":r.y=r.y+s;break;case"rotate":r.rotate=r.rotate+s}return r},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},t9={x:0,y:0,width:"100%",height:"100%"};function zL(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}!function q82(e,t){var n=t.mixoutsTo;aL=e,r6={},Object.keys(i6).forEach(function(r){-1===$82.indexOf(r)&&delete i6[r]}),aL.forEach(function(r){var i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(function(o){"function"==typeof i[o]&&(n[o]=i[o]),"object"===jt(i[o])&&Object.keys(i[o]).forEach(function(s){n[o]||(n[o]={}),n[o][s]=i[o][s]})}),r.hooks){var a=r.hooks();Object.keys(a).forEach(function(o){r6[o]||(r6[o]=[]),r6[o].push(a[o])})}r.provides&&r.provides(i6)})}([E82,Mt2,Lt2,Vt2,yt2,{hooks:function(){return{mutationObserverCallbacks:function(n){return n.pseudoElementsCallback=VL,n}}},provides:function(t){t.pseudoElements2svg=function(n){var r=n.node;g2.searchPseudoElements&&VL(void 0===r?i1:r)}}},{mixout:function(){return{dom:{unwatch:function(){hL(),yL=!0}}}},hooks:function(){return{bootstrap:function(){pL(Gi("mutationObserverCallbacks",{}))},noAuto:function(){!function Ct2(){!t0||t0.disconnect()}()},watch:function(n){var r=n.observeMutationsRoot;yL?e9():pL(Gi("mutationObserverCallbacks",{observeMutationsRoot:r}))}}}},{mixout:function(){return{parse:{transform:function(n){return HL(n)}}}},hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-transform");return i&&(n.transform=HL(i)),n}}},provides:function(t){t.generateAbstractTransformGrouping=function(n){var r=n.main,i=n.transform,o=n.iconWidth,s={transform:"translate(".concat(n.containerWidth/2," 256)")},c="translate(".concat(32*i.x,", ").concat(32*i.y,") "),l="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),C="rotate(".concat(i.rotate," 0 0)"),M={outer:s,inner:{transform:"".concat(c," ").concat(l," ").concat(C)},path:{transform:"translate(".concat(o/2*-1," -256)")}};return{tag:"g",attributes:C2({},M.outer),children:[{tag:"g",attributes:C2({},M.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:C2(C2({},r.icon.attributes),M.path)}]}]}}}},{hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-mask"),a=i?Jt(i.split(" ").map(function(o){return o.trim()})):{prefix:null,iconName:null,rest:[]};return a.prefix||(a.prefix=A4()),n.mask=a,n.maskId=r.getAttribute("data-fa-mask-id"),n}}},provides:function(t){t.generateAbstractMask=function(n){var e,r=n.children,i=n.attributes,a=n.main,o=n.mask,s=n.maskId,C=a.icon,d=o.icon,M=function x82(e){var t=e.transform,r=e.iconWidth,i={transform:"translate(".concat(e.containerWidth/2," 256)")},a="translate(".concat(32*t.x,", ").concat(32*t.y,") "),o="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),s="rotate(".concat(t.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(a," ").concat(o," ").concat(s)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:n.transform,containerWidth:o.width,iconWidth:a.width}),D={tag:"rect",attributes:C2(C2({},t9),{},{fill:"white"})},I=C.children?{children:C.children.map(zL)}:{},K={tag:"g",attributes:C2({},M.inner),children:[zL(C2({tag:C.tag,attributes:C2(C2({},C.attributes),M.path)},I))]},Z={tag:"g",attributes:C2({},M.outer),children:[K]},r2="mask-".concat(s||z5()),F="clip-".concat(s||z5()),c2={tag:"mask",attributes:C2(C2({},t9),{},{id:r2,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[D,Z]},v2={tag:"defs",children:[{tag:"clipPath",attributes:{id:F},children:(e=d,"g"===e.tag?e.children:[e])},c2]};return r.push(v2,{tag:"rect",attributes:C2({fill:"currentColor","clip-path":"url(#".concat(F,")"),mask:"url(#".concat(r2,")")},t9)}),{children:r,attributes:i}}}},{provides:function(t){var n=!1;N4.matchMedia&&(n=N4.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){var r=[],i={fill:"currentColor"},a={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:C2(C2({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var o=C2(C2({},a),{},{attributeName:"opacity"}),s={tag:"circle",attributes:C2(C2({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return n||s.children.push({tag:"animate",attributes:C2(C2({},a),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:C2(C2({},o),{},{values:"1;0;1;1;0;1;"})}),r.push(s),r.push({tag:"path",attributes:C2(C2({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:n?[]:[{tag:"animate",attributes:C2(C2({},o),{},{values:"1;0;0;0;0;1;"})}]}),n||r.push({tag:"path",attributes:C2(C2({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:C2(C2({},o),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},{hooks:function(){return{parseNodeAttributes:function(n,r){var i=r.getAttribute("data-fa-symbol");return n.symbol=null!==i&&(""===i||i),n}}}}],{mixoutsTo:l3});var Pt2=l3.parse,kt2=l3.icon;const It2=["*"],Rt2=e=>{const t={"fa-spin":e.spin,"fa-pulse":e.pulse,"fa-fw":e.fixedWidth,"fa-border":e.border,"fa-inverse":e.inverse,"fa-layers-counter":e.counter,"fa-flip-horizontal":"horizontal"===e.flip||"both"===e.flip,"fa-flip-vertical":"vertical"===e.flip||"both"===e.flip,[`fa-${e.size}`]:null!==e.size,[`fa-rotate-${e.rotate}`]:null!==e.rotate,[`fa-pull-${e.pull}`]:null!==e.pull,[`fa-stack-${e.stackItemSize}`]:null!=e.stackItemSize};return Object.keys(t).map(n=>t[n]?n:null).filter(n=>n)};let Wt2=(()=>{class e{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=B2({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Ut2=(()=>{class e{constructor(){this.definitions={}}addIcons(...n){for(const r of n){r.prefix in this.definitions||(this.definitions[r.prefix]={}),this.definitions[r.prefix][r.iconName]=r;for(const i of r.icon[2])"string"==typeof i&&(this.definitions[r.prefix][i]=r)}}addIconPacks(...n){for(const r of n){const i=Object.keys(r).map(a=>r[a]);this.addIcons(...i)}}getIconDefinition(n,r){return n in this.definitions&&r in this.definitions[n]?this.definitions[n][r]:null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=B2({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Gt2=(()=>{class e{constructor(){this.stackItemSize="1x"}ngOnChanges(n){if("size"in n)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=z2({type:e,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[t3]}),e})(),$t2=(()=>{class e{constructor(n,r){this.renderer=n,this.elementRef=r}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(n){"size"in n&&(null!=n.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${n.size.currentValue}`),null!=n.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${n.size.previousValue}`))}}return e.\u0275fac=function(n){return new(n||e)(q(a4),q(B1))},e.\u0275cmp=p1({type:e,selectors:[["fa-stack"]],inputs:{size:"size"},features:[t3],ngContentSelectors:It2,decls:1,vars:0,template:function(n,r){1&n&&(L7(),T8(0))},encapsulation:2}),e})(),T4=(()=>{class e{constructor(n,r,i,a,o){this.sanitizer=n,this.config=r,this.iconLibrary=i,this.stackItem=a,this.classes=[],null!=o&&null==a&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(n){if(null==this.icon&&null==this.config.fallbackIcon)return(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})();let r=null;if(r=this.icon??this.config.fallbackIcon,n){const i=this.findIconDefinition(r);if(null!=i){const a=this.buildParams();this.renderIcon(i,a)}}}render(){this.ngOnChanges({})}findIconDefinition(n){const r=((e,t)=>(e=>void 0!==e.prefix&&void 0!==e.iconName)(e)?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"==typeof e?{prefix:t,iconName:e}:void 0)(n,this.config.defaultPrefix);return"icon"in r?r:this.iconLibrary.getIconDefinition(r.prefix,r.iconName)??((e=>{throw new Error(`Could not find icon with iconName=${e.iconName} and prefix=${e.prefix} in the icon library.`)})(r),null)}buildParams(){const n={flip:this.flip,spin:this.spin,pulse:this.pulse,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},r="string"==typeof this.transform?Pt2.transform(this.transform):this.transform;return{title:this.title,transform:r,classes:[...Rt2(n),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(n,r){const i=kt2(n,r);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(i.html.join("\n"))}}return e.\u0275fac=function(n){return new(n||e)(q(Mu),q(Wt2),q(Ut2),q(Gt2,8),q($t2,8))},e.\u0275cmp=p1({type:e,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(n,r){2&n&&(H7("innerHTML",r.renderedIconHTML,h8),$3("title",r.title))},inputs:{icon:"icon",title:"title",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},features:[t3],decls:0,vars:0,template:function(n,r){},encapsulation:2}),e})(),SL=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=f3({type:e}),e.\u0275inj=Z1({}),e})();const bL=function(e){return{disabled:e}};let qt2=(()=>{class e{constructor(){this.value=0,this.increaseIcon=Yu,this.decreaseIcon=Ku,this.initial=0,this.min=0,this.max=null,this.disableIncrease=!1,this.disableDecrease=!1,this._disableIncrease=!1,this._disableDecrease=!0,this.onchange=new s1}ngOnInit(){this.value=Math.max(this.initial,this.min),this.disableOrEnable()}isDisabledIncrease(){return 1==this._disableIncrease||1==this.disableIncrease}isDisabledDecrease(){return 1==this._disableDecrease||1==this.disableDecrease}disableOrEnable(){this.max&&(this._disableIncrease=this.value>=this.max),this._disableDecrease=this.value<=this.min}increase(){this.isDisabledIncrease()||(this.value=this.max?Math.min(this.max,this.value+1):this.value+1,this.onchange.emit(this.value),this.disableOrEnable())}decrease(){this.isDisabledDecrease()||(this.value=Math.max(this.min,this.value-1),this.onchange.emit(this.value),this.disableOrEnable())}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=p1({type:e,selectors:[["app-stat-control"]],inputs:{initial:"initial",min:"min",max:"max",disableIncrease:"disableIncrease",disableDecrease:"disableDecrease"},outputs:{onchange:"onchange"},decls:7,vars:9,consts:[["id","control"],[1,"arrow","arrow-down",3,"ngClass","click"],[1,"fa-lg",3,"icon"],[1,"value"],[1,"arrow","arrow-up",3,"ngClass","click"]],template:function(n,r){1&n&&(Q(0,"div",0)(1,"div",1),O2("click",function(){return r.decrease()}),R2(2,"fa-icon",2),X(),Q(3,"div",3),u2(4),X(),Q(5,"div",4),O2("click",function(){return r.increase()}),R2(6,"fa-icon",2),X()()),2&n&&(J(1),$("ngClass",s3(5,bL,r.isDisabledDecrease())),J(1),$("icon",r.decreaseIcon),J(2),N3(r.value),J(1),$("ngClass",s3(7,bL,r.isDisabledIncrease())),J(1),$("icon",r.increaseIcon))},dependencies:[T3,T4],styles:["#control[_ngcontent-%COMP%]{font-size:28px;display:flex;flex-direction:row;justify-items:center;align-content:center}#control[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{width:40px;height:38px;display:flex;justify-content:center;align-items:center;cursor:pointer;transition:opacity .2s}#control[_ngcontent-%COMP%]   .arrow.disabled[_ngcontent-%COMP%]{opacity:.5;cursor:initial}#control[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;font-weight:700;max-width:13px}"]}),e})();function Kt2(e,t){1&e&&(Q(0,"div",8),u2(1," Choose your starting "),Q(2,"span",9),u2(3,"Stats"),X()())}function Yt2(e,t){1&e&&(Q(0,"div",8)(1,"span",9),u2(2,"Stats"),X()())}function Qt2(e,t){if(1&e&&(Q(0,"div",10),u2(1," Remaining points:\xa0"),Q(2,"span",9),u2(3),X()()),2&e){const n=d2();J(3),N3(n.remainingStats)}}function Jt2(e,t){if(1&e&&(Q(0,"div",10),u2(1," Remaining points:\xa0"),Q(2,"span",9),R2(3,"fa-icon",11),X()()),2&e){const n=d2();J(3),$("icon",n.infinityIcon)}}function Zt2(e,t){if(1&e){const n=v3();Q(0,"div",14)(1,"div",15),O2("click",function(){const a=I1(n).$implicit;return O1(d2(2).clickStatBox(a))}),Q(2,"span",16),u2(3),X()(),Q(4,"app-stat-control",17),O2("onchange",function(i){const o=I1(n).$implicit;return O1(d2(2).onStatChange(i,o))}),X()()}if(2&e){const n=t.$implicit,r=d2(2);J(1),G6("stat-box ",n.className,""),J(2),N3(n.name),J(1),$("initial",r.getInitial(n))("min",r.minStats)("max",r.maxStats)("disableIncrease",r.disableIncrease||!r.recent)("disableDecrease",r.disableDecrease||!r.recent)}}const Xt2=function(e,t,n){return[e,t,n]};function e02(e,t){if(1&e&&(Q(0,"div",12),h2(1,Zt2,5,9,"div",13),X()),2&e){const n=t.$implicit,r=d2();J(1),$("ngForOf",B8(1,Xt2,r.stats[0+3*n],r.stats[1+3*n],r.stats[2+3*n]))}}const t02=function(e,t,n){return{old:e,recent:t,centralized:n}},n02=function(e){return{"with-margin":e}},r02=function(){return[0,1,2]};let _L=(()=>{class e{constructor(n,r){this.dialog=n,this.storyService=r,this.recent=!1,this.maxStats=10,this.minStats=0,this.totalToDistribute=null,this.disableDecrease=!1,this.informationMode=Q3.Simple,this.remainingStats=null,this.totalInitialStats=0,this.statValues={},this.disableIncrease=!1,this.CharacterCreation=Q3.CharacterCreation,this.Simple=Q3.Simple,this.Debug=Q3.Debug,this.infinityIcon=am,this.initialStats={},this.stats=[{name:"STRENGHT",className:"strenght",variable:"player_Strenght",description:["Power, courage, resillience.","Self-doubt, lack of direction, raw-emotion.","MMA Fighters, Bodybuilders, Firefighters.","Strenght is how healthy and how strong you are. It also dictates how well you use your body, from fighting, to running, to jumping. You can use it to carry heavy loads, break doors, or break people.","At low levels you will struggle to go up a single set of stairs. At high levels you might find yourself out of touch with the common people, going for violence as a solution even when something else would be more apropriate."]},{name:"CONTROL",className:"control",variable:"player_Control",description:["Authority, structure, order.","Inflexibility, domination, self-hatred.","Control Freaks, Emotionless People, Surgeons.","Control is your ability to keep yourself together under duress, and to keep the facade up in front of others. It let's you stay calm and collected in front of danger allowing you take control of any situation.","At low levels you will be unable to hide your feelings and might even act impulsively. At high levels you might become obsessed with controlling every single detail of every single move you make."]},{name:"SLEIGHT",className:"sleight",variable:"player_Sleight",description:["Luck, innocence, surrender.","Delays, indecision, resistance.","Thieves, Gymnasts, Comedians.","Sleight is your ability to move fast, and move unseen. You can use it to steal things that are in plain sight, or to dodge a punch that would otherwise drop you.","At low levels you will be fumbling with your keys every single time. At high levels you might become a kleptomaniac, incapable of letting an oportunity pass."]},{name:"PERCEPTION",className:"perception",variable:"player_Perception",description:["Warmth, vitality, success","Mistaken perceptions, repressed emotions, fear.","People with Eyes, People with Hands, People with Tongues.","Perception is your ability to... perceive... the world around you, be it through touch, smell, vision, or any other physical sense. You can use it to notice details and oportunities for action.","At low levels you will miss even the most obvious of hints. At higher levels you may find yourself paralized by all the details your senses provide."]},{name:"INTUITION",className:"intuition",variable:"player_Intuition",description:["Spiritual wisdom, tradition, destiny.","Confusion, lack of action, creative block.","Sensitive people, Arcane Explorers, Teachers.","Intuition is that nagging feeling telling you something is not quite right. It's that first step from your conscious mind in identifying danger.","At low levels you will be incapable of having any insights, you will experience everything with the naivete of a newborn. At high levels on the other hand, it might be hard to decipher what is real and what is just a feeling."]},{name:"KNOWLEDGE",className:"knowledge",variable:"player_Knowledge",description:["Guidance, introspection, raised awareness.","Isolation, loneliness, rejection.","College Students, Journalists, Astrounauts.","Knowledge is all the learning you've done in your life, plus memory. Whenever you need an advice or an escape route, or even just the digits of PI, Knowledge can have the answer.","At low levels you will struggle even with basic facts of reality, you might not understand how a computer work or how to open a door. At high levels you may find yourself and getting lost in the many interesting subjects that exist."]},{name:"CONFIDENCE",className:"confidence",variable:"player_Confidence",description:["Balance, patience, purpose.","Excess, arrogance, loss of objectives.","Politicians, Performers, Professionals.","Confidence is how easy you carry yourself into unknown situations. Being confident means you believe you can solve any problem that comes your way.","At low levels you won't be able to order food without sweating. But at high levels you might find yourself too confident, with an over-inflated ego."]},{name:"MANIPULATION",className:"manipulation",variable:"player_Manipulation",description:["Oppression, dependency, excess.","Independence, release, overcoming limits.","Reality Show Contestants, High Level Executives, Abusive Partners.","Manipulation is your ability to read the currents in social situations and direct them torwards your desired goal. Manipulation can also help you notice when others are trying to manipulate you.","At low levels you will be perpetually chasing shadows. You always miss the double meanings. At high levels you will find yourself extremely paranoid, seeing plots everywhere."]},{name:"CHARISMA",className:"charisma",variable:"player_Charisma",description:["Harmony, choices, romance.","Conflict, indecision, self-love.","Salespeople, Single People, Unemployed People.","Charisma is your ability to convince people you are harmless and fun. If you are charismatic you can get free drinks, gifts from your friends, or even a free get out of jail card.","At low levels you will as charming as a rock, and you will be unable to detect even the most obvious sarcasm. At high levels you will see the world through the lens of a stage. Life will be a big play."]}]}ngOnInit(){this.remainingStats=this.totalToDistribute,this.disableIncrease=0==this.remainingStats;for(let n of this.stats)this.initialStats[n.name]=this.getInitial(n)}clickStatBox(n){this.dialog.open(kA,{data:{title:n.name,paragraphs:n.description,statValue:this.storyService.get(n.variable)}})}checkTotal(){let n=0;for(let r in this.statValues)n+=this.statValues[r]-this.initialStats[r];null!=this.totalToDistribute&&(this.remainingStats=this.totalInitialStats+this.totalToDistribute-n),this.disableIncrease=0==this.remainingStats}onStatChange(n,r){this.statValues[r.name]=n,this.storyService.call(`set_${r.variable}`,[n]),this.checkTotal()}getInitial(n){return this.storyService.get(n.variable)}}return e.\u0275fac=function(n){return new(n||e)(q($u),q(ne))},e.\u0275cmp=p1({type:e,selectors:[["app-stats-menu"]],inputs:{recent:"recent",maxStats:"maxStats",minStats:"minStats",totalToDistribute:"totalToDistribute",disableDecrease:"disableDecrease",informationMode:"informationMode"},decls:11,vars:14,consts:[["id","stats-menu",3,"ngClass"],[1,"content"],[1,"choose"],["class","title",4,"ngIf"],[1,"tip",3,"ngClass"],["class","remaining",4,"ngIf"],[1,"stat-grid"],["class","stat-row",4,"ngFor","ngForOf"],[1,"title"],[1,"special"],[1,"remaining"],[1,"fa-lg",3,"icon"],[1,"stat-row"],["class","stat-container",4,"ngFor","ngForOf"],[1,"stat-container"],[3,"click"],[1,"name-bg"],[3,"initial","min","max","disableIncrease","disableDecrease","onchange"]],template:function(n,r){1&n&&(Q(0,"div",0)(1,"div",1)(2,"div",2),h2(3,Kt2,4,0,"div",3),h2(4,Yt2,3,0,"div",3),Q(5,"div",4),u2(6," Click on the cards to read their descriptions "),X(),h2(7,Qt2,4,1,"div",5),h2(8,Jt2,4,1,"div",5),X(),Q(9,"div",6),h2(10,e02,2,5,"div",7),X()()()),2&n&&($("ngClass",B8(7,t02,!r.recent,r.recent,r.informationMode==r.CharacterCreation)),J(3),$("ngIf",r.informationMode==r.CharacterCreation),J(1),$("ngIf",r.informationMode==r.Simple||r.informationMode==r.Debug),J(1),$("ngClass",s3(11,n02,null==r.remainingStats)),J(2),$("ngIf",null!=r.remainingStats&&r.informationMode!=r.Debug),J(1),$("ngIf",r.informationMode==r.Debug),J(2),$("ngForOf",function _l(e,t,n){const r=F1()+e,i=Y();return i[r]===w2?G3(i,r,n?t.call(n):t()):function B6(e,t){return e[t]}(i,r)}(13,r02)))},dependencies:[T3,s5,f4,T4,qt2],styles:["#stats-menu[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:space-around;height:calc(100vh - 80px);min-height:620px}#stats-menu[_ngcontent-%COMP%]   .choose[_ngcontent-%COMP%]{font-size:1.2em;text-align:left;width:100%}#stats-menu[_ngcontent-%COMP%]   .choose[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:700}#stats-menu[_ngcontent-%COMP%]   .choose[_ngcontent-%COMP%]   .tip[_ngcontent-%COMP%]{text-align:left}#stats-menu[_ngcontent-%COMP%]   .choose[_ngcontent-%COMP%]   .remaining[_ngcontent-%COMP%]{font-size:.8em;display:block;min-height:30px;display:flex;justify-content:center;align-items:center}#stats-menu[_ngcontent-%COMP%]   .choose[_ngcontent-%COMP%]   .remaining[_ngcontent-%COMP%]   .special[_ngcontent-%COMP%]{font-weight:700;font-size:1.2em}#stats-menu.centralized[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .choose[_ngcontent-%COMP%]{text-align:center}#stats-menu.centralized[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .choose[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{text-transform:unset;font-weight:400}#stats-menu.centralized[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .choose[_ngcontent-%COMP%]   .tip[_ngcontent-%COMP%]{text-align:center}#stats-menu[_ngcontent-%COMP%]   .stat-grid[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:100%;min-height:80%;justify-content:space-around}#stats-menu[_ngcontent-%COMP%]   .stat-grid[_ngcontent-%COMP%] > .stat-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%;justify-content:space-around}#stats-menu[_ngcontent-%COMP%]   .stat-grid[_ngcontent-%COMP%] > .stat-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:flex-end}#stats-menu[_ngcontent-%COMP%]   .stat-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}#stats-menu[_ngcontent-%COMP%]   .stat-box[_ngcontent-%COMP%]{height:130px;width:93px;overflow:hidden;min-width:28%;font-size:11px;background-size:cover;border:1px solid black;box-sizing:border-box;display:flex;align-items:flex-end;border-radius:5px;cursor:pointer;transition:transform .2s cubic-bezier(.68,-.55,.265,1.55);border:2px solid white;box-shadow:inset 0 0 2px #000,inset 0 0 2px #000,inset 0 0 2px #000;border-bottom:none}#stats-menu[_ngcontent-%COMP%]   .stat-box[_ngcontent-%COMP%]:hover{transform:scale(1.08)}#stats-menu[_ngcontent-%COMP%]   .stat-box[_ngcontent-%COMP%]   .name-bg[_ngcontent-%COMP%]{width:100%;height:14px;background-color:#fff;border-top:1px solid black;display:flex;justify-content:center;align-items:center;font-weight:600;color:#000;font-family:Quattrocento,Georgia,Times New Roman,Times,serif}#stats-menu[_ngcontent-%COMP%]   .stat-box.strenght[_ngcontent-%COMP%]{background-image:url(/cotm3/assets/images/strenght.png)}#stats-menu[_ngcontent-%COMP%]   .stat-box.control[_ngcontent-%COMP%]{background-image:url(/cotm3/assets/images/control.png)}#stats-menu[_ngcontent-%COMP%]   .stat-box.sleight[_ngcontent-%COMP%]{background-image:url(/cotm3/assets/images/sleight.png)}#stats-menu[_ngcontent-%COMP%]   .stat-box.perception[_ngcontent-%COMP%]{background-image:url(/cotm3/assets/images/perception.png)}#stats-menu[_ngcontent-%COMP%]   .stat-box.intuition[_ngcontent-%COMP%]{background-image:url(/cotm3/assets/images/intuition.png)}#stats-menu[_ngcontent-%COMP%]   .stat-box.knowledge[_ngcontent-%COMP%]{background-image:url(/cotm3/assets/images/knowledge.png)}#stats-menu[_ngcontent-%COMP%]   .stat-box.confidence[_ngcontent-%COMP%]{background-image:url(/cotm3/assets/images/confidence.png)}#stats-menu[_ngcontent-%COMP%]   .stat-box.manipulation[_ngcontent-%COMP%]{background-image:url(/cotm3/assets/images/manipulation.png)}#stats-menu[_ngcontent-%COMP%]   .stat-box.charisma[_ngcontent-%COMP%]{background-image:url(/cotm3/assets/images/charisma.png)}",".old[_ngcontent-%COMP%]{opacity:.5}a[_ngcontent-%COMP%]{cursor:pointer}.special[_ngcontent-%COMP%]{font-size:1.4em;color:var(--main)}.not-special[_ngcontent-%COMP%]{font-size:1em}.tip[_ngcontent-%COMP%]{font-size:.8em;color:var(--secondary-text);text-align:center}"]}),e})();function i02(e,t){if(1&e&&R2(0,"app-stats-menu",2),2&e){const n=d2();$("recent",!0)("maxStats",10)("minStats",1)("disableDecrease",!0)("totalToDistribute",0)("informationMode",n.Simple)}}function a02(e,t){if(1&e&&R2(0,"app-stats-menu",3),2&e){const n=d2();$("recent",!0)("maxStats",10)("minStats",0)("disableDecrease",!1)("informationMode",n.Debug)}}let wL=(()=>{class e{constructor(n){this.ref=n,this.Simple=Q3.Simple,this.Debug=Q3.Debug}get debug(){return this.ref.data.debug}get remainingStats(){return this.ref.data.remainingStats}}return e.\u0275fac=function(n){return new(n||e)(q(p5))},e.\u0275cmp=p1({type:e,selectors:[["ng-component"]],decls:3,vars:2,consts:[[3,"recent","maxStats","minStats","disableDecrease","totalToDistribute","informationMode",4,"ngIf"],[3,"recent","maxStats","minStats","disableDecrease","informationMode",4,"ngIf"],[3,"recent","maxStats","minStats","disableDecrease","totalToDistribute","informationMode"],[3,"recent","maxStats","minStats","disableDecrease","informationMode"]],template:function(n,r){1&n&&(Q(0,"div"),h2(1,i02,1,6,"app-stats-menu",0),h2(2,a02,1,5,"app-stats-menu",1),X()),2&n&&(J(1),$("ngIf",!r.debug),J(1),$("ngIf",r.debug))},dependencies:[f4,_L],changeDetection:0}),e})(),xL=(()=>{class e{constructor(n){this.storyService=n,this.knownNpcs={Strenght:null,Control:null,Sleight:null,Perception:null,Intuition:null,Knowledge:null,Confidence:null,Manipulation:null,Charisma:null,player:"YOU"},this.npcsMet={}}meet(n){this.npcsMet[n]={}}getFullName(n){if(n in this.knownNpcs)return this.knownNpcs[n]??n;if(n in this.npcsMet){let r=this.storyService.call("npc_name_str",[n],!0).returned??"",i=this.storyService.call("npc_lastname_str",[n],!0).returned??"";return console.log(r,i),`${r} ${i}`.trim()}return"???"}}return e.\u0275fac=function(n){return new(n||e)(N2(ne))},e.\u0275prov=B2({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),n9=(()=>{class e{constructor(){this.loading$=new zr(!0),this.loadedCount=0,this.queue=[{id:"marking1",src:"/cotm3/assets/images/marking1.png"},{id:"marking2",src:"/cotm3/assets/images/marking2.png"},{id:"marking3",src:"/cotm3/assets/images/marking3.png"},{id:"marking1",src:"/cotm3/assets/images/strenght.png"},{id:"marking2",src:"/cotm3/assets/images/control.png"},{id:"marking3",src:"/cotm3/assets/images/sleight.png"},{id:"marking1",src:"/cotm3/assets/images/perception.png"},{id:"marking2",src:"/cotm3/assets/images/intuition.png"},{id:"marking3",src:"/cotm3/assets/images/knowledge.png"},{id:"marking1",src:"/cotm3/assets/images/confidence.png"},{id:"marking2",src:"/cotm3/assets/images/manipulation.png"},{id:"marking3",src:"/cotm3/assets/images/perception.png"},{id:"marking2",src:"/cotm3/assets/images/divider-mid.png"},{id:"marking3",src:"/cotm3/assets/images/divider-side.png"}],this.loaded={};for(let n=0;n<this.queue.length;n++){let r=new Image;r.onload=((i,a,o)=>function(){o.onload(i,a)})(this.queue[n],r,this),r.src=this.queue[n].src}}onload(n,r){this.loadedCount++,this.loaded[n.id]=r,this.queue.length==this.loadedCount&&this.handleComplete()}handleComplete(){this.loading$.next(!1)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=B2({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function o02(e,t){1&e&&(Q(0,"span"),u2(1,"Success"),X())}function s02(e,t){1&e&&u2(0,"Failure")}function c02(e,t){if(1&e&&(Q(0,"span"),u2(1),h2(2,o02,2,0,"span",3),u2(3,"] - "),h2(4,s02,1,0,"ng-template",null,5,e5),X()),2&e){const n=$e(5),r=d2(3);J(1),w4(" [",r.difficulty,": "),J(1),$("ngIf",r.success)("ngIfElse",n)}}function l02(e,t){1&e&&u2(0," - ")}function C02(e,t){if(1&e&&(j6(0),Q(1,"span"),u2(2),X(),h2(3,c02,6,3,"span",3),h2(4,l02,1,0,"ng-template",null,4,e5),W6()),2&e){const n=$e(5),r=d2(2);J(1),G6("voice ",r.voice.toLowerCase(),""),J(1),N3(r.voice),J(1),$("ngIf",null!=r.difficulty&&null!=r.success)("ngIfElse",n)}}const u02=function(e,t){return{old:e,recent:t}};function f02(e,t){if(1&e&&(Q(0,"p",1),h2(1,C02,6,6,"ng-container",2),u2(2),X()),2&e){const n=d2();$("ngClass",E7(3,u02,!n.recent,n.recent)),J(1),$("ngIf",n.voice),J(1),w4(" ",n.text,"\n")}}let d02=(()=>{class e{constructor(){this.voice=null,this.text=null,this.difficulty=null,this.success=null,this.recent=!1}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=p1({type:e,selectors:[["app-paragraph"]],inputs:{voice:"voice",text:"text",difficulty:"difficulty",success:"success",recent:"recent"},decls:1,vars:1,consts:[[3,"ngClass",4,"ngIf"],[3,"ngClass"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["nodifficulty",""],["failure",""]],template:function(n,r){1&n&&h2(0,f02,3,6,"p",0),2&n&&$("ngIf",r.text)},dependencies:[T3,f4],styles:["p[_ngcontent-%COMP%]{font-size:1em;color:#fff;line-height:1.7em;font-weight:lighter}p[_ngcontent-%COMP%]   .voice[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:700}p[_ngcontent-%COMP%]   .voice.strenght[_ngcontent-%COMP%], p[_ngcontent-%COMP%]   .voice.control[_ngcontent-%COMP%], p[_ngcontent-%COMP%]   .voice.sleight[_ngcontent-%COMP%]{color:var(--physical)}p[_ngcontent-%COMP%]   .voice.perception[_ngcontent-%COMP%], p[_ngcontent-%COMP%]   .voice.intuition[_ngcontent-%COMP%], p[_ngcontent-%COMP%]   .voice.knowledge[_ngcontent-%COMP%]{color:var(--mental)}p[_ngcontent-%COMP%]   .voice.confidence[_ngcontent-%COMP%], p[_ngcontent-%COMP%]   .voice.manipulation[_ngcontent-%COMP%], p[_ngcontent-%COMP%]   .voice.charisma[_ngcontent-%COMP%]{color:var(--social)}",".old[_ngcontent-%COMP%]{opacity:.5}a[_ngcontent-%COMP%]{cursor:pointer}.special[_ngcontent-%COMP%]{font-size:1.4em;color:var(--main)}.not-special[_ngcontent-%COMP%]{font-size:1em}.tip[_ngcontent-%COMP%]{font-size:.8em;color:var(--secondary-text);text-align:center}"]}),e})();function h02(e,t){if(1&e){const n=v3();Q(0,"a",5),O2("click",function(){return I1(n),O1(d2(2).onclick())}),R2(1,"fa-icon",6)(2,"fa-icon",6)(3,"fa-icon",6)(4,"fa-icon",6),X()}if(2&e){const n=d2(2);J(1),$("icon",n.continueIcon),J(1),$("icon",n.continueIcon),J(1),$("icon",n.continueIcon),J(1),$("icon",n.continueIcon)}}function p02(e,t){1&e&&R2(0,"fa-icon",6),2&e&&$("icon",d2(3).exploreIcon)}function m02(e,t){1&e&&R2(0,"fa-icon",6),2&e&&$("icon",d2(3).advanceIcon)}function g02(e,t){}function v02(e,t){1&e&&h2(0,g02,0,0,"ng-template")}function M02(e,t){if(1&e&&(Q(0,"span")(1,"span",13),u2(2,"["),Q(3,"span"),u2(4),X(),u2(5,":"),Q(6,"span"),u2(7),X(),u2(8,"]"),X()()),2&e){const n=d2(3);J(3),P8(n.stat.toLowerCase()),J(1),N3(n.stat),J(2),P8(n.difficulty.toLowerCase()),J(1),N3(n.difficulty)}}function L02(e,t){if(1&e&&(Q(0,"span"),u2(1),X()),2&e){const n=d2(3);G6("box ",n.box[0],""),J(1),N3(n.box[1])}}function V02(e,t){if(1&e){const n=v3();Q(0,"a",7),O2("click",function(){return I1(n),O1(d2(2).onclick())}),h2(1,p02,1,1,"fa-icon",8),h2(2,m02,1,1,"fa-icon",8),h2(3,v02,1,0,null,9),h2(4,M02,9,8,"span",10),Q(5,"span",11),u2(6),X(),h2(7,L02,2,4,"span",12),X()}if(2&e){d2();const n=$e(4),r=d2();J(1),$("ngIf",null==r.choiceKinds?null:r.choiceKinds.isExplore()),J(1),$("ngIf",null==r.choiceKinds?null:r.choiceKinds.isAdvance()),J(1),$("ngIf",!(null!=r.choiceKinds&&r.choiceKinds.isThoughtAdvance()))("ngIfElse",n),J(1),$("ngIf",r.stat&&r.difficulty),J(2),w4("",r.text.trim(),"\xa0"),J(1),$("ngIf",r.box)}}function y02(e,t){1&e&&R2(0,"img",14)}const H02=function(e,t,n){return{old:e,recent:t,visited:n}};function z02(e,t){if(1&e&&(Q(0,"p",1),h2(1,h02,5,4,"a",2),h2(2,V02,8,7,"a",3),h2(3,y02,1,0,"ng-template",null,4,e5),X()),2&e){const n=d2();$("ngClass",B8(3,H02,!n.recent,n.recent,n.visited)),J(1),$("ngIf",n.isContinue),J(1),$("ngIf",n.text)}}let S02=(()=>{class e{constructor(){this.text=null,this.isContinue=!1,this.index=null,this.visited=!1,this.choiceKinds=null,this.stat=null,this.difficulty=null,this.box=null,this.recent=!1,this.onChoose=new s1,this.continueIcon=mg,this.advanceIcon=qr,this.exploreIcon=Et}ngOnInit(){}onclick(){null!=this.index&&this.onChoose.emit(this.index)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=p1({type:e,selectors:[["app-choice"]],inputs:{text:"text",isContinue:"isContinue",index:"index",visited:"visited",choiceKinds:"choiceKinds",stat:"stat",difficulty:"difficulty",box:"box",recent:"recent"},outputs:{onChoose:"onChoose"},decls:1,vars:1,consts:[["id","choice",3,"ngClass",4,"ngIf"],["id","choice",3,"ngClass"],["class","continue",3,"click",4,"ngIf"],["class","simple",3,"click",4,"ngIf"],["thoughtAdvanceIcon",""],[1,"continue",3,"click"],[3,"icon"],[1,"simple",3,"click"],[3,"icon",4,"ngIf"],[4,"ngIf","ngIfElse"],[4,"ngIf"],[1,"text"],[3,"class",4,"ngIf"],[1,"stat-check"],["src","/cotm3/assets/images/thought-bubble.png",2,"margin","0 5px","transform","translateY(5px)"]],template:function(n,r){1&n&&h2(0,z02,5,7,"p",0),2&n&&$("ngIf",r.recent)},dependencies:[T3,f4,T4],styles:["#choice[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:stretch}#choice.visited[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--secondary-text)}#choice[_ngcontent-%COMP%]   a.continue[_ngcontent-%COMP%]{flex:1;background-color:var(--main-darker);padding-top:10px;padding-bottom:10px;padding-right:35px;text-align:right;box-sizing:border-box;font-weight:700;color:var(--analog1);border-radius:4px;font-family:Quattrocento,Georgia,Times New Roman,Times,serif;transition:transform .1s;transform:rotate(.5deg)}#choice[_ngcontent-%COMP%]   a.continue[_ngcontent-%COMP%]:hover{color:#fff;transform:rotate(0)}#choice[_ngcontent-%COMP%]   a.continue[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:5px}#choice[_ngcontent-%COMP%]   a.simple[_ngcontent-%COMP%]{flex:1;font-weight:700}#choice[_ngcontent-%COMP%]   a.simple[_ngcontent-%COMP%]:hover   .text[_ngcontent-%COMP%]{text-decoration:underline}#choice[_ngcontent-%COMP%]   a.simple[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{margin-right:10px}#choice[_ngcontent-%COMP%]   a.simple[_ngcontent-%COMP%]   .stat-check[_ngcontent-%COMP%]{margin-right:5px}#choice[_ngcontent-%COMP%]   a.simple[_ngcontent-%COMP%]   .stat-check[_ngcontent-%COMP%]   .strenght[_ngcontent-%COMP%]{color:var(--strenght)}#choice[_ngcontent-%COMP%]   a.simple[_ngcontent-%COMP%]   .stat-check[_ngcontent-%COMP%]   .control[_ngcontent-%COMP%]{color:var(--control)}#choice[_ngcontent-%COMP%]   a.simple[_ngcontent-%COMP%]   .stat-check[_ngcontent-%COMP%]   .sleight[_ngcontent-%COMP%]{color:var(--sleight)}#choice[_ngcontent-%COMP%]   a.simple[_ngcontent-%COMP%]   .stat-check[_ngcontent-%COMP%]   .perception[_ngcontent-%COMP%]{color:var(--perception)}#choice[_ngcontent-%COMP%]   a.simple[_ngcontent-%COMP%]   .stat-check[_ngcontent-%COMP%]   .intuition[_ngcontent-%COMP%]{color:var(--intuition)}#choice[_ngcontent-%COMP%]   a.simple[_ngcontent-%COMP%]   .stat-check[_ngcontent-%COMP%]   .knowledge[_ngcontent-%COMP%]{color:var(--knowledge)}#choice[_ngcontent-%COMP%]   a.simple[_ngcontent-%COMP%]   .stat-check[_ngcontent-%COMP%]   .confidence[_ngcontent-%COMP%]{color:var(--confidence)}#choice[_ngcontent-%COMP%]   a.simple[_ngcontent-%COMP%]   .stat-check[_ngcontent-%COMP%]   .manipulation[_ngcontent-%COMP%]{color:var(--manipulation)}#choice[_ngcontent-%COMP%]   a.simple[_ngcontent-%COMP%]   .stat-check[_ngcontent-%COMP%]   .charisma[_ngcontent-%COMP%]{color:var(--charisma)}@keyframes progress{0%{color:var(--success)}50%{color:#ff0}to{color:var(--failure)}}#choice[_ngcontent-%COMP%]   a.simple[_ngcontent-%COMP%]   .stat-check[_ngcontent-%COMP%]   .elementary[_ngcontent-%COMP%]{--progress: 0;animation:100s linear calc(-1s * var(--progress)) paused progress}#choice[_ngcontent-%COMP%]   a.simple[_ngcontent-%COMP%]   .stat-check[_ngcontent-%COMP%]   .trivial[_ngcontent-%COMP%]{--progress: 10;animation:100s linear calc(-1s * var(--progress)) paused progress}#choice[_ngcontent-%COMP%]   a.simple[_ngcontent-%COMP%]   .stat-check[_ngcontent-%COMP%]   .simple[_ngcontent-%COMP%]{--progress: 20;animation:100s linear calc(-1s * var(--progress)) paused progress}#choice[_ngcontent-%COMP%]   a.simple[_ngcontent-%COMP%]   .stat-check[_ngcontent-%COMP%]   .easy[_ngcontent-%COMP%]{--progress: 30;animation:100s linear calc(-1s * var(--progress)) paused progress}#choice[_ngcontent-%COMP%]   a.simple[_ngcontent-%COMP%]   .stat-check[_ngcontent-%COMP%]   .average[_ngcontent-%COMP%]{--progress: 40;animation:100s linear calc(-1s * var(--progress)) paused progress}#choice[_ngcontent-%COMP%]   a.simple[_ngcontent-%COMP%]   .stat-check[_ngcontent-%COMP%]   .challenging[_ngcontent-%COMP%]{--progress: 60;animation:100s linear calc(-1s * var(--progress)) paused progress}#choice[_ngcontent-%COMP%]   a.simple[_ngcontent-%COMP%]   .stat-check[_ngcontent-%COMP%]   .hard[_ngcontent-%COMP%]{--progress: 70;animation:100s linear calc(-1s * var(--progress)) paused progress}#choice[_ngcontent-%COMP%]   a.simple[_ngcontent-%COMP%]   .stat-check[_ngcontent-%COMP%]   .professional[_ngcontent-%COMP%]{--progress: 80;animation:100s linear calc(-1s * var(--progress)) paused progress}#choice[_ngcontent-%COMP%]   a.simple[_ngcontent-%COMP%]   .stat-check[_ngcontent-%COMP%]   .expert[_ngcontent-%COMP%]{--progress: 90;animation:100s linear calc(-1s * var(--progress)) paused progress}#choice[_ngcontent-%COMP%]   a.simple[_ngcontent-%COMP%]   .stat-check[_ngcontent-%COMP%]   .impossible[_ngcontent-%COMP%]{--progress: 100;animation:100s linear calc(-1s * var(--progress)) paused progress}#choice[_ngcontent-%COMP%]   a.simple[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{margin-right:10px;background-color:#fff;color:#000;font-size:.8em;font-weight:700;border-radius:5px;padding:0 3px;margin-left:3px;white-space:nowrap}#choice[_ngcontent-%COMP%]   a.simple[_ngcontent-%COMP%]   .box.strenght[_ngcontent-%COMP%]{background-color:var(--strenght)}#choice[_ngcontent-%COMP%]   a.simple[_ngcontent-%COMP%]   .box.control[_ngcontent-%COMP%]{background-color:var(--control)}#choice[_ngcontent-%COMP%]   a.simple[_ngcontent-%COMP%]   .box.sleight[_ngcontent-%COMP%]{background-color:var(--sleight)}#choice[_ngcontent-%COMP%]   a.simple[_ngcontent-%COMP%]   .box.perception[_ngcontent-%COMP%]{background-color:var(--perception)}#choice[_ngcontent-%COMP%]   a.simple[_ngcontent-%COMP%]   .box.intuition[_ngcontent-%COMP%]{background-color:var(--intuition)}#choice[_ngcontent-%COMP%]   a.simple[_ngcontent-%COMP%]   .box.knowledge[_ngcontent-%COMP%]{background-color:var(--knowledge)}#choice[_ngcontent-%COMP%]   a.simple[_ngcontent-%COMP%]   .box.confidence[_ngcontent-%COMP%]{background-color:var(--confidence)}#choice[_ngcontent-%COMP%]   a.simple[_ngcontent-%COMP%]   .box.manipulation[_ngcontent-%COMP%]{background-color:var(--manipulation)}#choice[_ngcontent-%COMP%]   a.simple[_ngcontent-%COMP%]   .box.charisma[_ngcontent-%COMP%]{background-color:var(--charisma)}",".old[_ngcontent-%COMP%]{opacity:.5}a[_ngcontent-%COMP%]{cursor:pointer}.special[_ngcontent-%COMP%]{font-size:1.4em;color:var(--main)}.not-special[_ngcontent-%COMP%]{font-size:1em}.tip[_ngcontent-%COMP%]{font-size:.8em;color:var(--secondary-text);text-align:center}"]}),e})();var oe=(()=>{return(e=oe||(oe={})).VILITARIS="VILITARIS",e.BELLIO="BELLIO",e.NIAVIT="NIAVIT",oe;var e})();function b02(e,t){1&e&&(Q(0,"div",13),u2(1,"Use the arrows to pick another"),X())}function _02(e,t){if(1&e){const n=v3();Q(0,"div",14),O2("click",function(){return I1(n),O1(d2().moveBackwards())}),R2(1,"fa-icon",15),X()}if(2&e){const n=d2();J(1),$("icon",n.moveBackwardsIcon)}}function w02(e,t){if(1&e){const n=v3();Q(0,"div",16),O2("click",function(){return I1(n),O1(d2().moveForwards())}),R2(1,"fa-icon",15),X()}if(2&e){const n=d2();J(1),$("icon",n.moveForwardsIcon)}}function x02(e,t){if(1&e&&(Q(0,"p"),u2(1),X()),2&e){const n=t.$implicit;J(1),w4(" ",n," ")}}const D02=function(e,t){return{old:e,recent:t}};let N02=(()=>{class e{constructor(n,r){this.storyService=n,this.assetsService=r,this.recent=!1,this.moveBackwardsIcon=nf,this.moveForwardsIcon=of,this.currentIndex=0,this.markings=[{kind:oe.VILITARIS,imageClass:"marking-vilitaris",description:["Powerful bodies build powerful minds, their motto and lifestyle. Mages who are looking for control in all things, internal and external, choose this Marking.","Bonus: +1 to PHYSICAL stats.","Flaw Power Player: You can't say no to any offers of power."]},{kind:oe.BELLIO,imageClass:"marking-bellio",description:["There is something fundamentaly broken with the world and you will fix it. Rebels and activists, and those with drive and passion choose this Marking.","Bonus: +1 to MENTAL stats.","Flaw Savior Complex: You can't say no to helping people."]},{kind:oe.NIAVIT,imageClass:"marking-niavit",description:["What\u2019s the point of having magic if you can\u2019t have fun? Sex, drugs and alcohol are a lot more fun when there are no consequences. Those who seek hedonism choose this Marking.","Bonus: +1 to SOCIAL challenges.",'Flaw Addicted: You can\'t say no to any "fun" options.']}];let i=n.get("player_Marking1"),a=n.get("player_Marking2"),o=n.get("player_Marking3");i>a&&i>o?this.currentIndex=0:a>i&&a>o?this.currentIndex=1:o>i&&o>a&&(this.currentIndex=2),this.setStoryValue()}ngOnInit(){}getCurrentMarking(){return this.markings[this.calcIndex()]}moveBackwards(){this.currentIndex-=1,this.currentIndex<0&&(this.currentIndex=2),this.setStoryValue()}moveForwards(){this.currentIndex+=1,this.setStoryValue()}calcIndex(){return Math.abs(this.currentIndex)%3}setStoryValue(){0==this.calcIndex()&&(this.storyService.call("set_player_Marking1",[4]),this.storyService.call("set_player_Marking2",[0]),this.storyService.call("set_player_Marking3",[0])),1==this.calcIndex()&&(this.storyService.call("set_player_Marking1",[0]),this.storyService.call("set_player_Marking2",[4]),this.storyService.call("set_player_Marking3",[0])),2==this.calcIndex()&&(this.storyService.call("set_player_Marking1",[0]),this.storyService.call("set_player_Marking2",[0]),this.storyService.call("set_player_Marking3",[4]))}}return e.\u0275fac=function(n){return new(n||e)(q(ne),q(n9))},e.\u0275cmp=p1({type:e,selectors:[["app-marking-menu"]],inputs:{recent:"recent"},decls:18,vars:12,consts:[["id","marking-menu",3,"ngClass"],[1,"content"],[1,"given"],[1,"not-special"],[1,"special"],["class","tip",4,"ngIf"],[1,"marking-container"],[1,"name-box"],["class","arrow arrow-left",3,"click",4,"ngIf"],[1,"marking-name"],["class","arrow arrow-right",3,"click",4,"ngIf"],[1,"description"],[4,"ngFor","ngForOf"],[1,"tip"],[1,"arrow","arrow-left",3,"click"],[1,"fa-lg",3,"icon"],[1,"arrow","arrow-right",3,"click"]],template:function(n,r){1&n&&(Q(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"span",3),u2(5,"You've been given a\xa0"),X(),Q(6,"span",4),u2(7,"Marking"),X()(),h2(8,b02,2,0,"div",5),X(),Q(9,"div",6),R2(10,"div"),X(),Q(11,"div",7),h2(12,_02,2,1,"div",8),Q(13,"div",9),u2(14),X(),h2(15,w02,2,1,"div",10),X(),Q(16,"div",11),h2(17,x02,2,1,"p",12),X()()()),2&n&&($("ngClass",E7(9,D02,!r.recent,r.recent)),J(8),$("ngIf",r.recent),J(2),G6("marking ",r.getCurrentMarking().imageClass,""),J(2),$("ngIf",r.recent),J(2),N3(r.getCurrentMarking().kind),J(1),$("ngIf",r.recent),J(2),$("ngForOf",r.getCurrentMarking().description))},dependencies:[T3,s5,f4,T4],styles:["#marking-menu[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:space-around;height:calc(100vh - 80px);min-height:555px}#marking-menu[_ngcontent-%COMP%]   .given[_ngcontent-%COMP%]{font-size:1.2em;text-align:center}#marking-menu[_ngcontent-%COMP%]   .not-special[_ngcontent-%COMP%]{display:block}#marking-menu[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{font-size:.9em;text-align:center;min-height:219px}#marking-menu[_ngcontent-%COMP%]   .name-box[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:stretch;color:var(--main);width:100%}#marking-menu[_ngcontent-%COMP%]   .name-box[_ngcontent-%COMP%]   .marking-name[_ngcontent-%COMP%]{flex:1;font-size:40px;text-align:center;font-weight:700;font-family:Quattrocento,Georgia,Times New Roman,Times,serif}#marking-menu[_ngcontent-%COMP%]   .name-box[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{font-size:1.6em;cursor:pointer;flex:0;min-width:40px;min-height:40px;text-align:center;line-height:40px;transition:transform .1s}#marking-menu[_ngcontent-%COMP%]   .name-box[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]:hover{transform:scale(1.2)}#marking-menu[_ngcontent-%COMP%]   .marking-container[_ngcontent-%COMP%]{min-width:240px;min-height:235px;display:flex;justify-content:center;align-items:center;flex:0}#marking-menu[_ngcontent-%COMP%]   .marking-vilitaris[_ngcontent-%COMP%]{background-image:url(/cotm3/assets/images/marking1.png);width:240px;height:230px}#marking-menu[_ngcontent-%COMP%]   .marking-vilitaris--Union[_ngcontent-%COMP%]{background-position:0 0}#marking-menu[_ngcontent-%COMP%]   .marking-bellio[_ngcontent-%COMP%]{background-image:url(/cotm3/assets/images/marking2.png);width:224px;height:235px}#marking-menu[_ngcontent-%COMP%]   .marking-bellio--Marking-Bellio[_ngcontent-%COMP%]{background-position:0 0}#marking-menu[_ngcontent-%COMP%]   .marking-niavit[_ngcontent-%COMP%]{background-image:url(/cotm3/assets/images/marking3.png);width:224px;height:235px}#marking-menu[_ngcontent-%COMP%]   .marking-niavit--Niavit-Markig[_ngcontent-%COMP%]{background-position:0 0}",".old[_ngcontent-%COMP%]{opacity:.5}a[_ngcontent-%COMP%]{cursor:pointer}.special[_ngcontent-%COMP%]{font-size:1.4em;color:var(--main)}.not-special[_ngcontent-%COMP%]{font-size:1em}.tip[_ngcontent-%COMP%]{font-size:.8em;color:var(--secondary-text);text-align:center}"]}),e})();const E02=function(e){return{open:e}};let A02=(()=>{class e{constructor(){this.onShowStats=new s1,this.onUndo=new s1,this.onShowStatsDebug=new s1,this.menuIcon=fi,this.showStatsIcon=rM,this.undoChoiceIcon=Rr,this.showDebugStatsIcon=Br,this.open=!1}ngOnInit(){}toggleSidebar(){this.open=!this.open}showStats(){this.onShowStats.emit()}undo(){this.onUndo.emit()}showStatsDebug(){this.onShowStatsDebug.emit()}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=p1({type:e,selectors:[["app-sidebar"]],outputs:{onShowStats:"onShowStats",onUndo:"onUndo",onShowStatsDebug:"onShowStatsDebug"},decls:23,vars:7,consts:[["id","sidebar",3,"ngClass"],["id","toggle-button",3,"click"],[1,"fa-lg",3,"icon"],[1,"content"],[1,"heading"],[1,"button-container"],[1,"button",3,"click"],[3,"icon"],[1,"text"],[1,"button","debug",3,"click"]],template:function(n,r){1&n&&(Q(0,"nav",0)(1,"div",1),O2("click",function(){return r.toggleSidebar()}),R2(2,"fa-icon",2),X(),Q(3,"div",3)(4,"div",4),u2(5," Menu "),X(),Q(6,"div",5)(7,"div",6),O2("click",function(){return r.showStats()}),R2(8,"fa-icon",7),X(),Q(9,"div",8),u2(10," Your stats "),X()(),Q(11,"div",4),u2(12," Debug "),X(),Q(13,"div",5)(14,"div",9),O2("click",function(){return r.undo()}),R2(15,"fa-icon",7),X(),Q(16,"div",8),u2(17," Undo "),X()(),Q(18,"div",5)(19,"div",9),O2("click",function(){return r.showStatsDebug()}),R2(20,"fa-icon",7),X(),Q(21,"div",8),u2(22," Your stats "),X()()()()),2&n&&($("ngClass",s3(5,E02,r.open)),J(2),$("icon",r.menuIcon),J(6),$("icon",r.showStatsIcon),J(7),$("icon",r.undoChoiceIcon),J(5),$("icon",r.showDebugStatsIcon))},dependencies:[T3,T4],styles:["#sidebar[_ngcontent-%COMP%]{position:fixed;left:-76px;top:0;width:80px;height:100vh;background-color:var(--background);box-sizing:border-box;border-right:4px solid var(--background-low-contrast);z-index:10;display:flex;justify-content:center;transition:left .1s ease-in-out;box-shadow:2px 0 2px var(--background)}#sidebar.open[_ngcontent-%COMP%]{left:0}#sidebar[_ngcontent-%COMP%]   #toggle-button[_ngcontent-%COMP%]{width:28px;height:50px;position:absolute;left:80px;top:15px;background-color:var(--background-low-contrast);z-index:11;border-bottom-right-radius:5px;border-top-right-radius:5px;display:flex;justify-content:center;align-items:center;cursor:pointer;box-shadow:2px 2px 2px var(--background)}#sidebar[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{overflow:hidden}#sidebar[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{font-size:.7em;font-weight:700;margin-left:4px;margin-bottom:5px;margin-top:5px;text-align:center;text-transform:uppercase}#sidebar[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]:not(:first-child){margin-top:15px}#sidebar[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;padding:0 5px}#sidebar[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]:not(last-child){margin-bottom:15px}#sidebar[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{width:55px;height:55px;display:flex;justify-content:center;align-items:center;background-color:var(--complementary);border-radius:5px;position:relative;cursor:pointer}#sidebar[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .button.debug[_ngcontent-%COMP%]{background-color:var(--main-darker)}#sidebar[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{font-size:1.5em}#sidebar[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-size:.7em;text-align:center}"]}),e})();const{isArray:T02}=Array,{getPrototypeOf:P02,prototype:k02,keys:I02}=Object;function R02(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}function B02(...e){const t=function QV(e){return v(M0(e))?e.pop():void 0}(e),{args:n,keys:r}=function O02(e){if(1===e.length){const t=e[0];if(T02(t))return{args:t,keys:null};if(function F02(e){return e&&"object"==typeof e&&P02(e)===k02}(t)){const n=I02(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}(e),i=new E(a=>{const{length:o}=n;if(!o)return void a.complete();const s=new Array(o);let c=o,l=o;for(let C=0;C<o;C++){let u=!1;y3(n[C]).subscribe(I2(a,d=>{u||(u=!0,l--),s[C]=d},()=>c--,void 0,()=>{(!c||!u)&&(l||a.next(r?R02(r,s):s),a.complete())}))}});return t?i.pipe(Tu(t)):i}let DL=(()=>{class e{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return e.\u0275fac=function(n){return new(n||e)(q(a4),q(B1))},e.\u0275dir=z2({type:e}),e})(),se=(()=>{class e extends DL{}return e.\u0275fac=function(){let t;return function(r){return(t||(t=V1(e)))(r||e)}}(),e.\u0275dir=z2({type:e,features:[$2]}),e})();const Z3=new _2("NgValueAccessor"),W02={provide:Z3,useExisting:e1(()=>n0),multi:!0},G02=new _2("CompositionEventMode");let n0=(()=>{class e extends DL{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function U02(){const e=Z4()?Z4().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return e.\u0275fac=function(n){return new(n||e)(q(a4),q(B1),q(G02,8))},e.\u0275dir=z2({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&O2("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[o1([W02]),$2]}),e})();const T1=new _2("NgValidators"),k4=new _2("NgAsyncValidators");function BL(e){return null!=e}function jL(e){return A8(e)?P5(e):e}function WL(e){let t={};return e.forEach(n=>{t=null!=n?{...t,...n}:t}),0===Object.keys(t).length?null:t}function UL(e,t){return t.map(n=>n(e))}function GL(e){return e.map(t=>function K02(e){return!e.validate}(t)?t:n=>t.validate(n))}function r9(e){return null!=e?function $L(e){if(!e)return null;const t=e.filter(BL);return 0==t.length?null:function(n){return WL(UL(n,t))}}(GL(e)):null}function i9(e){return null!=e?function qL(e){if(!e)return null;const t=e.filter(BL);return 0==t.length?null:function(n){return B02(UL(n,t).map(jL)).pipe(x1(WL))}}(GL(e)):null}function KL(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function a9(e){return e?Array.isArray(e)?e:[e]:[]}function a0(e,t){return Array.isArray(e)?e.includes(t):e===t}function JL(e,t){const n=a9(t);return a9(e).forEach(i=>{a0(n,i)||n.push(i)}),n}function ZL(e,t){return a9(t).filter(n=>!a0(e,n))}class XL{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=r9(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=i9(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,n){return!!this.control&&this.control.hasError(t,n)}getError(t,n){return this.control?this.control.getError(t,n):null}}class G1 extends XL{get formDirective(){return null}get path(){return null}}class I4 extends XL{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let tV=(()=>{class e extends class eV{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}{constructor(n){super(n)}}return e.\u0275fac=function(n){return new(n||e)(q(I4,2))},e.\u0275dir=z2({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&_4("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[$2]}),e})();const w5="VALID",s0="INVALID",a6="PENDING",x5="DISABLED";function rV(e){return Array.isArray(e)?r9(e):e||null}function iV(e){return Array.isArray(e)?i9(e):e||null}function c0(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}function D5(e,t){(function f9(e,t){const n=function YL(e){return e._rawValidators}(e);null!==t.validator?e.setValidators(KL(n,t.validator)):"function"==typeof n&&e.setValidators([n]);const r=function QL(e){return e._rawAsyncValidators}(e);null!==t.asyncValidator?e.setAsyncValidators(KL(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const i=()=>e.updateValueAndValidity();u0(t._rawValidators,i),u0(t._rawAsyncValidators,i)})(e,t),t.valueAccessor.writeValue(e.value),e.disabled&&t.valueAccessor.setDisabledState?.(!0),function in2(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&cV(e,t)})}(e,t),function on2(e,t){const n=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function an2(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&cV(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function rn2(e,t){if(t.valueAccessor.setDisabledState){const n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t)}function u0(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function cV(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function fV(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function dV(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}const hn2={provide:I4,useExisting:e1(()=>m9)},gV=(()=>Promise.resolve(null))();let m9=(()=>{class e extends I4{constructor(n,r,i,a,o){super(),this._changeDetectorRef=o,this.control=new class extends class sV{constructor(t,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=n,this._composedValidatorFn=rV(this._rawValidators),this._composedAsyncValidatorFn=iV(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===w5}get invalid(){return this.status===s0}get pending(){return this.status==a6}get disabled(){return this.status===x5}get enabled(){return this.status!==x5}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=rV(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=iV(t)}addValidators(t){this.setValidators(JL(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(JL(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(ZL(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(ZL(t,this._rawAsyncValidators))}hasValidator(t){return a0(this._rawValidators,t)}hasAsyncValidator(t){return a0(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=a6,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=x5,this.errors=null,this._forEachChild(r=>{r.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=w5,this._forEachChild(r=>{r.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===w5||this.status===a6)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?x5:w5}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=a6,this._hasOwnPendingAsyncValidator=!0;const n=jL(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(!1!==n.emitEvent)}get(t){let n=t;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(t,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new s1,this.statusChanges=new s1}_calculateStatus(){return this._allControlsDisabled()?x5:this.errors?s0:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(a6)?a6:this._anyControlsHaveStatus(s0)?s0:w5}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){c0(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}}{constructor(t=null,n,r){super(function l9(e){return(c0(e)?e.validators:e)||null}(n),function C9(e,t){return(c0(t)?t.asyncValidators:e)||null}(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),c0(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=dV(t)?t.value:t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){fV(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){fV(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){dV(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},this._registered=!1,this.update=new s1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function h9(e,t){if(!t)return null;let n,r,i;return Array.isArray(t),t.forEach(a=>{a.constructor===n0?n=a:function ln2(e){return Object.getPrototypeOf(e.constructor)===se}(a)?r=a:i=a}),i||r||n||null}(0,a)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function d9(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){D5(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){gV.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=0!==r&&function ir(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}(r);gV.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?function l0(e,t){return[...t.path,e]}(n,this._parent):[n]}}return e.\u0275fac=function(n){return new(n||e)(q(G1,9),q(T1,10),q(k4,10),q(Z3,10),q(bC,8))},e.\u0275dir=z2({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[o1([hn2]),$2,t3]}),e})(),MV=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=f3({type:e}),e.\u0275inj=Z1({}),e})(),Fn2=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=f3({type:e}),e.\u0275inj=Z1({imports:[MV]}),e})(),Rn2=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=f3({type:e}),e.\u0275inj=Z1({imports:[Fn2]}),e})();const jn2=function(e){return{old:e}};let Wn2=(()=>{class e{constructor(n){this.storyService=n,this.recent=!1,this.randomizeIcon=lh,this.firstnames=["Afonso","Xavier","Jo\xe3o","Ivo","Elias","Reinaldo","Marcelo","Luciano","Ricardo","Rog\xe9rio","Marta","Carla","Sandra","Ana","Marcela","Luciana","Erica","Andressa","Let\xedcia","Suzana"],this.lastnames=["Souza","Silva","Alves","Pereira","Carvalho","Jacinto","Torres","Schmidt","Weber","Abel"],this.firstName="",this.lastName="",this.randomizeFirstName(),this.randomizeLastName(),this.saveNames()}ngOnInit(){}onFirstNameChange(){this.saveNames()}onLastNameChange(){this.saveNames()}randomizeFirstName(){let n=this.firstName;for(;this.firstName==n;){let r=Math.floor(Math.random()*this.firstnames.length);this.firstName=this.firstnames[r]}}randomizeLastName(){let n=this.lastName;for(;this.lastName==n;){let r=Math.floor(Math.random()*this.lastnames.length);this.lastName=this.lastnames[r]}}saveNames(){this.storyService.call("set_player_name",[this.firstName]),this.storyService.call("set_player_last_name",[this.lastName])}}return e.\u0275fac=function(n){return new(n||e)(q(ne))},e.\u0275cmp=p1({type:e,selectors:[["app-character-name-menu"]],inputs:{recent:"recent"},decls:13,vars:9,consts:[["id","name-menu",3,"ngClass"],["for","firstname"],["id","firstname","type","text",3,"ngModel","disabled","ngModelChange","change"],[3,"icon","click"],["for","lastname"],["id","lastname","type","text",3,"ngModel","disabled","ngModelChange","change"]],template:function(n,r){1&n&&(Q(0,"div",0)(1,"p"),u2(2,"Who are you?"),X(),Q(3,"label",1),u2(4,"First name:"),X(),Q(5,"div")(6,"input",2),O2("ngModelChange",function(a){return r.firstName=a})("change",function(){return r.onFirstNameChange()}),X(),Q(7,"fa-icon",3),O2("click",function(){return r.randomizeFirstName()}),X()(),Q(8,"label",4),u2(9,"Last name:"),X(),Q(10,"div")(11,"input",5),O2("ngModelChange",function(a){return r.lastName=a})("change",function(){return r.onLastNameChange()}),X(),Q(12,"fa-icon",3),O2("click",function(){return r.randomizeLastName()}),X()()()),2&n&&($("ngClass",s3(7,jn2,!r.recent)),J(6),$("ngModel",r.firstName)("disabled",!r.recent),J(1),$("icon",r.randomizeIcon),J(4),$("ngModel",r.lastName)("disabled",!r.recent),J(1),$("icon",r.randomizeIcon))},dependencies:[T3,T4,n0,tV,m9],styles:["#name-menu[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:35px;line-height:30px;color:var(--analog1);font-size:1em;font-weight:700;padding:21px;box-sizing:border-box;border-radius:4px;background-color:var(--background);border:1px solid var(--background-low-contrast);margin-bottom:10px;font-family:inherit;text-transform:uppercase}#name-menu[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative}#name-menu[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.9em}#name-menu[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{font-size:1.5em;cursor:pointer;position:absolute;right:10px;top:1px}#name-menu.old[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{display:none}#name-menu.old[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-color:var(--background)}",".old[_ngcontent-%COMP%]{opacity:.5}a[_ngcontent-%COMP%]{cursor:pointer}.special[_ngcontent-%COMP%]{font-size:1.4em;color:var(--main)}.not-special[_ngcontent-%COMP%]{font-size:1em}.tip[_ngcontent-%COMP%]{font-size:.8em;color:var(--secondary-text);text-align:center}"]}),e})();function Un2(e,t){if(1&e&&(Q(0,"div")(1,"div",3),u2(2,"Take your time"),X(),Q(3,"div",4),u2(4,"While choices marked with a "),R2(5,"fa-icon",5),u2(6," will never advance the story, they can still have consequences, positive and negative."),X()()),2&e){const n=d2();J(5),$("icon",n.exploreIcon)}}function Gn2(e,t){if(1&e&&(Q(0,"div")(1,"div",3),u2(2,"Feel free to explore"),X(),Q(3,"div",4),u2(4,"Only choices marked with a "),R2(5,"fa-icon",5),u2(6," can advance the story."),X()()),2&e){const n=d2();J(5),$("icon",n.advanceIcon)}}function $n2(e,t){}function qn2(e,t){1&e&&h2(0,$n2,0,0,"ng-template")}function Kn2(e,t){if(1&e&&(Q(0,"div")(1,"div",3),u2(2,"Learn more about yourself"),X(),Q(3,"div",4),u2(4,"Choices marked with a "),h2(5,qn2,1,0,null,6),u2(6," are just thoughts. Use them to build your character."),X()()),2&e){d2();const n=$e(5);J(5),$("ngIf",!1)("ngIfElse",n)}}function Yn2(e,t){1&e&&R2(0,"img",7)}const Qn2=function(e){return{old:e}};let Jn2=(()=>{class e{constructor(){this.recent=!1,this.command="",this.exploreIcon=Et,this.advanceIcon=zd,this.thoughtAdvanceIcon=Xf}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=p1({type:e,selectors:[["app-tutorial-box"]],inputs:{recent:"recent",command:"command"},decls:6,vars:6,consts:[["id","tutorial-box",3,"ngClass"],[4,"ngIf"],["thoughtAdvanceIcon",""],[1,"title"],[1,"explanation"],[3,"icon"],[4,"ngIf","ngIfElse"],["src","/cotm3/assets/images/thought-bubble.png",2,"margin","0 5px","transform","translateY(5px)"]],template:function(n,r){1&n&&(Q(0,"div",0),h2(1,Un2,7,1,"div",1),h2(2,Gn2,7,1,"div",1),h2(3,Kn2,7,2,"div",1),h2(4,Yn2,1,0,"ng-template",null,2,e5),X()),2&n&&($("ngClass",s3(4,Qn2,!r.recent)),J(1),$("ngIf","[[tutorial:explore_tip]]"==r.command),J(1),$("ngIf","[[tutorial:continue_tip]]"==r.command),J(1),$("ngIf","[[tutorial:thought_tip]]"==r.command))},dependencies:[T3,f4,T4],styles:["#tutorial-box[_ngcontent-%COMP%]{background-color:#222;width:100%;min-height:100px;display:flex;justify-content:center;align-items:center;flex-direction:column;box-sizing:border-box;padding:10px 14px 14px}#tutorial-box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:100%}#tutorial-box[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:var(--complementary);font-size:1.1em}",".old[_ngcontent-%COMP%]{opacity:.5}a[_ngcontent-%COMP%]{cursor:pointer}.special[_ngcontent-%COMP%]{font-size:1.4em;color:var(--main)}.not-special[_ngcontent-%COMP%]{font-size:1em}.tip[_ngcontent-%COMP%]{font-size:.8em;color:var(--secondary-text);text-align:center}"]}),e})(),Zn2=(()=>{class e{constructor(){this.loadingIcon=Rd}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=p1({type:e,selectors:[["app-loader"]],decls:3,vars:1,consts:[["id","loader"],[1,"spinner"],[3,"icon"]],template:function(n,r){1&n&&(Q(0,"div",0)(1,"div",1),R2(2,"fa-icon",2),X()()),2&n&&(J(2),$("icon",r.loadingIcon))},dependencies:[T4],styles:["#loader[_ngcontent-%COMP%]{width:100vw;height:100vh;display:flex;justify-content:center;align-items:center}#loader[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{font-size:2em;animation:spin 1s linear infinite}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]}),e})();function Xn2(e,t){1&e&&R2(0,"app-loader")}function e72(e,t){if(1&e){const n=v3();Q(0,"app-sidebar",4),O2("onShowStats",function(){return I1(n),O1(d2().showStats())})("onUndo",function(){return I1(n),O1(d2().undo())})("onShowStatsDebug",function(){return I1(n),O1(d2().showStatsDebug())}),X()}}function t72(e,t){if(1&e&&R2(0,"app-paragraph",18),2&e){const n=d2(),r=n.$implicit,i=n.index,a=d2(2).$implicit;$("text",r.text)("voice",r.voice)("difficulty",r.difficulty)("success",r.success)("recent",a.recent&&(0!=i||"YOU"!=r.voice))}}function n72(e,t){1&e&&R2(0,"app-marking-menu",19),2&e&&$("recent",d2(3).$implicit.recent)}function r72(e,t){if(1&e&&R2(0,"app-stats-menu",20),2&e){const n=d2(3).$implicit,r=d2(2);$("recent",n.recent)("maxStats",5)("minStats",1)("totalToDistribute",6)("informationMode",r.informationMode)}}function i72(e,t){1&e&&R2(0,"app-character-name-menu",19),2&e&&$("recent",d2(3).$implicit.recent)}const a72=function(e){return{old:e}};function o72(e,t){if(1&e&&(Q(0,"div",21),R2(1,"div",22)(2,"div",23)(3,"div",24),X()),2&e){const n=d2(3).$implicit;$("ngClass",s3(1,a72,!n.recent))}}function s72(e,t){if(1&e&&R2(0,"app-tutorial-box",25),2&e){const n=d2().$implicit;$("recent",d2(2).$implicit.recent)("command",n.text.trim())}}function c72(e,t){if(1&e){const n=v3();Q(0,"app-choice",26),O2("onChoose",function(i){return I1(n),O1(d2(5).chooseChoiceIndex(i))}),X()}if(2&e){const n=d2().$implicit,r=d2(2).$implicit;$("index",n.index)("isContinue",!0)("recent",r.recent)}}function l72(e,t){if(1&e){const n=v3();Q(0,"app-choice",27),O2("onChoose",function(i){return I1(n),O1(d2(5).chooseChoiceIndex(i))}),X()}if(2&e){const n=d2().$implicit,r=d2(2).$implicit;$("index",n.index)("text",n.text)("visited",n.visited)("recent",r.recent)("choiceKinds",n.choiceKinds)}}function C72(e,t){if(1&e){const n=v3();Q(0,"app-choice",28),O2("onChoose",function(i){return I1(n),O1(d2(5).chooseChoiceIndex(i))}),X()}if(2&e){const n=d2().$implicit,r=d2(2).$implicit;$("index",n.index)("text",n.text)("visited",n.visited)("box",n.box)("recent",r.recent)("choiceKinds",n.choiceKinds)}}function u72(e,t){if(1&e){const n=v3();Q(0,"app-choice",29),O2("onChoose",function(i){return I1(n),O1(d2(5).chooseChoiceIndex(i))}),X()}if(2&e){const n=d2().$implicit,r=d2(2).$implicit;$("index",n.index)("text",n.text)("visited",n.visited)("stat",n.stat)("difficulty",n.difficulty)("recent",r.recent)("choiceKinds",n.choiceKinds)}}function f72(e,t){if(1&e&&(h2(0,t72,1,5,"app-paragraph",9),h2(1,n72,1,1,"app-marking-menu",10),h2(2,r72,1,5,"app-stats-menu",11),h2(3,i72,1,1,"app-character-name-menu",10),h2(4,o72,4,3,"div",12),h2(5,s72,1,2,"app-tutorial-box",13),h2(6,c72,1,3,"app-choice",14),h2(7,l72,1,5,"app-choice",15),h2(8,C72,1,6,"app-choice",16),h2(9,u72,1,7,"app-choice",17)),2&e){const n=t.$implicit;$("ngIf","paragraph"==n.kind),J(1),$("ngIf","command"==n.kind&&"[[marking_menu]]"==n.text.trim().toLowerCase()),J(1),$("ngIf","command"==n.kind&&"[[stats_menu]]"==n.text.trim().toLowerCase()),J(1),$("ngIf","command"==n.kind&&"[[naming_menu]]"==n.text.trim().toLowerCase()),J(1),$("ngIf","command"==n.kind&&"[[divider]]"==n.text.trim().toLowerCase()),J(1),$("ngIf","command"==n.kind&&n.text.trim().toLowerCase().startsWith("[[tutorial:")),J(1),$("ngIf","continue_choice"==n.kind),J(1),$("ngIf","simple_choice"==n.kind),J(1),$("ngIf","contextual_choice"==n.kind),J(1),$("ngIf","active_stat_check_choice"==n.kind)}}function d72(e,t){if(1&e&&h2(0,f72,10,10,"ng-template",7),2&e){const n=d2().$implicit,r=d2(2);$("ngForOf",n.items)("ngForTrackBy",r.trackById)}}function h72(e,t){if(1&e&&(Q(0,"div",8),h2(1,d72,1,2,null,1),X()),2&e){const n=t.$implicit;J(1),$("ngIf",n.visible)}}function p72(e,t){if(1&e&&(Q(0,"div",5)(1,"div",6)(2,"span"),u2(3,"Children"),X(),Q(4,"span"),u2(5," of the "),X(),Q(6,"span"),u2(7,"Moon"),X()(),h2(8,h72,2,1,"ng-template",7),J6(9,"async"),X()),2&e){const n=d2();J(8),$("ngForOf",Z6(9,2,n.groups$))("ngForTrackBy",n.trackById)}}const O4=function EE(e,...t){const{state:n,config:r}=function bE(...e){const t={config:{},state:{}};for(const{config:n,props:r}of e)Object.assign(t.config,n),Object.assign(t.state,r);return t}(...t),{name:i}=e;return new NE({name:i,state:n,config:r})}({name:"storyStore"},UE());let IV=(()=>{class e{constructor(n){this.all$=O4.pipe(function ZE(e={}){const{ref:{entitiesKey:t,idsKey:n}=W2}=e;return g(function d5(e){return Hu((t,n)=>t[e]===n[e])}(t),x1(r=>r[n].map(i=>r[t][i])))}()),this.added$=new s1,this.storyGroupSubscription=n.getStoryGroups().subscribe(r=>{this.addGroup({visible:!1,recent:!0,...r})})}ngOnDestroy(){this.storyGroupSubscription.unsubscribe()}addGroup(n){O4.update(function wu(e,t={}){return function(n,r){const{prepend:i=!1,ref:a=W2}=t,{entitiesKey:o,idsKey:s}=a,c=function f5(e,t){return e.config[t.idKeyRef]}(r,a),l=e6(e);if(!l.length)return n;(function $E(e,t,n,r){e.forEach(i=>{const a=i[t];if(n[r][a])throw Error(`Entity already exists. ${t} ${a}`)})})(l,c,n,o),function qE(e,t){const n=new Set;e.forEach(r=>{const i=r[t];if(n.has(i))throw Error(`Duplicate entity id provided. ${t} ${i}`);n.add(i)})}(l,c);const{ids:C,asObject:u}=Lt(l,c);return Object.assign({},n,{[o]:Object.assign({},n[o],u),[s]:i?[...C,...n[s]]:[...n[s],...C]})}}(n)),this.added$.emit(n)}clear(){O4.update(function GE(e,t={}){return function(r,i){const a=function Vt(e,t,n){const{idsKey:r,entitiesKey:i}=t,a=e[i];return e[r].filter(o=>n(a[o]))}(r,t.ref||W2,e);return a.length?wr(a,t)(r,i):r}}(n=>0==n.recent))}updateGroup(n,r){O4.update(yt(n,r))}updateAllGroups(n){O4.update(function JE(e,t={}){return function(n,r){const{ref:{idsKey:i}=W2}=t;return yt(n[i],e,t)(n,r)}}(n))}deleteLast(){return O4.pipe(Eu(),gt(1)).pipe(x1(n=>(n&&O4.update(wr(n.id)),n??null)))}updateLast(n){return O4.pipe(Eu(),gt(1)).pipe(x1(r=>{r&&this.updateGroup(r.id,n)}))}}return e.\u0275fac=function(n){return new(n||e)(N2(ne))},e.\u0275prov=B2({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),m72=(()=>{class e{constructor(n,r,i,a,o){this.dialog=n,this.storyService=r,this.storyStore=i,this.npcService=a,this.assetsService=o,this.title="cotm-front2",this.bgClass=null,this.soundLib={"check-start":new Howl({src:["/cotm3/assets/sounds/check-start.wav"],loop:!1,volume:1}),"check-failure":new Howl({src:["/cotm3/assets/sounds/check-failure.wav"],loop:!1,volume:1}),"check-success":new Howl({src:["/cotm3/assets/sounds/check-success.wav"],loop:!1,volume:1.5})},this.informationMode=Q3.CharacterCreation,this.saveStack=[],this.groups$=i.all$,this.storyGroupSubscription=i.added$.subscribe(s=>this.onGroupAdded(s)),this.loading$=o.loading$}ngOnInit(){this.storyService.continue()}ngOnDestroy(){this.storyGroupSubscription.unsubscribe()}onGroupAdded(n){var r=this;return yu(function*(){let i=0,a=null;for(let o of n.items)if("paragraph"==o.kind&&(i||(i=o.statCheck?900:0,o.statCheck&&(r.bgClass="tot",a=o.success)),(o.trainOfThought==te.Start||o.trainOfThought==te.End)&&(r.bgClass="tot"==r.bgClass?null:"tot"),o.voice&&(o.voice=r.npcService.getFullName(o.voice)),o.meets))for(let s of o.meets)r.npcService.meet(s);0==i?(r.storyStore.updateGroup(n.id,o=>({...o,visible:!0})),r.scrollToLatest()):(r.soundLib["check-start"].play(),yield r.sleep(i),r.storyStore.updateGroup(n.id,o=>({...o,visible:!0})),!0===a?(r.soundLib["check-success"].play(),r.bgClass="success"):!1===a&&(r.soundLib["check-failure"].play(),r.bgClass="failure"),r.scrollToLatest(),yield r.sleep(800),r.bgClass=null)})()}undo(){var n=this;return yu(function*(){let r=n.saveStack.pop();!r||(n.storyService.load(r),yield Au(n.storyStore.deleteLast()),yield Au(n.storyStore.updateLast(i=>({...i,recent:!0}))),n.scrollToLatest())})()}showStats(){this.dialog.open(wL,{data:{debug:!1,remainingStats:0}})}showStatsDebug(){this.dialog.open(wL,{data:{debug:!0,remainingStats:null}})}chooseChoiceIndex(n){this.saveStack.push(this.storyService.save()),this.storyStore.updateAllGroups(r=>({...r,recent:!1})),this.storyService.chooseChoiceIndex(n),this.storyService.continue()}trackById(n,r){return r&&r.id}onLoadComplete(){}sleep(n){return new Promise(r=>setTimeout(r,n))}scrollToLatest(){window.setTimeout(()=>{let n=Array.from(document.querySelectorAll(".recent"));for(let r of n){window.scrollTo({top:window.scrollY+r.getBoundingClientRect().top,behavior:"smooth"});break}},0)}}return e.\u0275fac=function(n){return new(n||e)(q($u),q(ne),q(IV),q(xL),q(n9))},e.\u0275cmp=p1({type:e,selectors:[["app-root"]],decls:7,vars:12,consts:[["id","app"],[4,"ngIf"],[3,"onShowStats","onUndo","onShowStatsDebug",4,"ngIf"],["class","content",4,"ngIf"],[3,"onShowStats","onUndo","onShowStatsDebug"],[1,"content"],[1,"title"],["ngFor","",3,"ngForOf","ngForTrackBy"],[1,"group"],[3,"text","voice","difficulty","success","recent",4,"ngIf"],[3,"recent",4,"ngIf"],[3,"recent","maxStats","minStats","totalToDistribute","informationMode",4,"ngIf"],["class","divider",3,"ngClass",4,"ngIf"],[3,"recent","command",4,"ngIf"],[3,"index","isContinue","recent","onChoose",4,"ngIf"],[3,"index","text","visited","recent","choiceKinds","onChoose",4,"ngIf"],[3,"index","text","visited","box","recent","choiceKinds","onChoose",4,"ngIf"],[3,"index","text","visited","stat","difficulty","recent","choiceKinds","onChoose",4,"ngIf"],[3,"text","voice","difficulty","success","recent"],[3,"recent"],[3,"recent","maxStats","minStats","totalToDistribute","informationMode"],[1,"divider",3,"ngClass"],[1,"left"],[1,"mid"],[1,"right"],[3,"recent","command"],[3,"index","isContinue","recent","onChoose"],[3,"index","text","visited","recent","choiceKinds","onChoose"],[3,"index","text","visited","box","recent","choiceKinds","onChoose"],[3,"index","text","visited","stat","difficulty","recent","choiceKinds","onChoose"]],template:function(n,r){1&n&&(Q(0,"div",0),h2(1,Xn2,1,0,"app-loader",1),J6(2,"async"),h2(3,e72,1,0,"app-sidebar",2),J6(4,"async"),h2(5,p72,10,4,"div",3),J6(6,"async"),X()),2&n&&(P8(r.bgClass),J(1),$("ngIf",Z6(2,6,r.loading$)),J(2),$("ngIf",!Z6(4,8,r.loading$)),J(2),$("ngIf",!Z6(6,10,r.loading$)))},dependencies:[T3,s5,f4,d02,S02,N02,_L,A02,Wn2,Jn2,Zn2,ZC],styles:["#app[_ngcontent-%COMP%]{display:flex;justify-content:center;transition:background-color .2s ease-in;background-color:var(--background)}#app.tot[_ngcontent-%COMP%]{background-color:#777}#app.success[_ngcontent-%COMP%]{background-color:var(--success)}#app.failure[_ngcontent-%COMP%]{background-color:var(--failure)}#app[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{max-width:min(600px,82%);width:100%;max-height:100%;background-color:var(--background);box-shadow:-10px 0 0 var(--background),10px 0 0 var(--background)}#app[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:2.5em;font-family:Quattrocento,Georgia,Times New Roman,Times,serif;text-align:center;margin-top:40px}#app[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{width:100%;height:45px;margin:20px 0;display:flex;justify-content:stretch;align-items:center}#app[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%], #app[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{flex:0;min-width:41px;min-height:39px;background-image:url(/cotm3/assets/images/divider-side.png);background-size:contain;background-repeat:no-repeat;background-position:50% 50%}#app[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{min-width:37.5px;min-height:39px;transform:scaleX(-1)}#app[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]   .mid[_ngcontent-%COMP%]{flex:1;background-image:url(/cotm3/assets/images/divider-mid.png);background-size:contain;background-repeat:repeat-x;background-position:50% 50%;min-height:100%}#app[_ngcontent-%COMP%]   .divider.old[_ngcontent-%COMP%]{opacity:.5}"]}),e})(),g72=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=f3({type:e}),e.\u0275inj=Z1({imports:[ft,SL,Rn2]}),e})(),v72=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=f3({type:e}),e.\u0275inj=Z1({providers:[ne,xL,n9],imports:[ft]}),e})(),M72=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=f3({type:e,bootstrap:[m72]}),e.\u0275inj=Z1({providers:[IV],imports:[pE,v72,g72,SL,TA.forRoot({closeButton:!0,enableClose:!0,backdrop:!0,resizable:!1,draggable:!1,windowClass:"modal",minHeight:"100%"})]}),e})();(function lD(){HC=!1})(),hE().bootstrapModule(M72).catch(e=>console.error(e))}},A2=>{A2(A2.s=556)}]);