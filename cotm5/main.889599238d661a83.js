(self.webpackChunkcotm=self.webpackChunkcotm||[]).push([[179],{164:(rt,U,R)=>{"use strict";function D(e){return"function"==typeof e}function A(e){const n=e(i=>{Error.call(i),i.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const S=A(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function x(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class M{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:i}=this;if(D(i))try{i()}catch(s){t=s instanceof S?s.errors:[s]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const s of r)try{N(s)}catch(a){t=t??[],a instanceof S?t=[...t,...a.errors]:t.push(a)}}if(t)throw new S(t)}}add(t){var n;if(t&&t!==this)if(this.closed)N(t);else{if(t instanceof M){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&x(n,t)}remove(t){const{_finalizers:n}=this;n&&x(n,t),t instanceof M&&t._removeParent(this)}}M.EMPTY=(()=>{const e=new M;return e.closed=!0,e})();const z=M.EMPTY;function P(e){return e instanceof M||e&&"closed"in e&&D(e.remove)&&D(e.add)&&D(e.unsubscribe)}function N(e){D(e)?e():e.unsubscribe()}const Y={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},w={setTimeout(e,t,...n){const{delegate:i}=w;return i?.setTimeout?i.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=w;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function K(e){w.setTimeout(()=>{const{onUnhandledError:t}=Y;if(!t)throw e;t(e)})}function d(){}const p=W("C",void 0,void 0);function W(e,t,n){return{kind:e,value:t,error:n}}let k=null;function O(e){if(Y.useDeprecatedSynchronousErrorHandling){const t=!k;if(t&&(k={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:i}=k;if(k=null,n)throw i}}else e()}class _e extends M{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,P(t)&&t.add(this)):this.destination=xe}static create(t,n,i){return new le(t,n,i)}next(t){this.isStopped?fe(function T(e){return W("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?fe(function _(e){return W("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?fe(p,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Te=Function.prototype.bind;function X(e,t){return Te.call(e,t)}class oe{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(i){L(i)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(i){L(i)}else L(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){L(n)}}}class le extends _e{constructor(t,n,i){let r;if(super(),D(t)||!t)r={next:t??void 0,error:n??void 0,complete:i??void 0};else{let s;this&&Y.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&X(t.next,s),error:t.error&&X(t.error,s),complete:t.complete&&X(t.complete,s)}):r=t}this.destination=new oe(r)}}function L(e){Y.useDeprecatedSynchronousErrorHandling?function Z(e){Y.useDeprecatedSynchronousErrorHandling&&k&&(k.errorThrown=!0,k.error=e)}(e):K(e)}function fe(e,t){const{onStoppedNotification:n}=Y;n&&w.setTimeout(()=>n(e,t))}const xe={closed:!0,next:d,error:function B(e){throw e},complete:d},Ve="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ye(e){return e}function E(...e){return j(e)}function j(e){return 0===e.length?Ye:1===e.length?e[0]:function(n){return e.reduce((i,r)=>r(i),n)}}let q=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const i=new e;return i.source=this,i.operator=n,i}subscribe(n,i,r){const s=function Ne(e){return e&&e instanceof _e||function ge(e){return e&&D(e.next)&&D(e.error)&&D(e.complete)}(e)&&P(e)}(n)?n:new le(n,i,r);return O(()=>{const{operator:a,source:o}=this;s.add(a?a.call(s,o):o?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return new(i=ne(i))((r,s)=>{const a=new le({next:o=>{try{n(o)}catch(c){s(c),a.unsubscribe()}},error:s,complete:r});this.subscribe(a)})}_subscribe(n){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(n)}[Ve](){return this}pipe(...n){return j(n)(this)}toPromise(n){return new(n=ne(n))((i,r)=>{let s;this.subscribe(a=>s=a,a=>r(a),()=>i(s))})}}return e.create=t=>new e(t),e})();function ne(e){var t;return null!==(t=e??Y.Promise)&&void 0!==t?t:Promise}const Xe=A(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let $e=(()=>{class e extends q{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const i=new z2(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new Xe}next(n){O(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(n)}})}error(n){O(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){O(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:i,isStopped:r,observers:s}=this;return i||r?z:(this.currentObservers=null,s.push(n),new M(()=>{this.currentObservers=null,x(s,n)}))}_checkFinalizedStatuses(n){const{hasError:i,thrownError:r,isStopped:s}=this;i?n.error(r):s&&n.complete()}asObservable(){const n=new q;return n.source=this,n}}return e.create=(t,n)=>new z2(t,n),e})();class z2 extends $e{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,i;null===(i=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===i||i.call(n,t)}error(t){var n,i;null===(i=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===i||i.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,i;return null!==(i=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==i?i:z}}function g1(e){return D(e?.lift)}function bt(e){return t=>{if(g1(t))return t.lift(function(n){try{return e(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Je(e,t,n,i,r){return new Yt(e,t,n,i,r)}class Yt extends _e{constructor(t,n,i,r,s,a){super(t),this.onFinalize=s,this.shouldUnsubscribe=a,this._next=n?function(o){try{n(o)}catch(c){t.error(c)}}:super._next,this._error=r?function(o){try{r(o)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(o){t.error(o)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function Re(e,t){return bt((n,i)=>{let r=0;n.subscribe(Je(i,s=>{i.next(e.call(t,s,r++))}))})}function Cn(e){return this instanceof Cn?(this.v=e,this):new Cn(e)}function dE(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),s=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(h){i[h]&&(r[h]=function(m){return new Promise(function(v,g){s.push([h,m,v,g])>1||o(h,m)})})}function o(h,m){try{!function c(h){h.value instanceof Cn?Promise.resolve(h.value.v).then(l,u):f(s[0][2],h)}(i[h](m))}catch(v){f(s[0][3],v)}}function l(h){o("next",h)}function u(h){o("throw",h)}function f(h,m){h(m),s.shift(),s.length&&o(s[0][0],s[0][1])}}function hE(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function C2(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(s){n[s]=e[s]&&function(a){return new Promise(function(o,c){!function r(s,a,o,c){Promise.resolve(c).then(function(l){s({value:l,done:o})},a)}(o,c,(a=e[s](a)).done,a.value)})}}}const rl=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function Of(e){return D(e?.then)}function kf(e){return D(e[Ve])}function If(e){return Symbol.asyncIterator&&D(e?.[Symbol.asyncIterator])}function Ff(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Rf=function mE(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Bf(e){return D(e?.[Rf])}function $f(e){return dE(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:i,done:r}=yield Cn(n.read());if(r)return yield Cn(void 0);yield yield Cn(i)}}finally{n.releaseLock()}})}function jf(e){return D(e?.getReader)}function n1(e){if(e instanceof q)return e;if(null!=e){if(kf(e))return function gE(e){return new q(t=>{const n=e[Ve]();if(D(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(rl(e))return function vE(e){return new q(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(Of(e))return function CE(e){return new q(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,K)})}(e);if(If(e))return Uf(e);if(Bf(e))return function yE(e){return new q(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(jf(e))return function ME(e){return Uf($f(e))}(e)}throw Ff(e)}function Uf(e){return new q(t=>{(function _E(e,t){var n,i,r,s;return function It(e,t,n,i){return new(n||(n=Promise))(function(s,a){function o(u){try{l(i.next(u))}catch(f){a(f)}}function c(u){try{l(i.throw(u))}catch(f){a(f)}}function l(u){u.done?s(u.value):function r(s){return s instanceof n?s:new n(function(a){a(s)})}(u.value).then(o,c)}l((i=i.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=hE(e);!(i=yield n.next()).done;)if(t.next(i.value),t.closed)return}catch(a){r={error:a}}finally{try{i&&!i.done&&(s=n.return)&&(yield s.call(n))}finally{if(r)throw r.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function Rn(e,t,n,i=0,r=!1){const s=t.schedule(function(){n(),r?e.add(this.schedule(null,i)):this.unsubscribe()},i);if(e.add(s),!r)return s}function y2(e,t,n=1/0){return D(t)?y2((i,r)=>Re((s,a)=>t(i,s,r,a))(n1(e(i,r))),n):("number"==typeof t&&(n=t),bt((i,r)=>function bE(e,t,n,i,r,s,a,o){const c=[];let l=0,u=0,f=!1;const h=()=>{f&&!c.length&&!l&&t.complete()},m=g=>l<i?v(g):c.push(g),v=g=>{s&&t.next(g),l++;let C=!1;n1(n(g,u++)).subscribe(Je(t,y=>{r?.(y),s?m(y):t.next(y)},()=>{C=!0},void 0,()=>{if(C)try{for(l--;c.length&&l<i;){const y=c.shift();a?Rn(t,a,()=>v(y)):v(y)}h()}catch(y){t.error(y)}}))};return e.subscribe(Je(t,m,()=>{f=!0,h()})),()=>{o?.()}}(i,r,e,n)))}function Ar(e=1/0){return y2(Ye,e)}const Bn=new q(e=>e.complete());function Wf(e){return e&&D(e.schedule)}function sl(e){return e[e.length-1]}function Gf(e){return D(sl(e))?e.pop():void 0}function i4(e){return Wf(sl(e))?e.pop():void 0}function qf(e,t=0){return bt((n,i)=>{n.subscribe(Je(i,r=>Rn(i,e,()=>i.next(r),t),()=>Rn(i,e,()=>i.complete(),t),r=>Rn(i,e,()=>i.error(r),t)))})}function Yf(e,t=0){return bt((n,i)=>{i.add(e.schedule(()=>n.subscribe(i),t))})}function Kf(e,t){if(!e)throw new Error("Iterable cannot be null");return new q(n=>{Rn(n,t,()=>{const i=e[Symbol.asyncIterator]();Rn(n,t,()=>{i.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function t2(e,t){return t?function EE(e,t){if(null!=e){if(kf(e))return function wE(e,t){return n1(e).pipe(Yf(t),qf(t))}(e,t);if(rl(e))return function xE(e,t){return new q(n=>{let i=0;return t.schedule(function(){i===e.length?n.complete():(n.next(e[i++]),n.closed||this.schedule())})})}(e,t);if(Of(e))return function HE(e,t){return n1(e).pipe(Yf(t),qf(t))}(e,t);if(If(e))return Kf(e,t);if(Bf(e))return function zE(e,t){return new q(n=>{let i;return Rn(n,t,()=>{i=e[Rf](),Rn(n,t,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(a){return void n.error(a)}s?n.complete():n.next(r)},0,!0)}),()=>D(i?.return)&&i.return()})}(e,t);if(jf(e))return function LE(e,t){return Kf($f(e),t)}(e,t)}throw Ff(e)}(e,t):n1(e)}function r4(...e){const t=i4(e),n=function SE(e,t){return"number"==typeof sl(e)?e.pop():t}(e,1/0),i=e;return i.length?1===i.length?n1(i[0]):Ar(n)(t2(i,t)):Bn}function al(e,t,...n){if(!0===t)return void e();if(!1===t)return;const i=new le({next:()=>{i.unsubscribe(),e()}});return t(...n).subscribe(i)}function Tt(e){for(let t in e)if(e[t]===Tt)return t;throw Error("Could not find renamed property on target object.")}function ol(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Dt(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Dt).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function cl(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const DE=Tt({__forward_ref__:Tt});function Nt(e){return e.__forward_ref__=Nt,e.toString=function(){return Dt(this())},e}function Ge(e){return ll(e)?e():e}function ll(e){return"function"==typeof e&&e.hasOwnProperty(DE)&&e.__forward_ref__===Nt}function ul(e){return e&&!!e.\u0275providers}const ya="https://g.co/ng/security#xss";class be extends Error{constructor(t,n){super(function Ma(e,t){return`NG0${Math.abs(e)}${t?": "+t.trim():""}`}(t,n)),this.code=t}}function tt(e){return"string"==typeof e?e:null==e?"":String(e)}function _a(e,t){throw new be(-201,!1)}function C1(e,t){null==e&&function wt(e,t,n,i){throw new Error(`ASSERTION ERROR: ${e}`+(null==i?"":` [Expected=> ${n} ${i} ${t} <=Actual]`))}(t,e,null,"!=")}function Ie(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function A2(e){return{providers:e.providers||[],imports:e.imports||[]}}function ba(e){return Xf(e,Va)||Xf(e,Zf)}function Xf(e,t){return e.hasOwnProperty(t)?e[t]:null}function Qf(e){return e&&(e.hasOwnProperty(fl)||e.hasOwnProperty(BE))?e[fl]:null}const Va=Tt({\u0275prov:Tt}),fl=Tt({\u0275inj:Tt}),Zf=Tt({ngInjectableDef:Tt}),BE=Tt({ngInjectorDef:Tt});var qe=(()=>((qe=qe||{})[qe.Default=0]="Default",qe[qe.Host=1]="Host",qe[qe.Self=2]="Self",qe[qe.SkipSelf=4]="SkipSelf",qe[qe.Optional=8]="Optional",qe))();let dl;function D1(e){const t=dl;return dl=e,t}function Jf(e,t,n){const i=ba(e);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:n&qe.Optional?null:void 0!==t?t:void _a(Dt(e))}const At=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),s4={},hl="__NG_DI_FLAG__",Sa="ngTempTokenPath",UE=/\n/gm,ed="__source";let a4;function Pr(e){const t=a4;return a4=e,t}function GE(e,t=qe.Default){if(void 0===a4)throw new be(-203,!1);return null===a4?Jf(e,void 0,t):a4.get(e,t&qe.Optional?null:void 0,t)}function Ae(e,t=qe.Default){return(function $E(){return dl}()||GE)(Ge(e),t)}function ot(e,t=qe.Default){return Ae(e,wa(t))}function wa(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function pl(e){const t=[];for(let n=0;n<e.length;n++){const i=Ge(e[n]);if(Array.isArray(i)){if(0===i.length)throw new be(900,!1);let r,s=qe.Default;for(let a=0;a<i.length;a++){const o=i[a],c=qE(o);"number"==typeof c?-1===c?r=o.token:s|=c:r=o}t.push(Ae(r,s))}else t.push(Ae(i))}return t}function o4(e,t){return e[hl]=t,e.prototype[hl]=t,e}function qE(e){return e[hl]}function Mi(e){return{toString:e}.toString()}var Z1=(()=>((Z1=Z1||{})[Z1.OnPush=0]="OnPush",Z1[Z1.Default=1]="Default",Z1))(),yn=(()=>{return(e=yn||(yn={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",yn;var e})();const jn={},Vt=[],Ha=Tt({\u0275cmp:Tt}),ml=Tt({\u0275dir:Tt}),gl=Tt({\u0275pipe:Tt}),nd=Tt({\u0275mod:Tt}),Un=Tt({\u0275fac:Tt}),c4=Tt({__NG_ELEMENT_ID__:Tt});let XE=0;function Kt(e){return Mi(()=>{const n=!0===e.standalone,i={},r={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:i,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===Z1.OnPush,directiveDefs:null,pipeDefs:null,standalone:n,dependencies:n&&e.dependencies||null,getStandaloneInjector:null,selectors:e.selectors||Vt,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||yn.Emulated,id:"c"+XE++,styles:e.styles||Vt,_:null,setInput:null,schemas:e.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},s=e.dependencies,a=e.features;return r.inputs=sd(e.inputs,i),r.outputs=sd(e.outputs),a&&a.forEach(o=>o(r)),r.directiveDefs=s?()=>("function"==typeof s?s():s).map(id).filter(rd):null,r.pipeDefs=s?()=>("function"==typeof s?s():s).map(G2).filter(rd):null,r})}function id(e){return Ht(e)||P2(e)}function rd(e){return null!==e}function W2(e){return Mi(()=>({type:e.type,bootstrap:e.bootstrap||Vt,declarations:e.declarations||Vt,imports:e.imports||Vt,exports:e.exports||Vt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function sd(e,t){if(null==e)return jn;const n={};for(const i in e)if(e.hasOwnProperty(i)){let r=e[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),n[r]=i,t&&(t[r]=s)}return n}const Ue=Kt;function l2(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function Ht(e){return e[Ha]||null}function P2(e){return e[ml]||null}function G2(e){return e[gl]||null}function y1(e,t){const n=e[nd]||null;if(!n&&!0===t)throw new Error(`Type ${Dt(e)} does not have '\u0275mod' property.`);return n}function r1(e){return Array.isArray(e)&&"object"==typeof e[1]}function en(e){return Array.isArray(e)&&!0===e[1]}function yl(e){return 0!=(4&e.flags)}function Ea(e){return e.componentOffset>-1}function Ta(e){return 1==(1&e.flags)}function tn(e){return null!==e.template}function nT(e){return 0!=(256&e[2])}function Ji(e,t){return e.hasOwnProperty(Un)?e[Un]:null}class sT{constructor(t,n,i){this.previousValue=t,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}}function _2(){return cd}function cd(e){return e.type.prototype.ngOnChanges&&(e.setInput=oT),aT}function aT(){const e=ud(this),t=e?.current;if(t){const n=e.previous;if(n===jn)e.previous=t;else for(let i in t)n[i]=t[i];e.current=null,this.ngOnChanges(t)}}function oT(e,t,n,i){const r=this.declaredInputs[n],s=ud(e)||function cT(e,t){return e[ld]=t}(e,{previous:jn,current:null}),a=s.current||(s.current={}),o=s.previous,c=o[r];a[r]=new sT(c&&c.currentValue,t,o===jn),e[i]=t}_2.ngInherit=!0;const ld="__ngSimpleChanges__";function ud(e){return e[ld]||null}function u2(e){for(;Array.isArray(e);)e=e[0];return e}function Da(e,t){return u2(t[e])}function _1(e,t){return u2(t[e.index])}function Sl(e,t){return e.data[t]}function Rr(e,t){return e[t]}function b1(e,t){const n=t[e];return r1(n)?n:n[0]}function Na(e){return 64==(64&e[2])}function _i(e,t){return null==t?null:e[t]}function fd(e){e[18]=0}function wl(e,t){e[5]+=t;let n=e,i=e[3];for(;null!==i&&(1===t&&1===n[5]||-1===t&&0===n[5]);)i[5]+=t,n=i,i=i[3]}const et={lFrame:_d(null),bindingsEnabled:!0};function hd(){return et.bindingsEnabled}function Ce(){return et.lFrame.lView}function mt(){return et.lFrame.tView}function I2(e){return et.lFrame.contextLView=e,e[8]}function F2(e){return et.lFrame.contextLView=null,e}function L2(){let e=pd();for(;null!==e&&64===e.type;)e=e.parent;return e}function pd(){return et.lFrame.currentTNode}function Mn(e,t){const n=et.lFrame;n.currentTNode=e,n.isParent=t}function Hl(){return et.lFrame.isParent}function xl(){et.lFrame.isParent=!1}function q2(){const e=et.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Br(){return et.lFrame.bindingIndex++}function Gn(e){const t=et.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function VT(e,t){const n=et.lFrame;n.bindingIndex=n.bindingRootIndex=e,zl(t)}function zl(e){et.lFrame.currentDirectiveIndex=e}function Cd(){return et.lFrame.currentQueryIndex}function El(e){et.lFrame.currentQueryIndex=e}function wT(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function yd(e,t,n){if(n&qe.SkipSelf){let r=t,s=e;for(;!(r=r.parent,null!==r||n&qe.Host||(r=wT(s),null===r||(s=s[15],10&r.type))););if(null===r)return!1;t=r,e=s}const i=et.lFrame=Md();return i.currentTNode=t,i.lView=e,!0}function Tl(e){const t=Md(),n=e[1];et.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Md(){const e=et.lFrame,t=null===e?null:e.child;return null===t?_d(e):t}function _d(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function bd(){const e=et.lFrame;return et.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Vd=bd;function Dl(){const e=bd();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Y2(){return et.lFrame.selectedIndex}function er(e){et.lFrame.selectedIndex=e}function Wt(){const e=et.lFrame;return Sl(e.tView,e.selectedIndex)}function Aa(e,t){for(let n=t.directiveStart,i=t.directiveEnd;n<i;n++){const s=e.data[n].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:o,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=s;a&&(e.contentHooks||(e.contentHooks=[])).push(-n,a),o&&((e.contentHooks||(e.contentHooks=[])).push(n,o),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,o)),c&&(e.viewHooks||(e.viewHooks=[])).push(-n,c),l&&((e.viewHooks||(e.viewHooks=[])).push(n,l),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,l)),null!=u&&(e.destroyHooks||(e.destroyHooks=[])).push(n,u)}}function Pa(e,t,n){wd(e,t,3,n)}function Oa(e,t,n,i){(3&e[2])===n&&wd(e,t,n,i)}function Nl(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function wd(e,t,n,i){const s=i??-1,a=t.length-1;let o=0;for(let c=void 0!==i?65535&e[18]:0;c<a;c++)if("number"==typeof t[c+1]){if(o=t[c],null!=i&&o>=i)break}else t[c]<0&&(e[18]+=65536),(o<s||-1==s)&&(NT(e,n,t,c),e[18]=(4294901760&e[18])+c+2),c++}function NT(e,t,n,i){const r=n[i]<0,s=n[i+1],o=e[r?-n[i]:n[i]];if(r){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{s.call(o)}finally{}}}else try{s.call(o)}finally{}}class p4{constructor(t,n,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}}function Pl(e,t,n){let i=0;for(;i<n.length;){const r=n[i];if("number"==typeof r){if(0!==r)break;i++;const s=n[i++],a=n[i++],o=n[i++];e.setAttribute(t,a,o,s)}else{const s=r,a=n[++i];xd(s)?e.setProperty(t,s,a):e.setAttribute(t,s,a),i++}}return i}function Hd(e){return 3===e||4===e||6===e}function xd(e){return 64===e.charCodeAt(0)}function g4(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?n=r:0===n||zd(e,n,r,null,-1===n||2===n?t[++i]:null)}}return e}function zd(e,t,n,i,r){let s=0,a=e.length;if(-1===t)a=-1;else for(;s<e.length;){const o=e[s++];if("number"==typeof o){if(o===t){a=-1;break}if(o>t){a=s-1;break}}}for(;s<e.length;){const o=e[s];if("number"==typeof o)break;if(o===n){if(null===i)return void(null!==r&&(e[s+1]=r));if(i===e[s+1])return void(e[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==a&&(e.splice(a,0,t),s=a+1),e.splice(s++,0,n),null!==i&&e.splice(s++,0,i),null!==r&&e.splice(s++,0,r)}function Ld(e){return-1!==e}function $r(e){return 32767&e}function jr(e,t){let n=function IT(e){return e>>16}(e),i=t;for(;n>0;)i=i[15],n--;return i}let Ol=!0;function ka(e){const t=Ol;return Ol=e,t}let FT=0;const _n={};function Ia(e,t){const n=Il(e,t);if(-1!==n)return n;const i=t[1];i.firstCreatePass&&(e.injectorIndex=t.length,kl(i.data,e),kl(t,null),kl(i.blueprint,null));const r=Fa(e,t),s=e.injectorIndex;if(Ld(r)){const a=$r(r),o=jr(r,t),c=o[1].data;for(let l=0;l<8;l++)t[s+l]=o[a+l]|c[a+l]}return t[s+8]=r,s}function kl(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Il(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Fa(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,i=null,r=t;for(;null!==r;){if(i=Id(r),null===i)return-1;if(n++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|n<<16}return-1}function Fl(e,t,n){!function RT(e,t,n){let i;"string"==typeof n?i=n.charCodeAt(0)||0:n.hasOwnProperty(c4)&&(i=n[c4]),null==i&&(i=n[c4]=FT++);const r=255&i;t.data[e+(r>>5)]|=1<<r}(e,t,n)}function Dd(e,t,n){if(n&qe.Optional||void 0!==e)return e;_a()}function Nd(e,t,n,i){if(n&qe.Optional&&void 0===i&&(i=null),0==(n&(qe.Self|qe.Host))){const r=e[9],s=D1(void 0);try{return r?r.get(t,i,n&qe.Optional):Jf(t,i,n&qe.Optional)}finally{D1(s)}}return Dd(i,0,n)}function Ad(e,t,n,i=qe.Default,r){if(null!==e){if(1024&t[2]){const a=function WT(e,t,n,i,r){let s=e,a=t;for(;null!==s&&null!==a&&1024&a[2]&&!(256&a[2]);){const o=Pd(s,a,n,i|qe.Self,_n);if(o!==_n)return o;let c=s.parent;if(!c){const l=a[21];if(l){const u=l.get(n,_n,i);if(u!==_n)return u}c=Id(a),a=a[15]}s=c}return r}(e,t,n,i,_n);if(a!==_n)return a}const s=Pd(e,t,n,i,_n);if(s!==_n)return s}return Nd(t,n,i,r)}function Pd(e,t,n,i,r){const s=function jT(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(c4)?e[c4]:void 0;return"number"==typeof t?t>=0?255&t:UT:t}(n);if("function"==typeof s){if(!yd(t,e,i))return i&qe.Host?Dd(r,0,i):Nd(t,n,i,r);try{const a=s(i);if(null!=a||i&qe.Optional)return a;_a()}finally{Vd()}}else if("number"==typeof s){let a=null,o=Il(e,t),c=-1,l=i&qe.Host?t[16][6]:null;for((-1===o||i&qe.SkipSelf)&&(c=-1===o?Fa(e,t):t[o+8],-1!==c&&kd(i,!1)?(a=t[1],o=$r(c),t=jr(c,t)):o=-1);-1!==o;){const u=t[1];if(Od(s,o,u.data)){const f=$T(o,t,n,a,i,l);if(f!==_n)return f}c=t[o+8],-1!==c&&kd(i,t[1].data[o+8]===l)&&Od(s,o,t)?(a=u,o=$r(c),t=jr(c,t)):o=-1}}return r}function $T(e,t,n,i,r,s){const a=t[1],o=a.data[e+8],u=Ra(o,a,n,null==i?Ea(o)&&Ol:i!=a&&0!=(3&o.type),r&qe.Host&&s===o);return null!==u?Ur(t,a,u,o):_n}function Ra(e,t,n,i,r){const s=e.providerIndexes,a=t.data,o=1048575&s,c=e.directiveStart,u=s>>20,h=r?o+u:e.directiveEnd;for(let m=i?o:o+u;m<h;m++){const v=a[m];if(m<c&&n===v||m>=c&&v.type===n)return m}if(r){const m=a[c];if(m&&tn(m)&&m.type===n)return c}return null}function Ur(e,t,n,i){let r=e[n];const s=t.data;if(function AT(e){return e instanceof p4}(r)){const a=r;a.resolving&&function NE(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new be(-200,`Circular dependency in DI detected for ${e}${n}`)}(function St(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():tt(e)}(s[n]));const o=ka(a.canSeeViewProviders);a.resolving=!0;const c=a.injectImpl?D1(a.injectImpl):null;yd(e,i,qe.Default);try{r=e[n]=a.factory(void 0,s,e,i),t.firstCreatePass&&n>=i.directiveStart&&function DT(e,t,n){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=t.type.prototype;if(i){const a=cd(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,a),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,a)}r&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,r),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,s))}(n,s[n],t)}finally{null!==c&&D1(c),ka(o),a.resolving=!1,Vd()}}return r}function Od(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function kd(e,t){return!(e&qe.Self||e&qe.Host&&t)}class Wr{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,i){return Ad(this._tNode,this._lView,t,wa(i),n)}}function UT(){return new Wr(L2(),Ce())}function E2(e){return Mi(()=>{const t=e.prototype.constructor,n=t[Un]||Rl(t),i=Object.prototype;let r=Object.getPrototypeOf(e.prototype).constructor;for(;r&&r!==i;){const s=r[Un]||Rl(r);if(s&&s!==n)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function Rl(e){return ll(e)?()=>{const t=Rl(Ge(e));return t&&t()}:Ji(e)}function Id(e){const t=e[1],n=t.type;return 2===n?t.declTNode:1===n?e[6]:null}const qr="__parameters__";function Kr(e,t,n){return Mi(()=>{const i=function Bl(e){return function(...n){if(e){const i=e(...n);for(const r in i)this[r]=i[r]}}}(t);function r(...s){if(this instanceof r)return i.apply(this,s),this;const a=new r(...s);return o.annotation=a,o;function o(c,l,u){const f=c.hasOwnProperty(qr)?c[qr]:Object.defineProperty(c,qr,{value:[]})[qr];for(;f.length<=u;)f.push(null);return(f[u]=f[u]||[]).push(a),c}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=e,r.annotationCls=r,r})}class Pe{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Ie({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function V1(e,t){void 0===t&&(t=e);for(let n=0;n<e.length;n++){let i=e[n];Array.isArray(i)?(t===e&&(t=e.slice(0,n)),V1(i,t)):t!==e&&t.push(i)}return t}function tr(e,t){e.forEach(n=>Array.isArray(n)?tr(n,t):t(n))}function Rd(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function $a(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function y4(e,t){const n=[];for(let i=0;i<e;i++)n.push(t);return n}function S1(e,t,n){let i=Xr(e,t);return i>=0?e[1|i]=n:(i=~i,function KT(e,t,n,i){let r=e.length;if(r==t)e.push(n,i);else if(1===r)e.push(i,e[0]),e[0]=n;else{for(r--,e.push(e[r-1],e[r]);r>t;)e[r]=e[r-2],r--;e[t]=n,e[t+1]=i}}(e,i,t,n)),i}function jl(e,t){const n=Xr(e,t);if(n>=0)return e[1|n]}function Xr(e,t){return function jd(e,t,n){let i=0,r=e.length>>n;for(;r!==i;){const s=i+(r-i>>1),a=e[s<<n];if(t===a)return s<<n;a>t?r=s:i=s+1}return~(r<<n)}(e,t,1)}const M4=o4(Kr("Optional"),8),_4=o4(Kr("SkipSelf"),4);var s1=(()=>((s1=s1||{})[s1.Important=1]="Important",s1[s1.DashCase=2]="DashCase",s1))();const Kl=new Map;let vD=0;const Ql="__ngContext__";function R2(e,t){r1(t)?(e[Ql]=t[20],function yD(e){Kl.set(e[20],e)}(t)):e[Ql]=t}function Jl(e,t){return undefined(e,t)}function w4(e){const t=e[3];return en(t)?t[3]:t}function e0(e){return u9(e[13])}function t0(e){return u9(e[4])}function u9(e){for(;null!==e&&!en(e);)e=e[4];return e}function Zr(e,t,n,i,r){if(null!=i){let s,a=!1;en(i)?s=i:r1(i)&&(a=!0,i=i[0]);const o=u2(i);0===e&&null!==n?null==r?g9(t,n,o):nr(t,n,o,r||null,!0):1===e&&null!==n?nr(t,n,o,r||null,!0):2===e?function l0(e,t,n){const i=Ga(e,t);i&&function RD(e,t,n,i){e.removeChild(t,n,i)}(e,i,t,n)}(t,o,a):3===e&&t.destroyNode(o),null!=s&&function jD(e,t,n,i,r){const s=n[7];s!==u2(n)&&Zr(t,e,i,s,r);for(let o=10;o<n.length;o++){const c=n[o];H4(c[1],c,e,t,i,s)}}(t,e,s,n,r)}}function r0(e,t,n){return e.createElement(t,n)}function d9(e,t){const n=e[9],i=n.indexOf(t),r=t[3];512&t[2]&&(t[2]&=-513,wl(r,-1)),n.splice(i,1)}function s0(e,t){if(e.length<=10)return;const n=10+t,i=e[n];if(i){const r=i[17];null!==r&&r!==e&&d9(r,i),t>0&&(e[n-1][4]=i[4]);const s=$a(e,10+t);!function DD(e,t){H4(e,t,t[11],2,null,null),t[0]=null,t[6]=null}(i[1],i);const a=s[19];null!==a&&a.detachView(s[1]),i[3]=null,i[4]=null,i[2]&=-65}return i}function h9(e,t){if(!(128&t[2])){const n=t[11];n.destroyNode&&H4(e,t,n,3,null,null),function PD(e){let t=e[13];if(!t)return a0(e[1],e);for(;t;){let n=null;if(r1(t))n=t[13];else{const i=t[10];i&&(n=i)}if(!n){for(;t&&!t[4]&&t!==e;)r1(t)&&a0(t[1],t),t=t[3];null===t&&(t=e),r1(t)&&a0(t[1],t),n=t&&t[4]}t=n}}(t)}}function a0(e,t){if(!(128&t[2])){t[2]&=-65,t[2]|=128,function FD(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let i=0;i<n.length;i+=2){const r=t[n[i]];if(!(r instanceof p4)){const s=n[i+1];if(Array.isArray(s))for(let a=0;a<s.length;a+=2){const o=r[s[a]],c=s[a+1];try{c.call(o)}finally{}}else try{s.call(r)}finally{}}}}(e,t),function ID(e,t){const n=e.cleanup,i=t[7];let r=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const a=n[s+3];a>=0?i[r=a]():i[r=-a].unsubscribe(),s+=2}else{const a=i[r=n[s+1]];n[s].call(a)}if(null!==i){for(let s=r+1;s<i.length;s++)(0,i[s])();t[7]=null}}(e,t),1===t[1].type&&t[11].destroy();const n=t[17];if(null!==n&&en(t[3])){n!==t[3]&&d9(n,t);const i=t[19];null!==i&&i.detachView(e)}!function MD(e){Kl.delete(e[20])}(t)}}function p9(e,t,n){return function m9(e,t,n){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return n[0];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:s}=e.data[i.directiveStart+r];if(s===yn.None||s===yn.Emulated)return null}return _1(i,n)}}(e,t.parent,n)}function nr(e,t,n,i,r){e.insertBefore(t,n,i,r)}function g9(e,t,n){e.appendChild(t,n)}function v9(e,t,n,i,r){null!==i?nr(e,t,n,i,r):g9(e,t,n)}function Ga(e,t){return e.parentNode(t)}function C9(e,t,n){return M9(e,t,n)}let Ka,d0,Xa,M9=function y9(e,t,n){return 40&e.type?_1(e,n):null};function qa(e,t,n,i){const r=p9(e,i,t),s=t[11],o=C9(i.parent||t[6],i,t);if(null!=r)if(Array.isArray(n))for(let c=0;c<n.length;c++)v9(s,r,n[c],o,!1);else v9(s,r,n,o,!1)}function Ya(e,t){if(null!==t){const n=t.type;if(3&n)return _1(t,e);if(4&n)return c0(-1,e[t.index]);if(8&n){const i=t.child;if(null!==i)return Ya(e,i);{const r=e[t.index];return en(r)?c0(-1,r):u2(r)}}if(32&n)return Jl(t,e)()||u2(e[t.index]);{const i=b9(e,t);return null!==i?Array.isArray(i)?i[0]:Ya(w4(e[16]),i):Ya(e,t.next)}}return null}function b9(e,t){return null!==t?e[16][6].projection[t.projection]:null}function c0(e,t){const n=10+e+1;if(n<t.length){const i=t[n],r=i[1].firstChild;if(null!==r)return Ya(i,r)}return t[7]}function u0(e,t,n,i,r,s,a){for(;null!=n;){const o=i[n.index],c=n.type;if(a&&0===t&&(o&&R2(u2(o),i),n.flags|=2),32!=(32&n.flags))if(8&c)u0(e,t,n.child,i,r,s,!1),Zr(t,e,r,o,s);else if(32&c){const l=Jl(n,i);let u;for(;u=l();)Zr(t,e,r,u,s);Zr(t,e,r,o,s)}else 16&c?V9(e,t,i,n,r,s):Zr(t,e,r,o,s);n=a?n.projectionNext:n.next}}function H4(e,t,n,i,r,s){u0(n,i,e.firstChild,t,r,s,!1)}function V9(e,t,n,i,r,s){const a=n[16],c=a[6].projection[i.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)Zr(t,e,r,c[l],s);else u0(e,t,c,a[3],r,s,!0)}function S9(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function w9(e,t,n){const{mergedAttrs:i,classes:r,styles:s}=n;null!==i&&Pl(e,t,i),null!==r&&S9(e,t,r),null!==s&&function WD(e,t,n){e.setAttribute(t,"style",n)}(e,t,s)}function ir(e){return function f0(){if(void 0===Ka&&(Ka=null,At.trustedTypes))try{Ka=At.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Ka}()?.createHTML(e)||e}function x9(e){return function h0(){if(void 0===Xa&&(Xa=null,At.trustedTypes))try{Xa=At.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Xa}()?.createHTML(e)||e}class rr{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ya})`}}class XD extends rr{getTypeName(){return"HTML"}}class QD extends rr{getTypeName(){return"Style"}}class ZD extends rr{getTypeName(){return"Script"}}class JD extends rr{getTypeName(){return"URL"}}class eN extends rr{getTypeName(){return"ResourceURL"}}function w1(e){return e instanceof rr?e.changingThisBreaksApplicationSecurity:e}function bn(e,t){const n=function tN(e){return e instanceof rr&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${ya})`)}return n===t}class oN{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const n=(new window.DOMParser).parseFromString(ir(t),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(t):(n.removeChild(n.firstChild),n)}catch{return null}}}class cN{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n);const i=this.inertDocument.createElement("body");n.appendChild(i)}}getInertBodyElement(t){const n=this.inertDocument.createElement("template");if("content"in n)return n.innerHTML=ir(t),n;const i=this.inertDocument.createElement("body");return i.innerHTML=ir(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(i),i}stripCustomNsAttrs(t){const n=t.attributes;for(let r=n.length-1;0<r;r--){const a=n.item(r).name;("xmlns:ns1"===a||0===a.indexOf("ns1:"))&&t.removeAttribute(a)}let i=t.firstChild;for(;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}const uN=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Qa(e){return(e=String(e)).match(uN)?e:"unsafe:"+e}function qn(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function x4(...e){const t={};for(const n of e)for(const i in n)n.hasOwnProperty(i)&&(t[i]=!0);return t}const T9=qn("area,br,col,hr,img,wbr"),D9=qn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),N9=qn("rp,rt"),p0=x4(T9,x4(D9,qn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),x4(N9,qn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),x4(N9,D9)),m0=qn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),A9=x4(m0,qn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),qn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),fN=qn("script,style,template");class dN{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let n=t.firstChild,i=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?i=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,i&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let r=this.checkClobberedElement(n,n.nextSibling);if(r){n=r;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(t){const n=t.nodeName.toLowerCase();if(!p0.hasOwnProperty(n))return this.sanitizedSomething=!0,!fN.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const i=t.attributes;for(let r=0;r<i.length;r++){const s=i.item(r),a=s.name,o=a.toLowerCase();if(!A9.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let c=s.value;m0[o]&&(c=Qa(c)),this.buf.push(" ",a,'="',P9(c),'"')}return this.buf.push(">"),!0}endElement(t){const n=t.nodeName.toLowerCase();p0.hasOwnProperty(n)&&!T9.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(t){this.buf.push(P9(t))}checkClobberedElement(t,n){if(n&&(t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return n}}const hN=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,pN=/([^\#-~ |!])/g;function P9(e){return e.replace(/&/g,"&amp;").replace(hN,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(pN,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Za;function O9(e,t){let n=null;try{Za=Za||function E9(e){const t=new cN(e);return function lN(){try{return!!(new window.DOMParser).parseFromString(ir(""),"text/html")}catch{return!1}}()?new oN(t):t}(e);let i=t?String(t):"";n=Za.getInertBodyElement(i);let r=5,s=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=n.innerHTML,n=Za.getInertBodyElement(i)}while(i!==s);return ir((new dN).sanitizeChildren(g0(n)||n))}finally{if(n){const i=g0(n)||n;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function g0(e){return"content"in e&&function mN(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Ot=(()=>((Ot=Ot||{})[Ot.NONE=0]="NONE",Ot[Ot.HTML=1]="HTML",Ot[Ot.STYLE=2]="STYLE",Ot[Ot.SCRIPT=3]="SCRIPT",Ot[Ot.URL=4]="URL",Ot[Ot.RESOURCE_URL=5]="RESOURCE_URL",Ot))();function k9(e){const t=z4();return t?x9(t.sanitize(Ot.HTML,e)||""):bn(e,"HTML")?x9(w1(e)):O9(function H9(){return void 0!==d0?d0:typeof document<"u"?document:void 0}(),tt(e))}function v0(e){const t=z4();return t?t.sanitize(Ot.URL,e)||"":bn(e,"URL")?w1(e):Qa(tt(e))}function z4(){const e=Ce();return e&&e[12]}const Ja=new Pe("ENVIRONMENT_INITIALIZER"),R9=new Pe("INJECTOR",-1),B9=new Pe("INJECTOR_DEF_TYPES");class $9{get(t,n=s4){if(n===s4){const i=new Error(`NullInjectorError: No provider for ${Dt(t)}!`);throw i.name="NullInjectorError",i}return n}}function _N(...e){return{\u0275providers:j9(0,e),\u0275fromNgModule:!0}}function j9(e,...t){const n=[],i=new Set;let r;return tr(t,s=>{const a=s;C0(a,n,[],i)&&(r||(r=[]),r.push(a))}),void 0!==r&&U9(r,n),n}function U9(e,t){for(let n=0;n<e.length;n++){const{providers:r}=e[n];y0(r,s=>{t.push(s)})}}function C0(e,t,n,i){if(!(e=Ge(e)))return!1;let r=null,s=Qf(e);const a=!s&&Ht(e);if(s||a){if(a&&!a.standalone)return!1;r=e}else{const c=e.ngModule;if(s=Qf(c),!s)return!1;r=c}const o=i.has(r);if(a){if(o)return!1;if(i.add(r),a.dependencies){const c="function"==typeof a.dependencies?a.dependencies():a.dependencies;for(const l of c)C0(l,t,n,i)}}else{if(!s)return!1;{if(null!=s.imports&&!o){let l;i.add(r);try{tr(s.imports,u=>{C0(u,t,n,i)&&(l||(l=[]),l.push(u))})}finally{}void 0!==l&&U9(l,t)}if(!o){const l=Ji(r)||(()=>new r);t.push({provide:r,useFactory:l,deps:Vt},{provide:B9,useValue:r,multi:!0},{provide:Ja,useValue:()=>Ae(r),multi:!0})}const c=s.providers;null==c||o||y0(c,u=>{t.push(u)})}}return r!==e&&void 0!==e.providers}function y0(e,t){for(let n of e)ul(n)&&(n=n.\u0275providers),Array.isArray(n)?y0(n,t):t(n)}const bN=Tt({provide:String,useValue:Tt});function M0(e){return null!==e&&"object"==typeof e&&bN in e}function sr(e){return"function"==typeof e}const _0=new Pe("Set Injector scope."),eo={},SN={};let b0;function to(){return void 0===b0&&(b0=new $9),b0}class Yn{}class q9 extends Yn{constructor(t,n,i,r){super(),this.parent=n,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,S0(t,a=>this.processProvider(a)),this.records.set(R9,Jr(void 0,this)),r.has("environment")&&this.records.set(Yn,Jr(void 0,this));const s=this.records.get(_0);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(B9.multi,Vt,qe.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}runInContext(t){this.assertNotDestroyed();const n=Pr(this),i=D1(void 0);try{return t()}finally{Pr(n),D1(i)}}get(t,n=s4,i=qe.Default){this.assertNotDestroyed(),i=wa(i);const r=Pr(this),s=D1(void 0);try{if(!(i&qe.SkipSelf)){let o=this.records.get(t);if(void 0===o){const c=function LN(e){return"function"==typeof e||"object"==typeof e&&e instanceof Pe}(t)&&ba(t);o=c&&this.injectableDefInScope(c)?Jr(V0(t),eo):null,this.records.set(t,o)}if(null!=o)return this.hydrate(t,o)}return(i&qe.Self?to():this.parent).get(t,n=i&qe.Optional&&n===s4?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[Sa]=a[Sa]||[]).unshift(Dt(t)),r)throw a;return function YE(e,t,n,i){const r=e[Sa];throw t[ed]&&r.unshift(t[ed]),e.message=function KE(e,t,n,i=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let r=Dt(t);if(Array.isArray(t))r=t.map(Dt).join(" -> ");else if("object"==typeof t){let s=[];for(let a in t)if(t.hasOwnProperty(a)){let o=t[a];s.push(a+":"+("string"==typeof o?JSON.stringify(o):Dt(o)))}r=`{${s.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${e.replace(UE,"\n  ")}`}("\n"+e.message,r,n,i),e.ngTokenPath=r,e[Sa]=null,e}(a,t,"R3InjectorError",this.source)}throw a}finally{D1(s),Pr(r)}}resolveInjectorInitializers(){const t=Pr(this),n=D1(void 0);try{const i=this.get(Ja.multi,Vt,qe.Self);for(const r of i)r()}finally{Pr(t),D1(n)}}toString(){const t=[],n=this.records;for(const i of n.keys())t.push(Dt(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new be(205,!1)}processProvider(t){let n=sr(t=Ge(t))?t:Ge(t&&t.provide);const i=function HN(e){return M0(e)?Jr(void 0,e.useValue):Jr(Y9(e),eo)}(t);if(sr(t)||!0!==t.multi)this.records.get(n);else{let r=this.records.get(n);r||(r=Jr(void 0,eo,!0),r.factory=()=>pl(r.multi),this.records.set(n,r)),n=t,r.multi.push(t)}this.records.set(n,i)}hydrate(t,n){return n.value===eo&&(n.value=SN,n.value=n.factory()),"object"==typeof n.value&&n.value&&function zN(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=Ge(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function V0(e){const t=ba(e),n=null!==t?t.factory:Ji(e);if(null!==n)return n;if(e instanceof Pe)throw new be(204,!1);if(e instanceof Function)return function wN(e){const t=e.length;if(t>0)throw y4(t,"?"),new be(204,!1);const n=function FE(e){const t=e&&(e[Va]||e[Zf]);if(t){const n=function RE(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new be(204,!1)}function Y9(e,t,n){let i;if(sr(e)){const r=Ge(e);return Ji(r)||V0(r)}if(M0(e))i=()=>Ge(e.useValue);else if(function G9(e){return!(!e||!e.useFactory)}(e))i=()=>e.useFactory(...pl(e.deps||[]));else if(function W9(e){return!(!e||!e.useExisting)}(e))i=()=>Ae(Ge(e.useExisting));else{const r=Ge(e&&(e.useClass||e.provide));if(!function xN(e){return!!e.deps}(e))return Ji(r)||V0(r);i=()=>new r(...pl(e.deps))}return i}function Jr(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function S0(e,t){for(const n of e)Array.isArray(n)?S0(n,t):n&&ul(n)?S0(n.\u0275providers,t):t(n)}class EN{}class K9{}class DN{resolveComponentFactory(t){throw function TN(e){const t=Error(`No component factory found for ${Dt(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(t)}}let es=(()=>{class e{}return e.NULL=new DN,e})();function NN(){return ts(L2(),Ce())}function ts(e,t){return new s2(_1(e,t))}let s2=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=NN,e})();function AN(e){return e instanceof s2?e.nativeElement:e}class Q9{}let Vn=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>function PN(){const e=Ce(),n=b1(L2().index,e);return(r1(n)?n:e)[11]}(),e})(),ON=(()=>{class e{}return e.\u0275prov=Ie({token:e,providedIn:"root",factory:()=>null}),e})();class L4{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const kN=new L4("15.0.1"),w0={};function x0(e){return e.ngOriginalError}class ns{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&x0(t);for(;n&&x0(n);)n=x0(n);return n||null}}function Kn(e){return e instanceof Function?e():e}function J9(e,t,n){let i=e.length;for(;;){const r=e.indexOf(t,n);if(-1===r)return r;if(0===r||e.charCodeAt(r-1)<=32){const s=t.length;if(r+s===i||e.charCodeAt(r+s)<=32)return r}n=r+1}}const eh="ng-template";function YN(e,t,n){let i=0;for(;i<e.length;){let r=e[i++];if(n&&"class"===r){if(r=e[i],-1!==J9(r.toLowerCase(),t,0))return!0}else if(1===r){for(;i<e.length&&"string"==typeof(r=e[i++]);)if(r.toLowerCase()===t)return!0;return!1}}return!1}function th(e){return 4===e.type&&e.value!==eh}function KN(e,t,n){return t===(4!==e.type||n?e.value:eh)}function XN(e,t,n){let i=4;const r=e.attrs||[],s=function JN(e){for(let t=0;t<e.length;t++)if(Hd(e[t]))return t;return e.length}(r);let a=!1;for(let o=0;o<t.length;o++){const c=t[o];if("number"!=typeof c){if(!a)if(4&i){if(i=2|1&i,""!==c&&!KN(e,c,n)||""===c&&1===t.length){if(nn(i))return!1;a=!0}}else{const l=8&i?c:t[++o];if(8&i&&null!==e.attrs){if(!YN(e.attrs,l,n)){if(nn(i))return!1;a=!0}continue}const f=QN(8&i?"class":c,r,th(e),n);if(-1===f){if(nn(i))return!1;a=!0;continue}if(""!==l){let h;h=f>s?"":r[f+1].toLowerCase();const m=8&i?h:null;if(m&&-1!==J9(m,l,0)||2&i&&l!==h){if(nn(i))return!1;a=!0}}}}else{if(!a&&!nn(i)&&!nn(c))return!1;if(a&&nn(c))continue;a=!1,i=c|1&i}}return nn(i)||a}function nn(e){return 0==(1&e)}function QN(e,t,n,i){if(null===t)return-1;let r=0;if(i||!n){let s=!1;for(;r<t.length;){const a=t[r];if(a===e)return r;if(3===a||6===a)s=!0;else{if(1===a||2===a){let o=t[++r];for(;"string"==typeof o;)o=t[++r];continue}if(4===a)break;if(0===a){r+=4;continue}}r+=s?1:2}return-1}return function eA(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const i=e[n];if("number"==typeof i)return-1;if(i===t)return n;n++}return-1}(t,e)}function nh(e,t,n=!1){for(let i=0;i<t.length;i++)if(XN(e,t[i],n))return!0;return!1}function tA(e,t){e:for(let n=0;n<t.length;n++){const i=t[n];if(e.length===i.length){for(let r=0;r<e.length;r++)if(e[r]!==i[r])continue e;return!0}}return!1}function ih(e,t){return e?":not("+t.trim()+")":t}function nA(e){let t=e[0],n=1,i=2,r="",s=!1;for(;n<e.length;){let a=e[n];if("string"==typeof a)if(2&i){const o=e[++n];r+="["+a+(o.length>0?'="'+o+'"':"")+"]"}else 8&i?r+="."+a:4&i&&(r+=" "+a);else""!==r&&!nn(a)&&(t+=ih(s,r),r=""),i=a,s=s||!nn(i);n++}return""!==r&&(t+=ih(s,r)),t}const nt={};function ie(e){rh(mt(),Ce(),Y2()+e,!1)}function rh(e,t,n,i){if(!i)if(3==(3&t[2])){const s=e.preOrderCheckHooks;null!==s&&Pa(t,s,n)}else{const s=e.preOrderHooks;null!==s&&Oa(t,s,0,n)}er(n)}function ch(e,t=null,n=null,i){const r=lh(e,t,n,i);return r.resolveInjectorInitializers(),r}function lh(e,t=null,n=null,i,r=new Set){const s=[n||Vt,_N(e)];return i=i||("object"==typeof e?void 0:Dt(e)),new q9(s,t||to(),i||null,r)}let b2=(()=>{class e{static create(n,i){if(Array.isArray(n))return ch({name:""},i,n,"");{const r=n.name??"";return ch({name:r},n.parent,n.providers,r)}}}return e.THROW_IF_NOT_FOUND=s4,e.NULL=new $9,e.\u0275prov=Ie({token:e,providedIn:"any",factory:()=>Ae(R9)}),e.__NG_ELEMENT_ID__=-1,e})();function re(e,t=qe.Default){const n=Ce();return null===n?Ae(e,t):Ad(L2(),n,Ge(e),t)}function D0(){throw new Error("invalid")}function io(e,t){return e<<17|t<<2}function rn(e){return e>>17&32767}function N0(e){return 2|e}function Xn(e){return(131068&e)>>2}function A0(e,t){return-131069&e|t<<2}function P0(e){return 1|e}function Hh(e,t){const n=e.contentQueries;if(null!==n)for(let i=0;i<n.length;i+=2){const r=n[i],s=n[i+1];if(-1!==s){const a=e.data[s];El(r),a.contentQueries(2,t[s],s)}}}function ao(e,t,n,i,r,s,a,o,c,l,u){const f=t.blueprint.slice();return f[0]=r,f[2]=76|i,(null!==u||e&&1024&e[2])&&(f[2]|=1024),fd(f),f[3]=f[15]=e,f[8]=n,f[10]=a||e&&e[10],f[11]=o||e&&e[11],f[12]=c||e&&e[12]||null,f[9]=l||e&&e[9]||null,f[6]=s,f[20]=function CD(){return vD++}(),f[21]=u,f[16]=2==t.type?e[16]:f,f}function ss(e,t,n,i,r){let s=e.data[t];if(null===s)s=function j0(e,t,n,i,r){const s=pd(),a=Hl(),c=e.data[t]=function IA(e,t,n,i,r,s){return{type:n,index:i,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?s:s&&s.parent,n,t,i,r);return null===e.firstChild&&(e.firstChild=c),null!==s&&(a?null==s.child&&null!==c.parent&&(s.child=c):null===s.next&&(s.next=c)),c}(e,t,n,i,r),function bT(){return et.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=i,s.attrs=r;const a=function h4(){const e=et.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();s.injectorIndex=null===a?-1:a.injectorIndex}return Mn(s,!0),s}function E4(e,t,n,i){if(0===n)return-1;const r=t.length;for(let s=0;s<n;s++)t.push(i),e.blueprint.push(i),e.data.push(null);return r}function U0(e,t,n){Tl(t);try{const i=e.viewQuery;null!==i&&e8(1,i,n);const r=e.template;null!==r&&xh(e,t,r,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Hh(e,t),e.staticViewQueries&&e8(2,e.viewQuery,n);const s=e.components;null!==s&&function PA(e,t){for(let n=0;n<t.length;n++)iP(e,t[n])}(t,s)}catch(i){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),i}finally{t[2]&=-5,Dl()}}function oo(e,t,n,i){const r=t[2];if(128!=(128&r)){Tl(t);try{fd(t),function gd(e){return et.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&xh(e,t,n,2,i);const a=3==(3&r);if(a){const l=e.preOrderCheckHooks;null!==l&&Pa(t,l,null)}else{const l=e.preOrderHooks;null!==l&&Oa(t,l,0,null),Nl(t,0)}if(function tP(e){for(let t=e0(e);null!==t;t=t0(t)){if(!t[2])continue;const n=t[9];for(let i=0;i<n.length;i++){const r=n[i],s=r[3];0==(512&r[2])&&wl(s,1),r[2]|=512}}}(t),function eP(e){for(let t=e0(e);null!==t;t=t0(t))for(let n=10;n<t.length;n++){const i=t[n],r=i[1];Na(i)&&oo(r,i,r.template,i[8])}}(t),null!==e.contentQueries&&Hh(e,t),a){const l=e.contentCheckHooks;null!==l&&Pa(t,l)}else{const l=e.contentHooks;null!==l&&Oa(t,l,1),Nl(t,1)}!function NA(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let i=0;i<n.length;i++){const r=n[i];if(r<0)er(~r);else{const s=r,a=n[++i],o=n[++i];VT(a,s),o(2,t[s])}}}finally{er(-1)}}(e,t);const o=e.components;null!==o&&function AA(e,t){for(let n=0;n<t.length;n++)nP(e,t[n])}(t,o);const c=e.viewQuery;if(null!==c&&e8(2,c,i),a){const l=e.viewCheckHooks;null!==l&&Pa(t,l)}else{const l=e.viewHooks;null!==l&&Oa(t,l,2),Nl(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[2]&=-41,512&t[2]&&(t[2]&=-513,wl(t[3],-1))}finally{Dl()}}}function xh(e,t,n,i,r){const s=Y2(),a=2&i;try{er(-1),a&&t.length>22&&rh(e,t,22,!1),n(i,r)}finally{er(s)}}function W0(e,t,n){if(yl(t)){const r=t.directiveEnd;for(let s=t.directiveStart;s<r;s++){const a=e.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}}function G0(e,t,n){!hd()||(function UA(e,t,n,i){const r=n.directiveStart,s=n.directiveEnd;e.firstCreatePass||Ia(n,t),R2(i,t);const a=n.initialInputs;for(let o=r;o<s;o++){const c=e.data[o],l=tn(c);l&&QA(t,n,c);const u=Ur(t,e,o,n);R2(u,t),null!==a&&ZA(0,o-r,u,c,0,a),l&&(b1(n.index,t)[8]=u)}}(e,t,n,_1(n,t)),64==(64&n.flags)&&Ah(e,t,n))}function q0(e,t,n=_1){const i=t.localNames;if(null!==i){let r=t.index+1;for(let s=0;s<i.length;s+=2){const a=i[s+1],o=-1===a?n(t,e):e[a];e[r++]=o}}}function zh(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Y0(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Y0(e,t,n,i,r,s,a,o,c,l){const u=22+i,f=u+r,h=function OA(e,t){const n=[];for(let i=0;i<t;i++)n.push(i<e?null:nt);return n}(u,f),m="function"==typeof l?l():l;return h[1]={type:e,blueprint:h,template:n,queries:null,viewQuery:o,declTNode:t,data:h.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:c,consts:m,incompleteFirstPass:!1}}function Lh(e,t,n,i){const r=Oh(t);null===n?r.push(i):(r.push(n),e.firstCreatePass&&kh(e).push(i,r.length-1))}function Eh(e,t,n,i){for(let r in e)if(e.hasOwnProperty(r)){n=null===n?{}:n;const s=e[r];null===i?Th(n,t,r,s):i.hasOwnProperty(r)&&Th(n,t,i[r],s)}return n}function Th(e,t,n,i){e.hasOwnProperty(n)?e[n].push(t,i):e[n]=[t,i]}function H1(e,t,n,i,r,s,a,o){const c=_1(t,n);let u,l=t.inputs;!o&&null!=l&&(u=l[i])?(t8(e,n,u,i,r),Ea(t)&&Dh(n,t.index)):3&t.type&&(i=function RA(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(i),r=null!=a?a(r,t.value||"",i):r,s.setProperty(c,i,r))}function Dh(e,t){const n=b1(t,e);16&n[2]||(n[2]|=32)}function K0(e,t,n,i){let r=!1;if(hd()){const s=null===i?null:{"":-1},a=function GA(e,t){const n=e.directiveRegistry;let i=null,r=null;if(n)for(let s=0;s<n.length;s++){const a=n[s];if(nh(t,a.selectors,!1))if(i||(i=[]),tn(a))if(null!==a.findHostDirectiveDefs){const o=[];r=r||new Map,a.findHostDirectiveDefs(a,o,r),i.unshift(...o,a),X0(e,t,o.length)}else i.unshift(a),X0(e,t,0);else r=r||new Map,a.findHostDirectiveDefs?.(a,i,r),i.push(a)}return null===i?null:[i,r]}(e,n);let o,c;null===a?o=c=null:[o,c]=a,null!==o&&(r=!0,Nh(e,t,n,o,s,c)),s&&function qA(e,t,n){if(t){const i=e.localNames=[];for(let r=0;r<t.length;r+=2){const s=n[t[r+1]];if(null==s)throw new be(-301,!1);i.push(t[r],s)}}}(n,i,s)}return n.mergedAttrs=g4(n.mergedAttrs,n.attrs),r}function Nh(e,t,n,i,r,s){for(let l=0;l<i.length;l++)Fl(Ia(n,t),e,i[l].type);!function KA(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,i.length);for(let l=0;l<i.length;l++){const u=i[l];u.providersResolver&&u.providersResolver(u)}let a=!1,o=!1,c=E4(e,t,i.length,null);for(let l=0;l<i.length;l++){const u=i[l];n.mergedAttrs=g4(n.mergedAttrs,u.hostAttrs),XA(e,n,t,c,u),YA(c,u,r),null!==u.contentQueries&&(n.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(n.flags|=64);const f=u.type.prototype;!a&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),a=!0),!o&&(f.ngOnChanges||f.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),o=!0),c++}!function FA(e,t,n){const r=t.directiveEnd,s=e.data,a=t.attrs,o=[];let c=null,l=null;for(let u=t.directiveStart;u<r;u++){const f=s[u],h=n?n.get(f):null,v=h?h.outputs:null;c=Eh(f.inputs,u,c,h?h.inputs:null),l=Eh(f.outputs,u,l,v);const g=null===c||null===a||th(t)?null:JA(c,u,a);o.push(g)}null!==c&&(c.hasOwnProperty("class")&&(t.flags|=8),c.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=o,t.inputs=c,t.outputs=l}(e,n,s)}function Ah(e,t,n){const i=n.directiveStart,r=n.directiveEnd,s=n.index,a=function ST(){return et.lFrame.currentDirectiveIndex}();try{er(s);for(let o=i;o<r;o++){const c=e.data[o],l=t[o];zl(o),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&WA(c,l)}}finally{er(-1),zl(a)}}function WA(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function X0(e,t,n){t.componentOffset=n,(e.components||(e.components=[])).push(t.index)}function YA(e,t,n){if(n){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)n[t.exportAs[i]]=e;tn(t)&&(n[""]=e)}}function XA(e,t,n,i,r){e.data[i]=r;const s=r.factory||(r.factory=Ji(r.type)),a=new p4(s,tn(r),re);e.blueprint[i]=a,n[i]=a,function $A(e,t,n,i,r){const s=r.hostBindings;if(s){let a=e.hostBindingOpCodes;null===a&&(a=e.hostBindingOpCodes=[]);const o=~t.index;(function jA(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(a)!=o&&a.push(o),a.push(n,i,s)}}(e,t,i,E4(e,n,r.hostVars,nt),r)}function QA(e,t,n){const i=_1(t,e),r=zh(n),s=e[10],a=co(e,ao(e,r,null,n.onPush?32:16,i,t,s,s.createRenderer(i,n),null,null,null));e[t.index]=a}function Sn(e,t,n,i,r,s){const a=_1(e,t);!function Q0(e,t,n,i,r,s,a){if(null==s)e.removeAttribute(t,r,n);else{const o=null==a?tt(s):a(s,i||"",r);e.setAttribute(t,r,o,n)}}(t[11],a,s,e.value,n,i,r)}function ZA(e,t,n,i,r,s){const a=s[t];if(null!==a){const o=i.setInput;for(let c=0;c<a.length;){const l=a[c++],u=a[c++],f=a[c++];null!==o?i.setInput(n,f,l,u):n[u]=f}}}function JA(e,t,n){let i=null,r=0;for(;r<n.length;){const s=n[r];if(0!==s)if(5!==s){if("number"==typeof s)break;if(e.hasOwnProperty(s)){null===i&&(i=[]);const a=e[s];for(let o=0;o<a.length;o+=2)if(a[o]===t){i.push(s,a[o+1],n[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function Ph(e,t,n,i){return new Array(e,!0,!1,t,null,0,i,n,null,null)}function nP(e,t){const n=b1(t,e);if(Na(n)){const i=n[1];48&n[2]?oo(i,n,i.template,n[8]):n[5]>0&&Z0(n)}}function Z0(e){for(let i=e0(e);null!==i;i=t0(i))for(let r=10;r<i.length;r++){const s=i[r];if(Na(s))if(512&s[2]){const a=s[1];oo(a,s,a.template,s[8])}else s[5]>0&&Z0(s)}const n=e[1].components;if(null!==n)for(let i=0;i<n.length;i++){const r=b1(n[i],e);Na(r)&&r[5]>0&&Z0(r)}}function iP(e,t){const n=b1(t,e),i=n[1];(function rP(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(i,n),U0(i,n,n[8])}function co(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function J0(e){for(;e;){e[2]|=32;const t=w4(e);if(nT(e)&&!t)return e;e=t}return null}function lo(e,t,n,i=!0){const r=t[10];r.begin&&r.begin();try{oo(e,t,e.template,n)}catch(a){throw i&&Fh(t,a),a}finally{r.end&&r.end()}}function e8(e,t,n){El(0),t(e,n)}function Oh(e){return e[7]||(e[7]=[])}function kh(e){return e.cleanup||(e.cleanup=[])}function Fh(e,t){const n=e[9],i=n?n.get(ns,null):null;i&&i.handleError(t)}function t8(e,t,n,i,r){for(let s=0;s<n.length;){const a=n[s++],o=n[s++],c=t[a],l=e.data[a];null!==l.setInput?l.setInput(c,r,i,o):c[o]=r}}function Qn(e,t,n){const i=Da(t,e);!function f9(e,t,n){e.setValue(t,n)}(e[11],i,n)}function uo(e,t,n){let i=n?e.styles:null,r=n?e.classes:null,s=0;if(null!==t)for(let a=0;a<t.length;a++){const o=t[a];"number"==typeof o?s=o:1==s?r=cl(r,o):2==s&&(i=cl(i,o+": "+t[++a]+";"))}n?e.styles=i:e.stylesWithoutHost=i,n?e.classes=r:e.classesWithoutHost=r}function fo(e,t,n,i,r=!1){for(;null!==n;){const s=t[n.index];if(null!==s&&i.push(u2(s)),en(s))for(let o=10;o<s.length;o++){const c=s[o],l=c[1].firstChild;null!==l&&fo(c[1],c,l,i)}const a=n.type;if(8&a)fo(e,t,n.child,i);else if(32&a){const o=Jl(n,t);let c;for(;c=o();)i.push(c)}else if(16&a){const o=b9(t,n);if(Array.isArray(o))i.push(...o);else{const c=w4(t[16]);fo(c[1],c,o,i,!0)}}n=r?n.projectionNext:n.next}return i}class T4{constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,n=t[1];return fo(n,t,n.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(en(t)){const n=t[8],i=n?n.indexOf(this):-1;i>-1&&(s0(t,i),$a(n,i))}this._attachedToViewContainer=!1}h9(this._lView[1],this._lView)}onDestroy(t){Lh(this._lView[1],this._lView,null,t)}markForCheck(){J0(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){lo(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new be(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function AD(e,t){H4(e,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new be(902,!1);this._appRef=t}}class sP extends T4{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;lo(t[1],t,t[8],!1)}checkNoChanges(){}get context(){return null}}class n8 extends es{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=Ht(t);return new D4(n,this.ngModule)}}function Rh(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class oP{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,i){i=wa(i);const r=this.injector.get(t,w0,i);return r!==w0||n===w0?r:this.parentInjector.get(t,n,i)}}class D4 extends K9{constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function iA(e){return e.map(nA).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return Rh(this.componentDef.inputs)}get outputs(){return Rh(this.componentDef.outputs)}create(t,n,i,r){let s=(r=r||this.ngModule)instanceof Yn?r:r?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const a=s?new oP(t,s):t,o=a.get(Q9,null);if(null===o)throw new be(407,!1);const c=a.get(ON,null),l=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",f=i?function kA(e,t,n){return e.selectRootElement(t,n===yn.ShadowDom)}(l,i,this.componentDef.encapsulation):r0(l,u,function aP(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(u)),h=this.componentDef.onPush?288:272,m=Y0(0,null,null,1,0,null,null,null,null,null),v=ao(null,m,null,h,null,null,o,l,c,a,null);let g,C;Tl(v);try{const y=this.componentDef;let H,V=null;y.findHostDirectiveDefs?(H=[],V=new Map,y.findHostDirectiveDefs(y,H,V),H.push(y)):H=[y];const b=function uP(e,t){const n=e[1];return e[22]=t,ss(n,22,2,"#host",null)}(v,f),F=function fP(e,t,n,i,r,s,a,o){const c=r[1];!function dP(e,t,n,i){for(const r of e)t.mergedAttrs=g4(t.mergedAttrs,r.hostAttrs);null!==t.mergedAttrs&&(uo(t,t.mergedAttrs,!0),null!==n&&w9(i,n,t))}(i,e,t,a);const l=s.createRenderer(t,n),u=ao(r,zh(n),null,n.onPush?32:16,r[e.index],e,s,l,o||null,null,null);return c.firstCreatePass&&X0(c,e,i.length-1),co(r,u),r[e.index]=u}(b,f,y,H,v,o,l);C=Sl(m,22),f&&function pP(e,t,n,i){if(i)Pl(e,n,["ng-version",kN.full]);else{const{attrs:r,classes:s}=function rA(e){const t=[],n=[];let i=1,r=2;for(;i<e.length;){let s=e[i];if("string"==typeof s)2===r?""!==s&&t.push(s,e[++i]):8===r&&n.push(s);else{if(!nn(r))break;r=s}i++}return{attrs:t,classes:n}}(t.selectors[0]);r&&Pl(e,n,r),s&&s.length>0&&S9(e,n,s.join(" "))}}(l,y,f,i),void 0!==n&&function mP(e,t,n){const i=e.projection=[];for(let r=0;r<t.length;r++){const s=n[r];i.push(null!=s?Array.from(s):null)}}(C,this.ngContentSelectors,n),g=function hP(e,t,n,i,r,s){const a=L2(),o=r[1],c=_1(a,r);Nh(o,r,a,n,null,i);for(let u=0;u<n.length;u++)R2(Ur(r,o,a.directiveStart+u,a),r);Ah(o,r,a),c&&R2(c,r);const l=Ur(r,o,a.directiveStart+a.componentOffset,a);if(e[8]=r[8]=l,null!==s)for(const u of s)u(l,t);return W0(o,a,e),l}(F,y,H,V,v,[gP]),U0(m,v,null)}finally{Dl()}return new lP(this.componentType,g,ts(C,v),v,C)}}class lP extends EN{constructor(t,n,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.instance=n,this.hostView=this.changeDetectorRef=new sP(r),this.componentType=t}setInput(t,n){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[t])){const s=this._rootLView;t8(s[1],s,r,t,n),Dh(s,this._tNode.index)}}get injector(){return new Wr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function gP(){const e=L2();Aa(Ce()[1],e)}function xt(e){let t=function Bh(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const i=[e];for(;t;){let r;if(tn(e))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new be(903,!1);r=t.\u0275dir}if(r){if(n){i.push(r);const a=e;a.inputs=i8(e.inputs),a.declaredInputs=i8(e.declaredInputs),a.outputs=i8(e.outputs);const o=r.hostBindings;o&&MP(e,o);const c=r.viewQuery,l=r.contentQueries;if(c&&CP(e,c),l&&yP(e,l),ol(e.inputs,r.inputs),ol(e.declaredInputs,r.declaredInputs),ol(e.outputs,r.outputs),tn(r)&&r.data.animation){const u=e.data;u.animation=(u.animation||[]).concat(r.data.animation)}}const s=r.features;if(s)for(let a=0;a<s.length;a++){const o=s[a];o&&o.ngInherit&&o(e),o===xt&&(n=!1)}}t=Object.getPrototypeOf(t)}!function vP(e){let t=0,n=null;for(let i=e.length-1;i>=0;i--){const r=e[i];r.hostVars=t+=r.hostVars,r.hostAttrs=g4(r.hostAttrs,n=g4(n,r.hostAttrs))}}(i)}function i8(e){return e===jn?{}:e===Vt?[]:e}function CP(e,t){const n=e.viewQuery;e.viewQuery=n?(i,r)=>{t(i,r),n(i,r)}:t}function yP(e,t){const n=e.contentQueries;e.contentQueries=n?(i,r,s)=>{t(i,r,s),n(i,r,s)}:t}function MP(e,t){const n=e.hostBindings;e.hostBindings=n?(i,r)=>{t(i,r),n(i,r)}:t}let ho=null;function ar(){if(!ho){const e=At.Symbol;if(e&&e.iterator)ho=e.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<t.length;++n){const i=t[n];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(ho=i)}}}return ho}function N4(e){return!!r8(e)&&(Array.isArray(e)||!(e instanceof Map)&&ar()in e)}function r8(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function wn(e,t,n){return e[t]=n}function B2(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function or(e,t,n,i){const r=B2(e,t,n);return B2(e,t+1,i)||r}function x1(e,t,n,i){const r=Ce();return B2(r,Br(),t)&&(mt(),Sn(Wt(),r,e,t,n,i)),x1}function os(e,t,n,i){return B2(e,Br(),n)?t+tt(n)+i:nt}function cs(e,t,n,i,r,s){const o=or(e,function Wn(){return et.lFrame.bindingIndex}(),n,r);return Gn(2),o?t+tt(n)+i+tt(r)+s:nt}function ve(e,t,n,i,r,s,a,o){const c=Ce(),l=mt(),u=e+22,f=l.firstCreatePass?function EP(e,t,n,i,r,s,a,o,c){const l=t.consts,u=ss(t,e,4,a||null,_i(l,o));K0(t,n,u,_i(l,c)),Aa(t,u);const f=u.tViews=Y0(2,u,i,r,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,l);return null!==t.queries&&(t.queries.template(t,u),f.queries=t.queries.embeddedTView(u)),u}(u,l,c,t,n,i,r,s,a):l.data[u];Mn(f,!1);const h=c[11].createComment("");qa(l,c,h,f),R2(h,c),co(c,c[u]=Ph(h,c,h,f)),Ta(f)&&G0(l,c,f),null!=a&&q0(c,f,o)}function Lt(e){return Rr(function _T(){return et.lFrame.contextLView}(),22+e)}function se(e,t,n){const i=Ce();return B2(i,Br(),t)&&H1(mt(),Wt(),i,e,t,i[11],n,!1),se}function s8(e,t,n,i,r){const a=r?"class":"style";t8(e,n,t.inputs[a],a,i)}function ce(e,t,n,i){const r=Ce(),s=mt(),a=22+e,o=r[11],c=r[a]=r0(o,t,function TT(){return et.lFrame.currentNamespace}()),l=s.firstCreatePass?function DP(e,t,n,i,r,s,a){const o=t.consts,l=ss(t,e,2,r,_i(o,s));return K0(t,n,l,_i(o,a)),null!==l.attrs&&uo(l,l.attrs,!1),null!==l.mergedAttrs&&uo(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(a,s,r,0,t,n,i):s.data[a];return Mn(l,!0),w9(o,c,l),32!=(32&l.flags)&&qa(s,r,c,l),0===function gT(){return et.lFrame.elementDepthCount}()&&R2(c,r),function vT(){et.lFrame.elementDepthCount++}(),Ta(l)&&(G0(s,r,l),W0(s,l,r)),null!==i&&q0(r,l),ce}function ae(){let e=L2();Hl()?xl():(e=e.parent,Mn(e,!1));const t=e;!function CT(){et.lFrame.elementDepthCount--}();const n=mt();return n.firstCreatePass&&(Aa(n,e),yl(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function OT(e){return 0!=(8&e.flags)}(t)&&s8(n,t,Ce(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function kT(e){return 0!=(16&e.flags)}(t)&&s8(n,t,Ce(),t.stylesWithoutHost,!1),ae}function je(e,t,n,i){return ce(e,t,n,i),ae(),je}function a1(e,t,n){const i=Ce(),r=mt(),s=e+22,a=r.firstCreatePass?function NP(e,t,n,i,r){const s=t.consts,a=_i(s,i),o=ss(t,e,8,"ng-container",a);return null!==a&&uo(o,a,!0),K0(t,n,o,_i(s,r)),null!==t.queries&&t.queries.elementStart(t,o),o}(s,r,i,t,n):r.data[s];Mn(a,!0);const o=i[s]=i[11].createComment("");return qa(r,i,o,a),R2(o,i),Ta(a)&&(G0(r,i,a),W0(r,a,i)),null!=n&&q0(i,a),a1}function o1(){let e=L2();const t=mt();return Hl()?xl():(e=e.parent,Mn(e,!1)),t.firstCreatePass&&(Aa(t,e),yl(e)&&t.queries.elementEnd(e)),o1}function Ft(e,t,n){return a1(e,t,n),o1(),Ft}function z1(){return Ce()}function P4(e){return!!e&&"function"==typeof e.then}function ep(e){return!!e&&"function"==typeof e.subscribe}const a8=ep;function at(e,t,n,i){const r=Ce(),s=mt(),a=L2();return function np(e,t,n,i,r,s,a){const o=Ta(i),l=e.firstCreatePass&&kh(e),u=t[8],f=Oh(t);let h=!0;if(3&i.type||a){const g=_1(i,t),C=a?a(g):g,y=f.length,H=a?b=>a(u2(b[i.index])):i.index;let V=null;if(!a&&o&&(V=function AP(e,t,n,i){const r=e.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const a=r[s];if(a===n&&r[s+1]===i){const o=t[7],c=r[s+2];return o.length>c?o[c]:null}"string"==typeof a&&(s+=2)}return null}(e,t,r,i.index)),null!==V)(V.__ngLastListenerFn__||V).__ngNextListenerFn__=s,V.__ngLastListenerFn__=s,h=!1;else{s=rp(i,t,u,s,!1);const b=n.listen(C,r,s);f.push(s,b),l&&l.push(r,H,y,y+1)}}else s=rp(i,t,u,s,!1);const m=i.outputs;let v;if(h&&null!==m&&(v=m[r])){const g=v.length;if(g)for(let C=0;C<g;C+=2){const F=t[v[C]][v[C+1]].subscribe(s),I=f.length;f.push(s,F),l&&l.push(r,i.index,I,-(I+1))}}}(s,r,r[11],a,e,t,i),at}function ip(e,t,n,i){try{return!1!==n(i)}catch(r){return Fh(e,r),!1}}function rp(e,t,n,i,r){return function s(a){if(a===Function)return i;J0(e.componentOffset>-1?b1(e.index,t):t);let c=ip(t,0,i,a),l=s.__ngNextListenerFn__;for(;l;)c=ip(t,0,l,a)&&c,l=l.__ngNextListenerFn__;return r&&!1===c&&(a.preventDefault(),a.returnValue=!1),c}}function He(e=1){return function HT(e){return(et.lFrame.contextLView=function xT(e,t){for(;e>0;)t=t[15],e--;return t}(e,et.lFrame.contextLView))[8]}(e)}function PP(e,t){let n=null;const i=function ZN(e){const t=e.attrs;if(null!=t){const n=t.indexOf(5);if(0==(1&n))return t[n+1]}return null}(e);for(let r=0;r<t.length;r++){const s=t[r];if("*"!==s){if(null===i?nh(e,s,!0):tA(i,s))return r}else n=r}return n}function mo(e){const t=Ce()[16][6];if(!t.projection){const i=t.projection=y4(e?e.length:1,null),r=i.slice();let s=t.child;for(;null!==s;){const a=e?PP(s,e):0;null!==a&&(r[a]?r[a].projectionNext=s:i[a]=s,r[a]=s),s=s.next}}}function cr(e,t=0,n){const i=Ce(),r=mt(),s=ss(r,22+e,16,null,n||null);null===s.projection&&(s.projection=t),xl(),32!=(32&s.flags)&&function $D(e,t,n){V9(t[11],0,t,n,p9(e,n,t),C9(n.parent||t[6],n,t))}(r,i,s)}function go(e,t,n){return o8(e,"",t,"",n),go}function o8(e,t,n,i,r){const s=Ce(),a=os(s,t,n,i);return a!==nt&&H1(mt(),Wt(),s,e,a,s[11],r,!1),o8}function vo(e,t,n,i,r,s,a){const o=Ce(),c=cs(o,t,n,i,r,s);return c!==nt&&H1(mt(),Wt(),o,e,c,o[11],a,!1),vo}function dp(e,t,n,i,r){const s=e[n+1],a=null===t;let o=i?rn(s):Xn(s),c=!1;for(;0!==o&&(!1===c||a);){const u=e[o+1];IP(e[o],t)&&(c=!0,e[o+1]=i?P0(u):N0(u)),o=i?rn(u):Xn(u)}c&&(e[n+1]=i?N0(s):P0(s))}function IP(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Xr(e,t)>=0}const d2={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function hp(e){return e.substring(d2.key,d2.keyEnd)}function FP(e){return e.substring(d2.value,d2.valueEnd)}function pp(e,t){const n=d2.textEnd;return n===t?-1:(t=d2.keyEnd=function $P(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,d2.key=t,n),ms(e,t,n))}function mp(e,t){const n=d2.textEnd;let i=d2.key=ms(e,t,n);return n===i?-1:(i=d2.keyEnd=function jP(e,t,n){let i;for(;t<n&&(45===(i=e.charCodeAt(t))||95===i||(-33&i)>=65&&(-33&i)<=90||i>=48&&i<=57);)t++;return t}(e,i,n),i=vp(e,i,n),i=d2.value=ms(e,i,n),i=d2.valueEnd=function UP(e,t,n){let i=-1,r=-1,s=-1,a=t,o=a;for(;a<n;){const c=e.charCodeAt(a++);if(59===c)return o;34===c||39===c?o=a=Cp(e,c,a,n):t===a-4&&85===s&&82===r&&76===i&&40===c?o=a=Cp(e,41,a,n):c>32&&(o=a),s=r,r=i,i=-33&c}return o}(e,i,n),vp(e,i,n))}function gp(e){d2.key=0,d2.keyEnd=0,d2.value=0,d2.valueEnd=0,d2.textEnd=e.length}function ms(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function vp(e,t,n,i){return(t=ms(e,t,n))<n&&t++,t}function Cp(e,t,n,i){let r=-1,s=n;for(;s<i;){const a=e.charCodeAt(s++);if(a==t&&92!==r)return s;r=92==a&&92===r?0:a}throw new Error}function gs(e,t){return function an(e,t,n,i){const r=Ce(),s=mt(),a=Gn(2);s.firstUpdatePass&&_p(s,e,a,i),t!==nt&&B2(r,a,t)&&Vp(s,s.data[Y2()],r,r[11],e,r[a+1]=function ZP(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=Dt(w1(e)))),e}(t,n),i,a)}(e,t,null,!0),gs}function WP(e,t){for(let n=function BP(e){return gp(e),mp(e,ms(e,0,d2.textEnd))}(t);n>=0;n=mp(t,n))bp(e,hp(t),FP(t))}function O4(e){on(S1,Hn,e,!0)}function Hn(e,t){for(let n=function RP(e){return gp(e),pp(e,ms(e,0,d2.textEnd))}(t);n>=0;n=pp(t,n))S1(e,hp(t),!0)}function on(e,t,n,i){const r=mt(),s=Gn(2);r.firstUpdatePass&&_p(r,null,s,i);const a=Ce();if(n!==nt&&B2(a,s,n)){const o=r.data[Y2()];if(wp(o,i)&&!Mp(r,s)){let c=i?o.classesWithoutHost:o.stylesWithoutHost;null!==c&&(n=cl(c,n||"")),s8(r,o,a,n,i)}else!function QP(e,t,n,i,r,s,a,o){r===nt&&(r=Vt);let c=0,l=0,u=0<r.length?r[0]:null,f=0<s.length?s[0]:null;for(;null!==u||null!==f;){const h=c<r.length?r[c+1]:void 0,m=l<s.length?s[l+1]:void 0;let g,v=null;u===f?(c+=2,l+=2,h!==m&&(v=f,g=m)):null===f||null!==u&&u<f?(c+=2,v=u):(l+=2,v=f,g=m),null!==v&&Vp(e,t,n,i,v,g,a,o),u=c<r.length?r[c]:null,f=l<s.length?s[l]:null}}(r,o,a,a[11],a[s+1],a[s+1]=function XP(e,t,n){if(null==n||""===n)return Vt;const i=[],r=w1(n);if(Array.isArray(r))for(let s=0;s<r.length;s++)e(i,r[s],!0);else if("object"==typeof r)for(const s in r)r.hasOwnProperty(s)&&e(i,s,r[s]);else"string"==typeof r&&t(i,r);return i}(e,t,n),i,s)}}function Mp(e,t){return t>=e.expandoStartIndex}function _p(e,t,n,i){const r=e.data;if(null===r[n+1]){const s=r[Y2()],a=Mp(e,n);wp(s,i)&&null===t&&!a&&(t=!1),t=function GP(e,t,n,i){const r=function Ll(e){const t=et.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let s=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(n=k4(n=c8(null,e,t,n,i),t.attrs,i),s=null);else{const a=t.directiveStylingLast;if(-1===a||e[a]!==r)if(n=c8(r,e,t,n,i),null===s){let c=function qP(e,t,n){const i=n?t.classBindings:t.styleBindings;if(0!==Xn(i))return e[rn(i)]}(e,t,i);void 0!==c&&Array.isArray(c)&&(c=c8(null,e,t,c[1],i),c=k4(c,t.attrs,i),function YP(e,t,n,i){e[rn(n?t.classBindings:t.styleBindings)]=i}(e,t,i,c))}else s=function KP(e,t,n){let i;const r=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<r;s++)i=k4(i,e[s].hostAttrs,n);return k4(i,t.attrs,n)}(e,t,i)}return void 0!==s&&(i?t.residualClasses=s:t.residualStyles=s),n}(r,s,t,i),function OP(e,t,n,i,r,s){let a=s?t.classBindings:t.styleBindings,o=rn(a),c=Xn(a);e[i]=n;let u,l=!1;if(Array.isArray(n)){const f=n;u=f[1],(null===u||Xr(f,u)>0)&&(l=!0)}else u=n;if(r)if(0!==c){const h=rn(e[o+1]);e[i+1]=io(h,o),0!==h&&(e[h+1]=A0(e[h+1],i)),e[o+1]=function VA(e,t){return 131071&e|t<<17}(e[o+1],i)}else e[i+1]=io(o,0),0!==o&&(e[o+1]=A0(e[o+1],i)),o=i;else e[i+1]=io(c,0),0===o?o=i:e[c+1]=A0(e[c+1],i),c=i;l&&(e[i+1]=N0(e[i+1])),dp(e,u,i,!0),dp(e,u,i,!1),function kP(e,t,n,i,r){const s=r?e.residualClasses:e.residualStyles;null!=s&&"string"==typeof t&&Xr(s,t)>=0&&(n[i+1]=P0(n[i+1]))}(t,u,e,i,s),a=io(o,c),s?t.classBindings=a:t.styleBindings=a}(r,s,t,n,a,i)}}function c8(e,t,n,i,r){let s=null;const a=n.directiveEnd;let o=n.directiveStylingLast;for(-1===o?o=n.directiveStart:o++;o<a&&(s=t[o],i=k4(i,s.hostAttrs,r),s!==e);)o++;return null!==e&&(n.directiveStylingLast=o),i}function k4(e,t,n){const i=n?1:2;let r=-1;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?r=a:r===i&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),S1(e,a,!!n||t[++s]))}return void 0===e?null:e}function bp(e,t,n){S1(e,t,w1(n))}function Vp(e,t,n,i,r,s,a,o){if(!(3&t.type))return;const c=e.data,l=c[o+1];Co(function Ch(e){return 1==(1&e)}(l)?Sp(c,t,n,r,Xn(l),a):void 0)||(Co(s)||function vh(e){return 2==(2&e)}(l)&&(s=Sp(c,null,n,r,o,a)),function UD(e,t,n,i,r){if(t)r?e.addClass(n,i):e.removeClass(n,i);else{let s=-1===i.indexOf("-")?void 0:s1.DashCase;null==r?e.removeStyle(n,i,s):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=s1.Important),e.setStyle(n,i,r,s))}}(i,a,Da(Y2(),n),r,s))}function Sp(e,t,n,i,r,s){const a=null===t;let o;for(;r>0;){const c=e[r],l=Array.isArray(c),u=l?c[1]:c,f=null===u;let h=n[r+1];h===nt&&(h=f?Vt:void 0);let m=f?jl(h,i):u===i?h:void 0;if(l&&!Co(m)&&(m=jl(c,i)),Co(m)&&(o=m,a))return o;const v=e[r+1];r=a?rn(v):Xn(v)}if(null!==t){let c=s?t.residualClasses:t.residualStyles;null!=c&&(o=jl(c,i))}return o}function Co(e){return void 0!==e}function wp(e,t){return 0!=(e.flags&(t?8:16))}function we(e,t=""){const n=Ce(),i=mt(),r=e+22,s=i.firstCreatePass?ss(i,r,1,t,null):i.data[r],a=n[r]=function n0(e,t){return e.createText(t)}(n[11],t);qa(i,n,a,s),Mn(s,!1)}function h2(e){return p2("",e,""),h2}function p2(e,t,n){const i=Ce(),r=os(i,e,t,n);return r!==nt&&Qn(i,Y2(),r),p2}function vs(e,t,n,i,r){const s=Ce(),a=cs(s,e,t,n,i,r);return a!==nt&&Qn(s,Y2(),a),vs}function X2(e,t,n){on(S1,Hn,os(Ce(),e,t,n),!0)}function l8(e,t,n){const i=Ce();return B2(i,Br(),t)&&H1(mt(),Wt(),i,e,t,i[11],n,!0),l8}const ys="en-US";let Wp=ys;function d8(e,t,n,i,r){if(e=Ge(e),Array.isArray(e))for(let s=0;s<e.length;s++)d8(e[s],t,n,i,r);else{const s=mt(),a=Ce();let o=sr(e)?e:Ge(e.provide),c=Y9(e);const l=L2(),u=1048575&l.providerIndexes,f=l.directiveStart,h=l.providerIndexes>>20;if(sr(e)||!e.multi){const m=new p4(c,r,re),v=p8(o,t,r?u:u+h,f);-1===v?(Fl(Ia(l,a),s,o),h8(s,e,t.length),t.push(o),l.directiveStart++,l.directiveEnd++,r&&(l.providerIndexes+=1048576),n.push(m),a.push(m)):(n[v]=m,a[v]=m)}else{const m=p8(o,t,u+h,f),v=p8(o,t,u,u+h),g=m>=0&&n[m],C=v>=0&&n[v];if(r&&!C||!r&&!g){Fl(Ia(l,a),s,o);const y=function mk(e,t,n,i,r){const s=new p4(e,n,re);return s.multi=[],s.index=t,s.componentProviders=0,gm(s,r,i&&!n),s}(r?pk:hk,n.length,r,i,c);!r&&C&&(n[v].providerFactory=y),h8(s,e,t.length,0),t.push(o),l.directiveStart++,l.directiveEnd++,r&&(l.providerIndexes+=1048576),n.push(y),a.push(y)}else h8(s,e,m>-1?m:v,gm(n[r?v:m],c,!r&&i));!r&&i&&C&&n[v].componentProviders++}}}function h8(e,t,n,i){const r=sr(t),s=function VN(e){return!!e.useClass}(t);if(r||s){const c=(s?Ge(t.useClass):t).prototype.ngOnDestroy;if(c){const l=e.destroyHooks||(e.destroyHooks=[]);if(!r&&t.multi){const u=l.indexOf(n);-1===u?l.push(n,[i,c]):l[u+1].push(i,c)}else l.push(n,c)}}}function gm(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function p8(e,t,n,i){for(let r=n;r<i;r++)if(t[r]===e)return r;return-1}function hk(e,t,n,i){return m8(this.multi,[])}function pk(e,t,n,i){const r=this.multi;let s;if(this.providerFactory){const a=this.providerFactory.componentProviders,o=Ur(n,n[1],this.providerFactory.index,i);s=o.slice(0,a),m8(r,s);for(let c=a;c<o.length;c++)s.push(o[c])}else s=[],m8(r,s);return s}function m8(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function Ut(e,t=[]){return n=>{n.providersResolver=(i,r)=>function dk(e,t,n){const i=mt();if(i.firstCreatePass){const r=tn(e);d8(n,i.data,i.blueprint,r,!0),d8(t,i.data,i.blueprint,r,!1)}}(i,r?r(e):e,t)}}class ur{}class vm{}class Cm extends ur{constructor(t,n){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new n8(this);const i=y1(t);this._bootstrapComponents=Kn(i.bootstrap),this._r3Injector=lh(t,n,[{provide:ur,useValue:this},{provide:es,useValue:this.componentFactoryResolver}],Dt(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class g8 extends vm{constructor(t){super(),this.moduleType=t}create(t){return new Cm(this.moduleType,t)}}class vk extends ur{constructor(t,n,i){super(),this.componentFactoryResolver=new n8(this),this.instance=null;const r=new q9([...t,{provide:ur,useValue:this},{provide:es,useValue:this.componentFactoryResolver}],n||to(),i,new Set(["environment"]));this.injector=r,r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function Vo(e,t,n=null){return new vk(e,t,n).injector}let Ck=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const i=j9(0,n.type),r=i.length>0?Vo([i],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,r)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return e.\u0275prov=Ie({token:e,providedIn:"environment",factory:()=>new e(Ae(Yn))}),e})();function v8(e){e.getStandaloneInjector=t=>t.get(Ck).getOrCreateStandaloneInjector(e)}function y8(e,t,n){const i=q2()+e,r=Ce();return r[i]===nt?wn(r,i,n?t.call(n):t()):function A4(e,t){return e[t]}(r,i)}function Et(e,t,n,i){return Hm(Ce(),q2(),e,t,n,i)}function c1(e,t,n,i,r){return function xm(e,t,n,i,r,s,a){const o=t+n;return or(e,o,r,s)?wn(e,o+2,a?i.call(a,r,s):i(r,s)):j4(e,o+2)}(Ce(),q2(),e,t,n,i,r)}function wm(e,t,n,i,r,s){return function zm(e,t,n,i,r,s,a,o){const c=t+n;return function po(e,t,n,i,r){const s=or(e,t,n,i);return B2(e,t+2,r)||s}(e,c,r,s,a)?wn(e,c+3,o?i.call(o,r,s,a):i(r,s,a)):j4(e,c+3)}(Ce(),q2(),e,t,n,i,r,s)}function j4(e,t){const n=e[t];return n===nt?void 0:n}function Hm(e,t,n,i,r,s){const a=t+n;return B2(e,a,r)?wn(e,a+1,s?i.call(s,r):i(r)):j4(e,a+1)}function Ct(e,t){const n=mt();let i;const r=e+22;n.firstCreatePass?(i=function Nk(e,t){if(t)for(let n=t.length-1;n>=0;n--){const i=t[n];if(e===i.name)return i}}(t,n.pipeRegistry),n.data[r]=i,i.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(r,i.onDestroy)):i=n.data[r];const s=i.factory||(i.factory=Ji(i.type)),a=D1(re);try{const o=ka(!1),c=s();return ka(o),function TP(e,t,n,i){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=i}(n,Ce(),r,c),c}finally{D1(a)}}function yt(e,t,n){const i=e+22,r=Ce(),s=Rr(r,i);return function U4(e,t){return e[1].data[t].pure}(r,i)?Hm(r,q2(),t,s.transform,n,s):s.transform(n)}function M8(e){return t=>{setTimeout(e,void 0,t)}}const pe=class Ik extends $e{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,i){let r=t,s=n||(()=>null),a=i;if(t&&"object"==typeof t){const c=t;r=c.next?.bind(c),s=c.error?.bind(c),a=c.complete?.bind(c)}this.__isAsync&&(s=M8(s),r&&(r=M8(r)),a&&(a=M8(a)));const o=super.subscribe({next:r,error:s,complete:a});return t instanceof M&&t.add(o),o}};function Fk(){return this._results[ar()]()}class _8{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=ar(),i=_8.prototype;i[n]||(i[n]=Fk)}get changes(){return this._changes||(this._changes=new pe)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const i=this;i.dirty=!1;const r=V1(t);(this._changesDetected=!function qT(e,t,n){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],s=t[i];if(n&&(r=n(r),s=n(s)),s!==r)return!1}return!0}(i._results,r,n))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let O1=(()=>{class e{}return e.__NG_ELEMENT_ID__=$k,e})();const Rk=O1,Bk=class extends Rk{constructor(t,n,i){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=i}createEmbeddedView(t,n){const i=this._declarationTContainer.tViews,r=ao(this._declarationLView,i,t,16,null,i.declTNode,null,null,null,null,n||null);r[17]=this._declarationLView[this._declarationTContainer.index];const a=this._declarationLView[19];return null!==a&&(r[19]=a.createEmbeddedView(i)),U0(i,r,t),new T4(r)}};function $k(){return So(L2(),Ce())}function So(e,t){return 4&e.type?new Bk(t,e,ts(e,t)):null}let k1=(()=>{class e{}return e.__NG_ELEMENT_ID__=jk,e})();function jk(){return Nm(L2(),Ce())}const Uk=k1,Tm=class extends Uk{constructor(t,n,i){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=i}get element(){return ts(this._hostTNode,this._hostLView)}get injector(){return new Wr(this._hostTNode,this._hostLView)}get parentInjector(){const t=Fa(this._hostTNode,this._hostLView);if(Ld(t)){const n=jr(t,this._hostLView),i=$r(t);return new Wr(n[1].data[i+8],n)}return new Wr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=Dm(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,n,i){let r,s;"number"==typeof i?r=i:null!=i&&(r=i.index,s=i.injector);const a=t.createEmbeddedView(n||{},s);return this.insert(a,r),a}createComponent(t,n,i,r,s){const a=t&&!function C4(e){return"function"==typeof e}(t);let o;if(a)o=n;else{const f=n||{};o=f.index,i=f.injector,r=f.projectableNodes,s=f.environmentInjector||f.ngModuleRef}const c=a?t:new D4(Ht(t)),l=i||this.parentInjector;if(!s&&null==c.ngModule){const h=(a?l:this.parentInjector).get(Yn,null);h&&(s=h)}const u=c.create(l,r,void 0,s);return this.insert(u.hostView,o),u}insert(t,n){const i=t._lView,r=i[1];if(function mT(e){return en(e[3])}(i)){const u=this.indexOf(t);if(-1!==u)this.detach(u);else{const f=i[3],h=new Tm(f,f[6],f[3]);h.detach(h.indexOf(t))}}const s=this._adjustIndex(n),a=this._lContainer;!function OD(e,t,n,i){const r=10+i,s=n.length;i>0&&(n[r-1][4]=t),i<s-10?(t[4]=n[r],Rd(n,10+i,t)):(n.push(t),t[4]=null),t[3]=n;const a=t[17];null!==a&&n!==a&&function kD(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(a,t);const o=t[19];null!==o&&o.insertView(e),t[2]|=64}(r,i,a,s);const o=c0(s,a),c=i[11],l=Ga(c,a[7]);return null!==l&&function ND(e,t,n,i,r,s){i[0]=r,i[6]=t,H4(e,i,n,1,r,s)}(r,a[6],c,i,l,o),t.attachToViewContainerRef(),Rd(b8(a),s,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=Dm(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),i=s0(this._lContainer,n);i&&($a(b8(this._lContainer),n),h9(i[1],i))}detach(t){const n=this._adjustIndex(t,-1),i=s0(this._lContainer,n);return i&&null!=$a(b8(this._lContainer),n)?new T4(i):null}_adjustIndex(t,n=0){return t??this.length+n}};function Dm(e){return e[8]}function b8(e){return e[8]||(e[8]=[])}function Nm(e,t){let n;const i=t[e.index];if(en(i))n=i;else{let r;if(8&e.type)r=u2(i);else{const s=t[11];r=s.createComment("");const a=_1(e,t);nr(s,Ga(s,a),r,function BD(e,t){return e.nextSibling(t)}(s,a),!1)}t[e.index]=n=Ph(i,t,r,e),co(t,n)}return new Tm(n,e,t)}class V8{constructor(t){this.queryList=t,this.matches=null}clone(){return new V8(this.queryList)}setDirty(){this.queryList.setDirty()}}class S8{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const i=null!==t.contentQueries?t.contentQueries[0]:n.length,r=[];for(let s=0;s<i;s++){const a=n.getByIndex(s);r.push(this.queries[a.indexInDeclarationView].clone())}return new S8(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==Im(t,n).matches&&this.queries[n].setDirty()}}class Am{constructor(t,n,i=null){this.predicate=t,this.flags=n,this.read=i}}class w8{constructor(t=[]){this.queries=t}elementStart(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let i=0;i<this.length;i++){const r=null!==n?n.length:0,s=this.getByIndex(i).embeddedTView(t,r);s&&(s.indexInDeclarationView=i,null!==n?n.push(s):n=[s])}return null!==n?new w8(n):null}template(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class H8{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new H8(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==n;)i=i.parent;return n===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const s=i[r];this.matchTNodeWithReadOption(t,n,qk(n,s)),this.matchTNodeWithReadOption(t,n,Ra(n,t,s,!1,!1))}else i===O1?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Ra(n,t,i,!1,!1))}matchTNodeWithReadOption(t,n,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===s2||r===k1||r===O1&&4&n.type)this.addMatch(n.index,-2);else{const s=Ra(n,t,r,!1,!1);null!==s&&this.addMatch(n.index,s)}else this.addMatch(n.index,i)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function qk(e,t){const n=e.localNames;if(null!==n)for(let i=0;i<n.length;i+=2)if(n[i]===t)return n[i+1];return null}function Kk(e,t,n,i){return-1===n?function Yk(e,t){return 11&e.type?ts(e,t):4&e.type?So(e,t):null}(t,e):-2===n?function Xk(e,t,n){return n===s2?ts(t,e):n===O1?So(t,e):n===k1?Nm(t,e):void 0}(e,t,i):Ur(e,e[1],n,t)}function Pm(e,t,n,i){const r=t[19].queries[i];if(null===r.matches){const s=e.data,a=n.matches,o=[];for(let c=0;c<a.length;c+=2){const l=a[c];o.push(l<0?null:Kk(t,s[l],a[c+1],n.metadata.read))}r.matches=o}return r.matches}function x8(e,t,n,i){const r=e.queries.getByIndex(n),s=r.matches;if(null!==s){const a=Pm(e,t,r,n);for(let o=0;o<s.length;o+=2){const c=s[o];if(c>0)i.push(a[o/2]);else{const l=s[o+1],u=t[-c];for(let f=10;f<u.length;f++){const h=u[f];h[17]===h[3]&&x8(h[1],h,l,i)}if(null!==u[9]){const f=u[9];for(let h=0;h<f.length;h++){const m=f[h];x8(m[1],m,l,i)}}}}}return i}function xn(e){const t=Ce(),n=mt(),i=Cd();El(i+1);const r=Im(n,i);if(e.dirty&&function pT(e){return 4==(4&e[2])}(t)===(2==(2&r.metadata.flags))){if(null===r.matches)e.reset([]);else{const s=r.crossesNgTemplate?x8(n,t,i,[]):Pm(n,t,r,i);e.reset(s,AN),e.notifyOnChanges()}return!0}return!1}function wi(e,t,n){const i=mt();i.firstCreatePass&&(km(i,new Am(e,t,n),-1),2==(2&t)&&(i.staticViewQueries=!0)),Om(i,Ce(),t)}function zn(){return function Qk(e,t){return e[19].queries[t].queryList}(Ce(),Cd())}function Om(e,t,n){const i=new _8(4==(4&n));Lh(e,t,i,i.destroy),null===t[19]&&(t[19]=new S8),t[19].queries.push(new V8(i))}function km(e,t,n){null===e.queries&&(e.queries=new w8),e.queries.track(new H8(t,n))}function Im(e,t){return e.queries.getByIndex(t)}function Rt(e,t){return So(e,t)}function Ho(...e){}const xo=new Pe("Application Initializer");let zo=(()=>{class e{constructor(n){this.appInits=n,this.resolve=Ho,this.reject=Ho,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const n=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const s=this.appInits[r]();if(P4(s))n.push(s);else if(a8(s)){const a=new Promise((o,c)=>{s.subscribe({complete:o,error:c})});n.push(a)}}Promise.all(n).then(()=>{i()}).catch(r=>{this.reject(r)}),0===n.length&&i(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)(Ae(xo,8))},e.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const G4=new Pe("AppId",{providedIn:"root",factory:function ig(){return`${N8()}${N8()}${N8()}`}});function N8(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const rg=new Pe("Platform Initializer"),Lo=new Pe("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),sg=new Pe("appBootstrapListener");let CI=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const Zn=new Pe("LocaleId",{providedIn:"root",factory:()=>ot(Zn,qe.Optional|qe.SkipSelf)||function yI(){return typeof $localize<"u"&&$localize.locale||ys}()});class _I{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let A8=(()=>{class e{compileModuleSync(n){return new g8(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const i=this.compileModuleSync(n),s=Kn(y1(n).declarations).reduce((a,o)=>{const c=Ht(o);return c&&a.push(new D4(c)),a},[]);return new _I(i,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const SI=(()=>Promise.resolve(0))();function P8(e){typeof Zone>"u"?SI.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class Gt{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new pe(!1),this.onMicrotaskEmpty=new pe(!1),this.onStable=new pe(!1),this.onError=new pe(!1),typeof Zone>"u")throw new be(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&n,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function wI(){let e=At.requestAnimationFrame,t=At.cancelAnimationFrame;if(typeof Zone<"u"&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function zI(e){const t=()=>{!function xI(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(At,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,k8(e),e.isCheckStableRunning=!0,O8(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),k8(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,r,s,a,o)=>{try{return cg(e),n.invokeTask(r,s,a,o)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&t(),lg(e)}},onInvoke:(n,i,r,s,a,o,c)=>{try{return cg(e),n.invoke(r,s,a,o,c)}finally{e.shouldCoalesceRunChangeDetection&&t(),lg(e)}},onHasTask:(n,i,r,s)=>{n.hasTask(r,s),i===r&&("microTask"==s.change?(e._hasPendingMicrotasks=s.microTask,k8(e),O8(e)):"macroTask"==s.change&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,i,r,s)=>(n.handleError(r,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Gt.isInAngularZone())throw new be(909,!1)}static assertNotInAngularZone(){if(Gt.isInAngularZone())throw new be(909,!1)}run(t,n,i){return this._inner.run(t,n,i)}runTask(t,n,i,r){const s=this._inner,a=s.scheduleEventTask("NgZoneEvent: "+r,t,HI,Ho,Ho);try{return s.runTask(a,n,i)}finally{s.cancelTask(a)}}runGuarded(t,n,i){return this._inner.runGuarded(t,n,i)}runOutsideAngular(t){return this._outer.run(t)}}const HI={};function O8(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function k8(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function cg(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function lg(e){e._nesting--,O8(e)}class LI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new pe,this.onMicrotaskEmpty=new pe,this.onStable=new pe,this.onError=new pe}run(t,n,i){return t.apply(n,i)}runGuarded(t,n,i){return t.apply(n,i)}runOutsideAngular(t){return t()}runTask(t,n,i,r){return t.apply(n,i)}}const ug=new Pe(""),Eo=new Pe("");let R8,I8=(()=>{class e{constructor(n,i,r){this._ngZone=n,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,R8||(function EI(e){R8=e}(r),r.addToWindow(i)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Gt.assertNotInAngularZone(),P8(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())P8(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(n)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,i,r){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),n(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:r})}whenStable(n,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,i,r){return[]}}return e.\u0275fac=function(n){return new(n||e)(Ae(Gt),Ae(F8),Ae(Eo))},e.\u0275prov=Ie({token:e,factory:e.\u0275fac}),e})(),F8=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,i){this._applications.set(n,i)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,i=!0){return R8?.findTestabilityInTree(this,n,i)??null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})(),Hi=null;const fg=new Pe("AllowMultipleToken"),B8=new Pe("PlatformDestroyListeners");class dg{constructor(t,n){this.name=t,this.token=n}}function pg(e,t,n=[]){const i=`Platform: ${t}`,r=new Pe(i);return(s=[])=>{let a=$8();if(!a||a.injector.get(fg,!1)){const o=[...n,...s,{provide:r,useValue:!0}];e?e(o):function NI(e){if(Hi&&!Hi.get(fg,!1))throw new be(400,!1);Hi=e;const t=e.get(gg);(function hg(e){const t=e.get(rg,null);t&&t.forEach(n=>n())})(e)}(function mg(e=[],t){return b2.create({name:t,providers:[{provide:_0,useValue:"platform"},{provide:B8,useValue:new Set([()=>Hi=null])},...e]})}(o,i))}return function PI(e){const t=$8();if(!t)throw new be(401,!1);return t}()}}function $8(){return Hi?.get(gg)??null}let gg=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,i){const r=function Cg(e,t){let n;return n="noop"===e?new LI:("zone.js"===e?void 0:e)||new Gt(t),n}(i?.ngZone,function vg(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!e||!e.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!e||!e.ngZoneRunCoalescing)||!1}}(i)),s=[{provide:Gt,useValue:r}];return r.run(()=>{const a=b2.create({providers:s,parent:this.injector,name:n.moduleType.name}),o=n.create(a),c=o.injector.get(ns,null);if(!c)throw new be(402,!1);return r.runOutsideAngular(()=>{const l=r.onError.subscribe({next:u=>{c.handleError(u)}});o.onDestroy(()=>{To(this._modules,o),l.unsubscribe()})}),function yg(e,t,n){try{const i=n();return P4(i)?i.catch(r=>{throw t.runOutsideAngular(()=>e.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>e.handleError(i)),i}}(c,r,()=>{const l=o.injector.get(zo);return l.runInitializers(),l.donePromise.then(()=>(function Gp(e){C1(e,"Expected localeId to be defined"),"string"==typeof e&&(Wp=e.toLowerCase().replace(/_/g,"-"))}(o.injector.get(Zn,ys)||ys),this._moduleDoBootstrap(o),o))})})}bootstrapModule(n,i=[]){const r=Mg({},i);return function TI(e,t,n){const i=new g8(n);return Promise.resolve(i)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(n){const i=n.injector.get(bs);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!n.instance.ngDoBootstrap)throw new be(403,!1);n.instance.ngDoBootstrap(i)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new be(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const n=this._injector.get(B8,null);n&&(n.forEach(i=>i()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(Ae(b2))},e.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function Mg(e,t){return Array.isArray(t)?t.reduce(Mg,e):{...e,...t}}let bs=(()=>{class e{constructor(n,i,r){this._zone=n,this._injector=i,this._exceptionHandler=r,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new q(o=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{o.next(this._stable),o.complete()})}),a=new q(o=>{let c;this._zone.runOutsideAngular(()=>{c=this._zone.onStable.subscribe(()=>{Gt.assertNotInAngularZone(),P8(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,o.next(!0))})})});const l=this._zone.onUnstable.subscribe(()=>{Gt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{o.next(!1)}))});return()=>{c.unsubscribe(),l.unsubscribe()}});this.isStable=r4(s,a.pipe(function TE(e={}){const{connector:t=(()=>new $e),resetOnError:n=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=e;return s=>{let a,o,c,l=0,u=!1,f=!1;const h=()=>{o?.unsubscribe(),o=void 0},m=()=>{h(),a=c=void 0,u=f=!1},v=()=>{const g=a;m(),g?.unsubscribe()};return bt((g,C)=>{l++,!f&&!u&&h();const y=c=c??t();C.add(()=>{l--,0===l&&!f&&!u&&(o=al(v,r))}),y.subscribe(C),!a&&l>0&&(a=new le({next:H=>y.next(H),error:H=>{f=!0,h(),o=al(m,n,H),y.error(H)},complete:()=>{u=!0,h(),o=al(m,i),y.complete()}}),n1(g).subscribe(a))})(s)}}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,i){const r=n instanceof K9;if(!this._injector.get(zo).done)throw!r&&function Or(e){const t=Ht(e)||P2(e)||G2(e);return null!==t&&t.standalone}(n),new be(405,false);let a;a=r?n:this._injector.get(es).resolveComponentFactory(n),this.componentTypes.push(a.componentType);const o=function DI(e){return e.isBoundToModule}(a)?void 0:this._injector.get(ur),l=a.create(b2.NULL,[],i||a.selector,o),u=l.location.nativeElement,f=l.injector.get(ug,null);return f?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),To(this.components,l),f?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new be(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const i=n;this._views.push(i),i.attachToAppRef(this)}detachView(n){const i=n;To(this._views,i),i.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(sg,[]).concat(this._bootstrapListeners).forEach(r=>r(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>To(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new be(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(n){return new(n||e)(Ae(Gt),Ae(Yn),Ae(ns))},e.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function To(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}let q4=(()=>{class e{}return e.__NG_ELEMENT_ID__=kI,e})();function kI(e){return function II(e,t,n){if(Ea(e)&&!n){const i=b1(e.index,t);return new T4(i,i)}return 47&e.type?new T4(t[16],t):null}(L2(),Ce(),16==(16&e))}class wg{constructor(){}supports(t){return N4(t)}create(t){return new UI(t)}}const jI=(e,t)=>t;class UI{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||jI}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,i=this._removalsHead,r=0,s=null;for(;n||i;){const a=!i||n&&n.currentIndex<xg(i,r,s)?n:i,o=xg(a,r,s),c=a.currentIndex;if(a===i)r--,i=i._nextRemoved;else if(n=n._next,null==a.previousIndex)r++;else{s||(s=[]);const l=o-r,u=c-r;if(l!=u){for(let h=0;h<l;h++){const m=h<s.length?s[h]:s[h]=0,v=m+h;u<=v&&v<l&&(s[h]=m+1)}s[a.previousIndex]=u-l}}o!==c&&t(a,o,c)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!N4(t))throw new be(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r,s,a,n=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let o=0;o<this.length;o++)s=t[o],a=this._trackByFn(o,s),null!==n&&Object.is(n.trackById,a)?(i&&(n=this._verifyReinsertion(n,s,a,o)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,a,o),i=!0),n=n._next}else r=0,function xP(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[ar()]();let i;for(;!(i=n.next()).done;)t(i.value)}}(t,o=>{a=this._trackByFn(r,o),null!==n&&Object.is(n.trackById,a)?(i&&(n=this._verifyReinsertion(n,o,a,r)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,a,r),i=!0),n=n._next,r++}),this.length=r;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,i,r){let s;return null===t?s=this._itTail:(s=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,s,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,s,r)):t=this._addAfter(new WI(n,i),s,r),t}_verifyReinsertion(t,n,i,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==s?t=this._reinsertAfter(s,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,s=t._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(t,n,i),this._addToMoves(t,i),t}_moveAfter(t,n,i){return this._unlink(t),this._insertAfter(t,n,i),this._addToMoves(t,i),t}_addAfter(t,n,i){return this._insertAfter(t,n,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,i){const r=null===n?this._itHead:n._next;return t._next=r,t._prev=n,null===r?this._itTail=t:r._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new Hg),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,i=t._next;return null===n?this._itHead=i:n._next=i,null===i?this._itTail=n:i._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Hg),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class WI{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class GI{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===n||n<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const n=t._prevDup,i=t._nextDup;return null===n?this._head=i:n._nextDup=i,null===i?this._tail=n:i._prevDup=n,null===this._head}}class Hg{constructor(){this.map=new Map}put(t){const n=t.trackById;let i=this.map.get(n);i||(i=new GI,this.map.set(n,i)),i.add(t)}get(t,n){const r=this.map.get(t);return r?r.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function xg(e,t,n){const i=e.previousIndex;if(null===i)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+t+r}class zg{constructor(){}supports(t){return t instanceof Map||r8(t)}create(){return new qI}}class qI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||r8(t)))throw new be(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,r)=>{if(n&&n.key===r)this._maybeAddToChanges(n,i),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(r,i);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let i=n;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const i=t._prev;return n._next=t,n._prev=i,t._prev=n,i&&(i._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const r=this._records.get(t);this._maybeAddToChanges(r,n);const s=r._prev,a=r._next;return s&&(s._next=a),a&&(a._prev=s),r._next=null,r._prev=null,r}const i=new YI(t);return this._records.set(t,i),i.currentValue=n,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(i=>n(t[i],i))}}class YI{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Lg(){return new Ao([new wg])}let Ao=(()=>{class e{constructor(n){this.factories=n}static create(n,i){if(null!=i){const r=i.factories.slice();n=n.concat(r)}return new e(n)}static extend(n){return{provide:e,useFactory:i=>e.create(n,i||Lg()),deps:[[e,new _4,new M4]]}}find(n){const i=this.factories.find(r=>r.supports(n));if(null!=i)return i;throw new be(901,!1)}}return e.\u0275prov=Ie({token:e,providedIn:"root",factory:Lg}),e})();function Eg(){return new Y4([new zg])}let Y4=(()=>{class e{constructor(n){this.factories=n}static create(n,i){if(i){const r=i.factories.slice();n=n.concat(r)}return new e(n)}static extend(n){return{provide:e,useFactory:i=>e.create(n,i||Eg()),deps:[[e,new _4,new M4]]}}find(n){const i=this.factories.find(r=>r.supports(n));if(i)return i;throw new be(901,!1)}}return e.\u0275prov=Ie({token:e,providedIn:"root",factory:Eg}),e})();const QI=pg(null,"core",[]);let ZI=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(Ae(bs))},e.\u0275mod=W2({type:e}),e.\u0275inj=A2({}),e})();function Tg(e,t){const n=Ht(e),i=t.elementInjector||to();return new D4(n).create(i,t.projectableNodes,t.hostElement,t.environmentInjector)}let Po=null;function Ln(){return Po}class tF{}const V2=new Pe("DocumentToken");let q8=(()=>{class e{historyGo(n){throw new Error("Not implemented")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ie({token:e,factory:function(){return function nF(){return Ae(Dg)}()},providedIn:"platform"}),e})();const iF=new Pe("Location Initialized");let Dg=(()=>{class e extends q8{constructor(n){super(),this._doc=n,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ln().getBaseHref(this._doc)}onPopState(n){const i=Ln().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",n,!1),()=>i.removeEventListener("popstate",n)}onHashChange(n){const i=Ln().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",n,!1),()=>i.removeEventListener("hashchange",n)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(n){this.location.pathname=n}pushState(n,i,r){Ng()?this._history.pushState(n,i,r):this.location.hash=r}replaceState(n,i,r){Ng()?this._history.replaceState(n,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return e.\u0275fac=function(n){return new(n||e)(Ae(V2))},e.\u0275prov=Ie({token:e,factory:function(){return function rF(){return new Dg(Ae(V2))}()},providedIn:"platform"}),e})();function Ng(){return!!window.history.pushState}function Y8(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function Ag(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function ei(e){return e&&"?"!==e[0]?"?"+e:e}let dr=(()=>{class e{historyGo(n){throw new Error("Not implemented")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ie({token:e,factory:function(){return ot(Og)},providedIn:"root"}),e})();const Pg=new Pe("appBaseHref");let Og=(()=>{class e extends dr{constructor(n,i){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??ot(V2).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Y8(this._baseHref,n)}path(n=!1){const i=this._platformLocation.pathname+ei(this._platformLocation.search),r=this._platformLocation.hash;return r&&n?`${i}${r}`:i}pushState(n,i,r,s){const a=this.prepareExternalUrl(r+ei(s));this._platformLocation.pushState(n,i,a)}replaceState(n,i,r,s){const a=this.prepareExternalUrl(r+ei(s));this._platformLocation.replaceState(n,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return e.\u0275fac=function(n){return new(n||e)(Ae(q8),Ae(Pg,8))},e.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),sF=(()=>{class e extends dr{constructor(n,i){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(n){const i=Y8(this._baseHref,n);return i.length>0?"#"+i:i}pushState(n,i,r,s){let a=this.prepareExternalUrl(r+ei(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(n,i,a)}replaceState(n,i,r,s){let a=this.prepareExternalUrl(r+ei(s));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(n,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return e.\u0275fac=function(n){return new(n||e)(Ae(q8),Ae(Pg,8))},e.\u0275prov=Ie({token:e,factory:e.\u0275fac}),e})(),K8=(()=>{class e{constructor(n){this._subject=new pe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const i=this._locationStrategy.getBaseHref();this._baseHref=Ag(kg(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,i=""){return this.path()==this.normalize(n+ei(i))}normalize(n){return e.stripTrailingSlash(function oF(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,kg(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,i="",r=null){this._locationStrategy.pushState(r,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ei(i)),r)}replaceState(n,i="",r=null){this._locationStrategy.replaceState(r,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ei(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",i){this._urlChangeListeners.forEach(r=>r(n,i))}subscribe(n,i,r){return this._subject.subscribe({next:n,error:i,complete:r})}}return e.normalizeQueryParams=ei,e.joinWithSlash=Y8,e.stripTrailingSlash=Ag,e.\u0275fac=function(n){return new(n||e)(Ae(dr))},e.\u0275prov=Ie({token:e,factory:function(){return function aF(){return new K8(Ae(dr))}()},providedIn:"root"}),e})();function kg(e){return e.replace(/\/index.html$/,"")}let xi=(()=>{class e{constructor(n,i,r,s){this._iterableDiffers=n,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(n){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof n?n.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(n){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof n?n.split(/\s+/):n,this._rawClass&&(N4(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const n=this._iterableDiffer.diff(this._rawClass);n&&this._applyIterableChanges(n)}else if(this._keyValueDiffer){const n=this._keyValueDiffer.diff(this._rawClass);n&&this._applyKeyValueChanges(n)}}_applyKeyValueChanges(n){n.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),n.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),n.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(n){n.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Dt(i.item)}`);this._toggleClass(i.item,!0)}),n.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(n){n&&(Array.isArray(n)||n instanceof Set?n.forEach(i=>this._toggleClass(i,!0)):Object.keys(n).forEach(i=>this._toggleClass(i,!!n[i])))}_removeClasses(n){n&&(Array.isArray(n)||n instanceof Set?n.forEach(i=>this._toggleClass(i,!1)):Object.keys(n).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(n,i){(n=n.trim())&&n.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return e.\u0275fac=function(n){return new(n||e)(re(Ao),re(Y4),re(s2),re(Vn))},e.\u0275dir=Ue({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),e})();class GF{constructor(t,n,i,r){this.$implicit=t,this.ngForOf=n,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ni=(()=>{class e{constructor(n,i,r){this._viewContainer=n,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const i=this._viewContainer;n.forEachOperation((r,s,a)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new GF(r.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===s?void 0:s);else if(null!==s){const o=i.get(s);i.move(o,a),Yg(o,r)}});for(let r=0,s=i.length;r<s;r++){const o=i.get(r).context;o.index=r,o.count=s,o.ngForOf=this._ngForOf}n.forEachIdentityChange(r=>{Yg(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(n,i){return!0}}return e.\u0275fac=function(n){return new(n||e)(re(k1),re(O1),re(Ao))},e.\u0275dir=Ue({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function Yg(e,t){e.context.$implicit=t.item}let En=(()=>{class e{constructor(n,i){this._viewContainer=n,this._context=new YF,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){Kg("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){Kg("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,i){return!0}}return e.\u0275fac=function(n){return new(n||e)(re(k1),re(O1))},e.\u0275dir=Ue({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class YF{constructor(){this.$implicit=null,this.ngIf=null}}function Kg(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${Dt(t)}'.`)}class s5{constructor(t,n){this._viewContainerRef=t,this._templateRef=n,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Q4=(()=>{class e{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(n){this._ngSwitch=n,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(n){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(n)}_matchCase(n){const i=n==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(n){if(this._defaultViews&&n!==this._defaultUsed){this._defaultUsed=n;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(n)}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=Ue({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),e})(),a5=(()=>{class e{constructor(n,i,r){this.ngSwitch=r,r._addCase(),this._view=new s5(n,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return e.\u0275fac=function(n){return new(n||e)(re(k1),re(O1),re(Q4,9))},e.\u0275dir=Ue({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),e})(),Xg=(()=>{class e{constructor(n,i,r){r._addDefault(new s5(n,i))}}return e.\u0275fac=function(n){return new(n||e)(re(k1),re(O1),re(Q4,9))},e.\u0275dir=Ue({type:e,selectors:[["","ngSwitchDefault",""]],standalone:!0}),e})(),Zg=(()=>{class e{constructor(n,i,r){this._ngEl=n,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}ngDoCheck(){if(this._differ){const n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}_setStyle(n,i){const[r,s]=n.split("."),a=-1===r.indexOf("-")?void 0:s1.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,s?`${i}${s}`:i,a):this._renderer.removeStyle(this._ngEl.nativeElement,r,a)}_applyChanges(n){n.forEachRemovedItem(i=>this._setStyle(i.key,null)),n.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),n.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return e.\u0275fac=function(n){return new(n||e)(re(s2),re(Y4),re(Vn))},e.\u0275dir=Ue({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),e})(),o5=(()=>{class e{constructor(n){this._viewContainerRef=n,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(n){if(n.ngTemplateOutlet||n.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:s,ngTemplateOutletInjector:a}=this;this._viewRef=i.createEmbeddedView(r,s,a?{injector:a}:void 0)}else this._viewRef=null}else this._viewRef&&n.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return e.\u0275fac=function(n){return new(n||e)(re(k1))},e.\u0275dir=Ue({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[_2]}),e})();function un(e,t){return new be(2100,!1)}class XF{createSubscription(t,n){return t.subscribe({next:n,error:i=>{throw i}})}dispose(t){t.unsubscribe()}}class QF{createSubscription(t,n){return t.then(n,i=>{throw i})}dispose(t){}}const ZF=new QF,JF=new XF;let hr=(()=>{class e{constructor(n){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){return this._obj?n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue:(n&&this._subscribe(n),this._latestValue)}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,i=>this._updateLatestValue(n,i))}_selectStrategy(n){if(P4(n))return ZF;if(ep(n))return JF;throw un()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,i){n===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return e.\u0275fac=function(n){return new(n||e)(re(q4,16))},e.\u0275pipe=l2({name:"async",type:e,pure:!1,standalone:!0}),e})();const tR=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let c5=(()=>{class e{transform(n){if(null==n)return null;if("string"!=typeof n)throw un();return n.replace(tR,i=>i[0].toUpperCase()+i.slice(1).toLowerCase())}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275pipe=l2({name:"titlecase",type:e,pure:!0,standalone:!0}),e})(),pr=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=W2({type:e}),e.\u0275inj=A2({}),e})();const ev="browser";function tv(e){return"server"===e}let _R=(()=>{class e{}return e.\u0275prov=Ie({token:e,providedIn:"root",factory:()=>new bR(Ae(V2),window)}),e})();class bR{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const n=function VR(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow)){const i=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const a=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(a)return a}r=i.nextNode()}}return null}(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=t)}}scrollToElement(t){const n=t.getBoundingClientRect(),i=n.left+this.window.pageXOffset,r=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=nv(this.window.history)||nv(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function nv(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class QR extends tF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class h5 extends QR{static makeCurrent(){!function eF(e){Po||(Po=e)}(new h5)}onAndCancel(t,n,i){return t.addEventListener(n,i,!1),()=>{t.removeEventListener(n,i,!1)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function ZR(){return J4=J4||document.querySelector("base"),J4?J4.getAttribute("href"):null}();return null==n?null:function JR(e){Go=Go||document.createElement("a"),Go.setAttribute("href",e);const t=Go.pathname;return"/"===t.charAt(0)?t:`/${t}`}(n)}resetBaseElement(){J4=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function UF(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const i=n.indexOf("="),[r,s]=-1==i?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}(document.cookie,t)}}let Go,J4=null;const cv=new Pe("TRANSITION_ID"),tB=[{provide:xo,useFactory:function eB(e,t,n){return()=>{n.get(zo).donePromise.then(()=>{const i=Ln(),r=t.querySelectorAll(`style[ng-transition="${e}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[cv,V2,b2],multi:!0}];let iB=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ie({token:e,factory:e.\u0275fac}),e})();const qo=new Pe("EventManagerPlugins");let Yo=(()=>{class e{constructor(n,i){this._zone=i,this._eventNameToPlugin=new Map,n.forEach(r=>r.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,i,r){return this._findPluginFor(i).addEventListener(n,i,r)}addGlobalEventListener(n,i,r){return this._findPluginFor(i).addGlobalEventListener(n,i,r)}getZone(){return this._zone}_findPluginFor(n){const i=this._eventNameToPlugin.get(n);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const a=r[s];if(a.supports(n))return this._eventNameToPlugin.set(n,a),a}throw new Error(`No event manager plugin found for event ${n}`)}}return e.\u0275fac=function(n){return new(n||e)(Ae(qo),Ae(Gt))},e.\u0275prov=Ie({token:e,factory:e.\u0275fac}),e})();class lv{constructor(t){this._doc=t}addGlobalEventListener(t,n,i){const r=Ln().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${n}`);return this.addEventListener(r,n,i)}}let uv=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(n){const i=new Set;n.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ie({token:e,factory:e.\u0275fac}),e})(),e3=(()=>{class e extends uv{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,i,r){n.forEach(s=>{const a=this._doc.createElement("style");a.textContent=s,r.push(i.appendChild(a))})}addHost(n){const i=[];this._addStylesToHost(this._stylesSet,n,i),this._hostNodes.set(n,i)}removeHost(n){const i=this._hostNodes.get(n);i&&i.forEach(fv),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(n,r,i)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(fv))}}return e.\u0275fac=function(n){return new(n||e)(Ae(V2))},e.\u0275prov=Ie({token:e,factory:e.\u0275fac}),e})();function fv(e){Ln().remove(e)}const p5={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},m5=/%COMP%/g;function Ko(e,t,n){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?Ko(e,r,n):(r=r.replace(m5,e),n.push(r))}return n}function pv(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let g5=(()=>{class e{constructor(n,i,r){this.eventManager=n,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new v5(n)}createRenderer(n,i){if(!n||!i)return this.defaultRenderer;switch(i.encapsulation){case yn.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new lB(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(n),r}case 1:case yn.ShadowDom:return new uB(this.eventManager,this.sharedStylesHost,n,i);default:if(!this.rendererByCompId.has(i.id)){const r=Ko(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(n){return new(n||e)(Ae(Yo),Ae(e3),Ae(G4))},e.\u0275prov=Ie({token:e,factory:e.\u0275fac}),e})();class v5{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,n){return n?document.createElementNS(p5[n]||n,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,n){(gv(t)?t.content:t).appendChild(n)}insertBefore(t,n,i){t&&(gv(t)?t.content:t).insertBefore(n,i)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return n||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,i,r){if(r){n=r+":"+n;const s=p5[r];s?t.setAttributeNS(s,n,i):t.setAttribute(n,i)}else t.setAttribute(n,i)}removeAttribute(t,n,i){if(i){const r=p5[i];r?t.removeAttributeNS(r,n):t.removeAttribute(`${i}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,i,r){r&(s1.DashCase|s1.Important)?t.style.setProperty(n,i,r&s1.Important?"important":""):t.style[n]=i}removeStyle(t,n,i){i&s1.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,i){t[n]=i}setValue(t,n){t.nodeValue=n}listen(t,n,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,n,pv(i)):this.eventManager.addEventListener(t,n,pv(i))}}function gv(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class lB extends v5{constructor(t,n,i,r){super(t),this.component=i;const s=Ko(r+"-"+i.id,i.styles,[]);n.addStyles(s),this.contentAttr=function aB(e){return"_ngcontent-%COMP%".replace(m5,e)}(r+"-"+i.id),this.hostAttr=function oB(e){return"_nghost-%COMP%".replace(m5,e)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,n){const i=super.createElement(t,n);return super.setAttribute(i,this.contentAttr,""),i}}class uB extends v5{constructor(t,n,i,r){super(t),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Ko(r.id,r.styles,[]);for(let a=0;a<s.length;a++){const o=document.createElement("style");o.textContent=s[a],this.shadowRoot.appendChild(o)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,i){return super.insertBefore(this.nodeOrShadowRoot(t),n,i)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let fB=(()=>{class e extends lv{constructor(n){super(n)}supports(n){return!0}addEventListener(n,i,r){return n.addEventListener(i,r,!1),()=>this.removeEventListener(n,i,r)}removeEventListener(n,i,r){return n.removeEventListener(i,r)}}return e.\u0275fac=function(n){return new(n||e)(Ae(V2))},e.\u0275prov=Ie({token:e,factory:e.\u0275fac}),e})();const vv=["alt","control","meta","shift"],dB={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},hB={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let pB=(()=>{class e extends lv{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,i,r){const s=e.parseEventName(i),a=e.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ln().onAndCancel(n,s.domEventName,a))}static parseEventName(n){const i=n.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=e._normalizeKey(i.pop());let a="",o=i.indexOf("code");if(o>-1&&(i.splice(o,1),a="code."),vv.forEach(l=>{const u=i.indexOf(l);u>-1&&(i.splice(u,1),a+=l+".")}),a+=s,0!=i.length||0===s.length)return null;const c={};return c.domEventName=r,c.fullKey=a,c}static matchEventFullKeyCode(n,i){let r=dB[n.key]||n.key,s="";return i.indexOf("code.")>-1&&(r=n.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),vv.forEach(a=>{a!==r&&(0,hB[a])(n)&&(s+=a+".")}),s+=r,s===i)}static eventCallback(n,i,r){return s=>{e.matchEventFullKeyCode(s,n)&&r.runGuarded(()=>i(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return e.\u0275fac=function(n){return new(n||e)(Ae(V2))},e.\u0275prov=Ie({token:e,factory:e.\u0275fac}),e})();const CB=pg(QI,"browser",[{provide:Lo,useValue:ev},{provide:rg,useValue:function mB(){h5.makeCurrent()},multi:!0},{provide:V2,useFactory:function vB(){return function KD(e){d0=e}(document),document},deps:[]}]),Mv=new Pe(""),_v=[{provide:Eo,useClass:class nB{addToWindow(t){At.getAngularTestability=(i,r=!0)=>{const s=t.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},At.getAllAngularTestabilities=()=>t.getAllTestabilities(),At.getAllAngularRootElements=()=>t.getAllRootElements(),At.frameworkStabilizers||(At.frameworkStabilizers=[]),At.frameworkStabilizers.push(i=>{const r=At.getAllAngularTestabilities();let s=r.length,a=!1;const o=function(c){a=a||c,s--,0==s&&i(a)};r.forEach(function(c){c.whenStable(o)})})}findTestabilityInTree(t,n,i){return null==n?null:t.getTestability(n)??(i?Ln().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},deps:[]},{provide:ug,useClass:I8,deps:[Gt,F8,Eo]},{provide:I8,useClass:I8,deps:[Gt,F8,Eo]}],bv=[{provide:_0,useValue:"root"},{provide:ns,useFactory:function gB(){return new ns},deps:[]},{provide:qo,useClass:fB,multi:!0,deps:[V2,Gt,Lo]},{provide:qo,useClass:pB,multi:!0,deps:[V2]},{provide:g5,useClass:g5,deps:[Yo,e3,G4]},{provide:Q9,useExisting:g5},{provide:uv,useExisting:e3},{provide:e3,useClass:e3,deps:[V2]},{provide:Yo,useClass:Yo,deps:[qo,Gt]},{provide:class SR{},useClass:iB,deps:[]},[]];let yB=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:G4,useValue:n.appId},{provide:cv,useExisting:G4},tB]}}}return e.\u0275fac=function(n){return new(n||e)(Ae(Mv,12))},e.\u0275mod=W2({type:e}),e.\u0275inj=A2({providers:[...bv,..._v],imports:[pr,ZI]}),e})(),Vv=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return e.\u0275fac=function(n){return new(n||e)(Ae(V2))},e.\u0275prov=Ie({token:e,factory:function(n){let i=null;return i=n?new n:function _B(){return new Vv(Ae(V2))}(),i},providedIn:"root"}),e})();typeof window<"u"&&window;let Hv=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ie({token:e,factory:function(n){let i=null;return i=n?new(n||e):Ae(xv),i},providedIn:"root"}),e})(),xv=(()=>{class e extends Hv{constructor(n){super(),this._doc=n}sanitize(n,i){if(null==i)return null;switch(n){case Ot.NONE:return i;case Ot.HTML:return bn(i,"HTML")?w1(i):O9(this._doc,String(i)).toString();case Ot.STYLE:return bn(i,"Style")?w1(i):i;case Ot.SCRIPT:if(bn(i,"Script"))return w1(i);throw new Error("unsafe value used in a script context");case Ot.URL:return bn(i,"URL")?w1(i):Qa(String(i));case Ot.RESOURCE_URL:if(bn(i,"ResourceURL"))return w1(i);throw new Error(`unsafe value used in a resource URL context (see ${ya})`);default:throw new Error(`Unexpected SecurityContext ${n} (see ${ya})`)}}bypassSecurityTrustHtml(n){return function nN(e){return new XD(e)}(n)}bypassSecurityTrustStyle(n){return function iN(e){return new QD(e)}(n)}bypassSecurityTrustScript(n){return function rN(e){return new ZD(e)}(n)}bypassSecurityTrustUrl(n){return function sN(e){return new JD(e)}(n)}bypassSecurityTrustResourceUrl(n){return function aN(e){return new eN(e)}(n)}}return e.\u0275fac=function(n){return new(n||e)(Ae(V2))},e.\u0275prov=Ie({token:e,factory:function(n){let i=null;return i=n?new n:function zB(e){return new xv(e.get(V2))}(Ae(b2)),i},providedIn:"root"}),e})();function zv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function De(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zv(Object(n),!0).forEach(function(i){v2(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zv(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Xo(e){return(Xo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Lv(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function v2(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M5(e,t){return function NB(e){if(Array.isArray(e))return e}(e)||function PB(e,t){var n=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,o,i=[],r=!0,s=!1;try{for(n=n.call(e);!(r=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);r=!0);}catch(c){s=!0,o=c}finally{try{!r&&null!=n.return&&n.return()}finally{if(s)throw o}}return i}}(e,t)||Ev(e,t)||function kB(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n3(e){return function DB(e){if(Array.isArray(e))return _5(e)}(e)||function AB(e){if(typeof Symbol<"u"&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ev(e)||function OB(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ev(e,t){if(e){if("string"==typeof e)return _5(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _5(e,t)}}function _5(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Tv=function(){},b5={},Dv={},Nv=null,Av={mark:Tv,measure:Tv};try{typeof window<"u"&&(b5=window),typeof document<"u"&&(Dv=document),typeof MutationObserver<"u"&&(Nv=MutationObserver),typeof performance<"u"&&(Av=performance)}catch{}var Jo,ec,tc,nc,ic,Pv=(b5.navigator||{}).userAgent,Ov=void 0===Pv?"":Pv,Li=b5,Bt=Dv,kv=Nv,Zo=Av,ii=!!Bt.documentElement&&!!Bt.head&&"function"==typeof Bt.addEventListener&&"function"==typeof Bt.createElement,Iv=~Ov.indexOf("MSIE")||~Ov.indexOf("Trident/"),ri="___FONT_AWESOME___",Rv="svg-inline--fa",mr="data-fa-i2svg",S5="data-fa-pseudo-element",w5="data-prefix",H5="data-icon",Bv="fontawesome-i2svg",BB=["HTML","HEAD","STYLE","SCRIPT"],$v=function(){try{return!0}catch{return!1}}(),$t="classic",Zt="sharp",x5=[$t,Zt];function i3(e){return new Proxy(e,{get:function(n,i){return i in n?n[i]:n[$t]}})}var r3=i3((v2(Jo={},$t,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),v2(Jo,Zt,{fa:"solid",fass:"solid","fa-solid":"solid"}),Jo)),s3=i3((v2(ec={},$t,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),v2(ec,Zt,{solid:"fass"}),ec)),a3=i3((v2(tc={},$t,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),v2(tc,Zt,{fass:"fa-solid"}),tc)),$B=i3((v2(nc={},$t,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),v2(nc,Zt,{"fa-solid":"fass"}),nc)),jB=/fa(s|r|l|t|d|b|k|ss)?[\-\ ]/,jv="fa-layers-text",UB=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,WB=i3((v2(ic={},$t,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),v2(ic,Zt,{900:"fass"}),ic)),Uv=[1,2,3,4,5,6,7,8,9,10],GB=Uv.concat([11,12,13,14,15,16,17,18,19,20]),qB=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],o3=new Set;Object.keys(s3[$t]).map(o3.add.bind(o3)),Object.keys(s3[Zt]).map(o3.add.bind(o3));var YB=[].concat(x5,n3(o3),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul","duotone-group","swap-opacity","primary","secondary"]).concat(Uv.map(function(e){return"".concat(e,"x")})).concat(GB.map(function(e){return"w-".concat(e)})),c3=Li.FontAwesomeConfig||{};Bt&&"function"==typeof Bt.querySelector&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(e){var t=M5(e,2),i=t[1],r=function XB(e){return""===e||"false"!==e&&("true"===e||e)}(function KB(e){var t=Bt.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(t[0]));null!=r&&(c3[i]=r)});var Wv={styleDefault:"solid",familyDefault:"classic",cssPrefix:"fa",replacementClass:Rv,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};c3.familyPrefix&&(c3.cssPrefix=c3.familyPrefix);var Ss=De(De({},Wv),c3);Ss.autoReplaceSvg||(Ss.observeMutations=!1);var Oe={};Object.keys(Wv).forEach(function(e){Object.defineProperty(Oe,e,{enumerable:!0,set:function(n){Ss[e]=n,l3.forEach(function(i){return i(Oe)})},get:function(){return Ss[e]}})}),Object.defineProperty(Oe,"familyPrefix",{enumerable:!0,set:function(t){Ss.cssPrefix=t,l3.forEach(function(n){return n(Oe)})},get:function(){return Ss.cssPrefix}}),Li.FontAwesomeConfig=Oe;var l3=[],Tn={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function u3(){for(var e=12,t="";e-- >0;)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return t}function ws(e){for(var t=[],n=(e||[]).length>>>0;n--;)t[n]=e[n];return t}function z5(e){return e.classList?ws(e.classList):(e.getAttribute("class")||"").split(" ").filter(function(t){return t})}function Gv(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function rc(e){return Object.keys(e||{}).reduce(function(t,n){return t+"".concat(n,": ").concat(e[n].trim(),";")},"")}function L5(e){return e.size!==Tn.size||e.x!==Tn.x||e.y!==Tn.y||e.rotate!==Tn.rotate||e.flipX||e.flipY}function qv(){var e="fa",t=Rv,n=Oe.cssPrefix,i=Oe.replacementClass,r=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    transition-delay: 0s;\n    transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';if(n!==e||i!==t){var s=new RegExp("\\.".concat(e,"\\-"),"g"),a=new RegExp("\\--".concat(e,"\\-"),"g"),o=new RegExp("\\.".concat(t),"g");r=r.replace(s,".".concat(n,"-")).replace(a,"--".concat(n,"-")).replace(o,".".concat(i))}return r}var Yv=!1;function E5(){Oe.autoAddCss&&!Yv&&(function JB(e){if(e&&ii){var t=Bt.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var n=Bt.head.childNodes,i=null,r=n.length-1;r>-1;r--){var s=n[r],a=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(a)>-1&&(i=s)}Bt.head.insertBefore(t,i)}}(qv()),Yv=!0)}var s$={mixout:function(){return{dom:{css:qv,insertCss:E5}}},hooks:function(){return{beforeDOMElementCreation:function(){E5()},beforeI2svg:function(){E5()}}}},si=Li||{};si[ri]||(si[ri]={}),si[ri].styles||(si[ri].styles={}),si[ri].hooks||(si[ri].hooks={}),si[ri].shims||(si[ri].shims=[]);var fn=si[ri],Kv=[],sc=!1;function o$(e){!ii||(sc?setTimeout(e,0):Kv.push(e))}function f3(e){var t=e.tag,n=e.attributes,i=void 0===n?{}:n,r=e.children,s=void 0===r?[]:r;return"string"==typeof e?Gv(e):"<".concat(t," ").concat(function t$(e){return Object.keys(e||{}).reduce(function(t,n){return t+"".concat(n,'="').concat(Gv(e[n]),'" ')},"").trim()}(i),">").concat(s.map(f3).join(""),"</").concat(t,">")}function Xv(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}ii&&((sc=(Bt.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Bt.readyState))||Bt.addEventListener("DOMContentLoaded",function e(){Bt.removeEventListener("DOMContentLoaded",e),sc=1,Kv.map(function(t){return t()})}));var T5=function(t,n,i,r){var c,l,u,s=Object.keys(t),a=s.length,o=void 0!==r?function(t,n){return function(i,r,s,a){return t.call(n,i,r,s,a)}}(n,r):n;for(void 0===i?(c=1,u=t[s[0]]):(c=0,u=i);c<a;c++)u=o(u,t[l=s[c]],l,t);return u};function D5(e){var t=function l$(e){for(var t=[],n=0,i=e.length;n<i;){var r=e.charCodeAt(n++);if(r>=55296&&r<=56319&&n<i){var s=e.charCodeAt(n++);56320==(64512&s)?t.push(((1023&r)<<10)+(1023&s)+65536):(t.push(r),n--)}else t.push(r)}return t}(e);return 1===t.length?t[0].toString(16):null}function Qv(e){return Object.keys(e).reduce(function(t,n){var i=e[n];return i.icon?t[i.iconName]=i.icon:t[n]=i,t},{})}function N5(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.skipHooks,r=void 0!==i&&i,s=Qv(t);"function"!=typeof fn.hooks.addPack||r?fn.styles[e]=De(De({},fn.styles[e]||{}),s):fn.hooks.addPack(e,Qv(t)),"fas"===e&&N5("fa",t)}var ac,oc,cc,Hs=fn.styles,f$=fn.shims,d$=(v2(ac={},$t,Object.values(a3[$t])),v2(ac,Zt,Object.values(a3[Zt])),ac),A5=null,Zv={},Jv={},eC={},tC={},nC={},h$=(v2(oc={},$t,Object.keys(r3[$t])),v2(oc,Zt,Object.keys(r3[Zt])),oc);function m$(e,t){var n=t.split("-"),i=n[0],r=n.slice(1).join("-");return i!==e||""===r||function p$(e){return~YB.indexOf(e)}(r)?null:r}var iC=function(){var t=function(s){return T5(Hs,function(a,o,c){return a[c]=T5(o,s,{}),a},{})};Zv=t(function(r,s,a){return s[3]&&(r[s[3]]=a),s[2]&&s[2].filter(function(c){return"number"==typeof c}).forEach(function(c){r[c.toString(16)]=a}),r}),Jv=t(function(r,s,a){return r[a]=a,s[2]&&s[2].filter(function(c){return"string"==typeof c}).forEach(function(c){r[c]=a}),r}),nC=t(function(r,s,a){var o=s[2];return r[a]=a,o.forEach(function(c){r[c]=a}),r});var n="far"in Hs||Oe.autoFetchSvg,i=T5(f$,function(r,s){var a=s[0],o=s[1],c=s[2];return"far"===o&&!n&&(o="fas"),"string"==typeof a&&(r.names[a]={prefix:o,iconName:c}),"number"==typeof a&&(r.unicodes[a.toString(16)]={prefix:o,iconName:c}),r},{names:{},unicodes:{}});eC=i.names,tC=i.unicodes,A5=lc(Oe.styleDefault,{family:Oe.familyDefault})};function P5(e,t){return(Zv[e]||{})[t]}function vr(e,t){return(nC[e]||{})[t]}function rC(e){return eC[e]||{prefix:null,iconName:null}}function Ti(){return A5}function lc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.family,i=void 0===n?$t:n,r=r3[i][e],s=s3[i][e]||s3[i][r],a=e in fn.styles?e:null;return s||a||null}(function ZB(e){l3.push(e)})(function(e){A5=lc(e.styleDefault,{family:Oe.familyDefault})}),iC();var sC=(v2(cc={},$t,Object.keys(a3[$t])),v2(cc,Zt,Object.keys(a3[Zt])),cc);function uc(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.skipLookups,r=void 0!==i&&i,s=(v2(t={},$t,"".concat(Oe.cssPrefix,"-").concat($t)),v2(t,Zt,"".concat(Oe.cssPrefix,"-").concat(Zt)),t),a=null,o=$t;(e.includes(s[$t])||e.some(function(l){return sC[$t].includes(l)}))&&(o=$t),(e.includes(s[Zt])||e.some(function(l){return sC[Zt].includes(l)}))&&(o=Zt);var c=e.reduce(function(l,u){var f=m$(Oe.cssPrefix,u);if(Hs[u]?(u=d$[o].includes(u)?$B[o][u]:u,a=u,l.prefix=u):h$[o].indexOf(u)>-1?(a=u,l.prefix=lc(u,{family:o})):f?l.iconName=f:u!==Oe.replacementClass&&u!==s[$t]&&u!==s[Zt]&&l.rest.push(u),!r&&l.prefix&&l.iconName){var h="fa"===a?rC(l.iconName):{},m=vr(l.prefix,l.iconName);h.prefix&&(a=null),l.iconName=h.iconName||m||l.iconName,l.prefix=h.prefix||l.prefix,"far"===l.prefix&&!Hs.far&&Hs.fas&&!Oe.autoFetchSvg&&(l.prefix="fas")}return l},{prefix:null,iconName:null,rest:[]});return(e.includes("fa-brands")||e.includes("fab"))&&(c.prefix="fab"),(e.includes("fa-duotone")||e.includes("fad"))&&(c.prefix="fad"),!c.prefix&&o===Zt&&(Hs.fass||Oe.autoFetchSvg)&&(c.prefix="fass",c.iconName=vr(c.prefix,c.iconName)||c.iconName),("fa"===c.prefix||"fa"===a)&&(c.prefix=Ti()||"fas"),c}var C$=function(){function e(){(function LB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.definitions={}}return function EB(e,t,n){t&&Lv(e.prototype,t),n&&Lv(e,n),Object.defineProperty(e,"prototype",{writable:!1})}(e,[{key:"add",value:function(){for(var n=this,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];var a=r.reduce(this._pullDefinitions,{});Object.keys(a).forEach(function(o){n.definitions[o]=De(De({},n.definitions[o]||{}),a[o]),N5(o,a[o]);var c=a3[$t][o];c&&N5(c,a[o]),iC()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(n,i){var r=i.prefix&&i.iconName&&i.icon?{0:i}:i;return Object.keys(r).map(function(s){var a=r[s],o=a.prefix,c=a.iconName,l=a.icon,u=l[2];n[o]||(n[o]={}),u.length>0&&u.forEach(function(f){"string"==typeof f&&(n[o][f]=l)}),n[o][c]=l}),n}}]),e}(),aC=[],xs={},zs={},y$=Object.keys(zs);function k5(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];var s=xs[e]||[];return s.forEach(function(a){t=a.apply(null,[t].concat(i))}),t}function Cr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r=xs[e]||[];r.forEach(function(s){s.apply(null,n)})}function ai(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return zs[e]?zs[e].apply(null,t):void 0}function I5(e){"fa"===e.prefix&&(e.prefix="fas");var t=e.iconName,n=e.prefix||Ti();if(t)return t=vr(n,t)||t,Xv(oC.definitions,n,t)||Xv(fn.styles,n,t)}var oC=new C$,b$={i2svg:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ii?(Cr("beforeI2svg",t),ai("pseudoElements2svg",t),ai("i2svg",t)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.autoReplaceSvgRoot;!1===Oe.autoReplaceSvg&&(Oe.autoReplaceSvg=!0),Oe.observeMutations=!0,o$(function(){S$({autoReplaceSvgRoot:n}),Cr("watch",t)})}},L1={noAuto:function(){Oe.autoReplaceSvg=!1,Oe.observeMutations=!1,Cr("noAuto")},config:Oe,dom:b$,parse:{icon:function(t){if(null===t)return null;if("object"===Xo(t)&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:vr(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&2===t.length){var n=0===t[1].indexOf("fa-")?t[1].slice(3):t[1],i=lc(t[0]);return{prefix:i,iconName:vr(i,n)||n}}if("string"==typeof t&&(t.indexOf("".concat(Oe.cssPrefix,"-"))>-1||t.match(jB))){var r=uc(t.split(" "),{skipLookups:!0});return{prefix:r.prefix||Ti(),iconName:vr(r.prefix,r.iconName)||r.iconName}}if("string"==typeof t){var s=Ti();return{prefix:s,iconName:vr(s,t)||t}}}},library:oC,findIconDefinition:I5,toHtml:f3},S$=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.autoReplaceSvgRoot,i=void 0===n?Bt:n;(Object.keys(fn.styles).length>0||Oe.autoFetchSvg)&&ii&&Oe.autoReplaceSvg&&L1.dom.i2svg({node:i})};function fc(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map(function(i){return f3(i)})}}),Object.defineProperty(e,"node",{get:function(){if(ii){var i=Bt.createElement("div");return i.innerHTML=e.html,i.children}}}),e}function F5(e){var t=e.icons,n=t.main,i=t.mask,r=e.prefix,s=e.iconName,a=e.transform,o=e.symbol,c=e.title,l=e.maskId,u=e.titleId,f=e.extra,h=e.watchable,m=void 0!==h&&h,v=i.found?i:n,g=v.width,C=v.height,y="fak"===r,H=[Oe.replacementClass,s?"".concat(Oe.cssPrefix,"-").concat(s):""].filter(function(me){return-1===f.classes.indexOf(me)}).filter(function(me){return""!==me||!!me}).concat(f.classes).join(" "),V={children:[],attributes:De(De({},f.attributes),{},{"data-prefix":r,"data-icon":s,class:H,role:f.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(g," ").concat(C)})},b=y&&!~f.classes.indexOf("fa-fw")?{width:"".concat(g/C*16*.0625,"em")}:{};m&&(V.attributes[mr]=""),c&&(V.children.push({tag:"title",attributes:{id:V.attributes["aria-labelledby"]||"title-".concat(u||u3())},children:[c]}),delete V.attributes.title);var F=De(De({},V),{},{prefix:r,iconName:s,main:n,mask:i,maskId:l,transform:a,symbol:o,styles:De(De({},b),f.styles)}),I=i.found&&n.found?ai("generateAbstractMask",F)||{children:[],attributes:{}}:ai("generateAbstractIcon",F)||{children:[],attributes:{}},de=I.attributes;return F.children=I.children,F.attributes=de,o?function H$(e){var n=e.iconName,i=e.children,r=e.attributes,s=e.symbol,a=!0===s?"".concat(e.prefix,"-").concat(Oe.cssPrefix,"-").concat(n):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:De(De({},r),{},{id:a}),children:i}]}]}(F):function w$(e){var t=e.children,n=e.main,i=e.mask,r=e.attributes,s=e.styles,a=e.transform;if(L5(a)&&n.found&&!i.found){var l={x:n.width/n.height/2,y:.5};r.style=rc(De(De({},s),{},{"transform-origin":"".concat(l.x+a.x/16,"em ").concat(l.y+a.y/16,"em")}))}return[{tag:"svg",attributes:r,children:t}]}(F)}function cC(e){var t=e.content,n=e.width,i=e.height,r=e.transform,s=e.title,a=e.extra,o=e.watchable,c=void 0!==o&&o,l=De(De(De({},a.attributes),s?{title:s}:{}),{},{class:a.classes.join(" ")});c&&(l[mr]="");var u=De({},a.styles);L5(r)&&(u.transform=function i$(e){var t=e.transform,n=e.width,r=e.height,s=void 0===r?16:r,a=e.startCentered,o=void 0!==a&&a,c="";return c+=o&&Iv?"translate(".concat(t.x/16-(void 0===n?16:n)/2,"em, ").concat(t.y/16-s/2,"em) "):o?"translate(calc(-50% + ".concat(t.x/16,"em), calc(-50% + ").concat(t.y/16,"em)) "):"translate(".concat(t.x/16,"em, ").concat(t.y/16,"em) "),(c+="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "))+"rotate(".concat(t.rotate,"deg) ")}({transform:r,startCentered:!0,width:n,height:i}),u["-webkit-transform"]=u.transform);var f=rc(u);f.length>0&&(l.style=f);var h=[];return h.push({tag:"span",attributes:l,children:[t]}),s&&h.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),h}function x$(e){var t=e.content,n=e.title,i=e.extra,r=De(De(De({},i.attributes),n?{title:n}:{}),{},{class:i.classes.join(" ")}),s=rc(i.styles);s.length>0&&(r.style=s);var a=[];return a.push({tag:"span",attributes:r,children:[t]}),n&&a.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),a}var R5=fn.styles;function B5(e){var t=e[0],n=e[1],s=M5(e.slice(4),1)[0];return{found:!0,width:t,height:n,icon:Array.isArray(s)?{tag:"g",attributes:{class:"".concat(Oe.cssPrefix,"-").concat("duotone-group")},children:[{tag:"path",attributes:{class:"".concat(Oe.cssPrefix,"-").concat("secondary"),fill:"currentColor",d:s[0]}},{tag:"path",attributes:{class:"".concat(Oe.cssPrefix,"-").concat("primary"),fill:"currentColor",d:s[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:s}}}}var z$={found:!1,width:512,height:512};function $5(e,t){var n=t;return"fa"===t&&null!==Oe.styleDefault&&(t=Ti()),new Promise(function(i,r){if(ai("missingIconAbstract"),"fa"===n){var a=rC(e)||{};e=a.iconName||e,t=a.prefix||t}if(e&&t&&R5[t]&&R5[t][e])return i(B5(R5[t][e]));(function L$(e,t){!$v&&!Oe.showMissingIcons&&e&&console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))})(e,t),i(De(De({},z$),{},{icon:Oe.showMissingIcons&&e&&ai("missingIconAbstract")||{}}))})}var lC=function(){},j5=Oe.measurePerformance&&Zo&&Zo.mark&&Zo.measure?Zo:{mark:lC,measure:lC},d3='FA "6.2.1"',U5_begin=function(t){return j5.mark("".concat(d3," ").concat(t," begins")),function(){return function(t){j5.mark("".concat(d3," ").concat(t," ends")),j5.measure("".concat(d3," ").concat(t),"".concat(d3," ").concat(t," begins"),"".concat(d3," ").concat(t," ends"))}(t)}},dc=function(){};function fC(e){return"string"==typeof(e.getAttribute?e.getAttribute(mr):null)}function A$(e){return Bt.createElementNS("http://www.w3.org/2000/svg",e)}function P$(e){return Bt.createElement(e)}function dC(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.ceFn,i=void 0===n?"svg"===e.tag?A$:P$:n;if("string"==typeof e)return Bt.createTextNode(e);var r=i(e.tag);Object.keys(e.attributes||[]).forEach(function(a){r.setAttribute(a,e.attributes[a])});var s=e.children||[];return s.forEach(function(a){r.appendChild(dC(a,{ceFn:i}))}),r}var hc={replace:function(t){var n=t[0];if(n.parentNode)if(t[1].forEach(function(r){n.parentNode.insertBefore(dC(r),n)}),null===n.getAttribute(mr)&&Oe.keepOriginalSource){var i=Bt.createComment(function O$(e){var t=" ".concat(e.outerHTML," ");return"".concat(t,"Font Awesome fontawesome.com ")}(n));n.parentNode.replaceChild(i,n)}else n.remove()},nest:function(t){var n=t[0],i=t[1];if(~z5(n).indexOf(Oe.replacementClass))return hc.replace(t);var r=new RegExp("".concat(Oe.cssPrefix,"-.*"));if(delete i[0].attributes.id,i[0].attributes.class){var s=i[0].attributes.class.split(" ").reduce(function(o,c){return c===Oe.replacementClass||c.match(r)?o.toSvg.push(c):o.toNode.push(c),o},{toNode:[],toSvg:[]});i[0].attributes.class=s.toSvg.join(" "),0===s.toNode.length?n.removeAttribute("class"):n.setAttribute("class",s.toNode.join(" "))}var a=i.map(function(o){return f3(o)}).join("\n");n.setAttribute(mr,""),n.innerHTML=a}};function hC(e){e()}function pC(e,t){var n="function"==typeof t?t:dc;if(0===e.length)n();else{var i=hC;"async"===Oe.mutateApproach&&(i=Li.requestAnimationFrame||hC),i(function(){var r=function N$(){return!0===Oe.autoReplaceSvg?hc.replace:hc[Oe.autoReplaceSvg]||hc.replace}(),s=U5_begin("mutate");e.map(r),s(),n()})}}var W5=!1;function mC(){W5=!0}function G5(){W5=!1}var pc=null;function gC(e){if(kv&&Oe.observeMutations){var t=e.treeCallback,n=void 0===t?dc:t,i=e.nodeCallback,r=void 0===i?dc:i,s=e.pseudoElementsCallback,a=void 0===s?dc:s,o=e.observeMutationsRoot,c=void 0===o?Bt:o;pc=new kv(function(l){if(!W5){var u=Ti();ws(l).forEach(function(f){if("childList"===f.type&&f.addedNodes.length>0&&!fC(f.addedNodes[0])&&(Oe.searchPseudoElements&&a(f.target),n(f.target)),"attributes"===f.type&&f.target.parentNode&&Oe.searchPseudoElements&&a(f.target.parentNode),"attributes"===f.type&&fC(f.target)&&~qB.indexOf(f.attributeName))if("class"===f.attributeName&&function T$(e){var t=e.getAttribute?e.getAttribute(w5):null,n=e.getAttribute?e.getAttribute(H5):null;return t&&n}(f.target)){var h=uc(z5(f.target)),v=h.iconName;f.target.setAttribute(w5,h.prefix||u),v&&f.target.setAttribute(H5,v)}else(function D$(e){return e&&e.classList&&e.classList.contains&&e.classList.contains(Oe.replacementClass)})(f.target)&&r(f.target)})}}),ii&&pc.observe(c,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function I$(e){var t=e.getAttribute("style"),n=[];return t&&(n=t.split(";").reduce(function(i,r){var s=r.split(":"),a=s[0],o=s.slice(1);return a&&o.length>0&&(i[a]=o.join(":").trim()),i},{})),n}function F$(e){var t=e.getAttribute("data-prefix"),n=e.getAttribute("data-icon"),i=void 0!==e.innerText?e.innerText.trim():"",r=uc(z5(e));return r.prefix||(r.prefix=Ti()),t&&n&&(r.prefix=t,r.iconName=n),r.iconName&&r.prefix||(r.prefix&&i.length>0&&(r.iconName=function g$(e,t){return(Jv[e]||{})[t]}(r.prefix,e.innerText)||P5(r.prefix,D5(e.innerText))),!r.iconName&&Oe.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(r.iconName=e.firstChild.data)),r}function R$(e){var t=ws(e.attributes).reduce(function(r,s){return"class"!==r.name&&"style"!==r.name&&(r[s.name]=s.value),r},{}),n=e.getAttribute("title"),i=e.getAttribute("data-fa-title-id");return Oe.autoA11y&&(n?t["aria-labelledby"]="".concat(Oe.replacementClass,"-title-").concat(i||u3()):(t["aria-hidden"]="true",t.focusable="false")),t}function vC(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},n=F$(e),i=n.iconName,r=n.prefix,s=n.rest,a=R$(e),o=k5("parseNodeAttributes",{},e),c=t.styleParser?I$(e):[];return De({iconName:i,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:r,transform:Tn,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:c,attributes:a}},o)}var $$=fn.styles;function CC(e){var t="nest"===Oe.autoReplaceSvg?vC(e,{styleParser:!1}):vC(e);return~t.extra.classes.indexOf(jv)?ai("generateLayersText",e,t):ai("generateSvgReplacementMutation",e,t)}var Di=new Set;function yC(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!ii)return Promise.resolve();var n=Bt.documentElement.classList,i=function(f){return n.add("".concat(Bv,"-").concat(f))},r=function(f){return n.remove("".concat(Bv,"-").concat(f))},s=Oe.autoFetchSvg?Di:x5.map(function(u){return"fa-".concat(u)}).concat(Object.keys($$));s.includes("fa")||s.push("fa");var a=[".".concat(jv,":not([").concat(mr,"])")].concat(s.map(function(u){return".".concat(u,":not([").concat(mr,"])")})).join(", ");if(0===a.length)return Promise.resolve();var o=[];try{o=ws(e.querySelectorAll(a))}catch{}if(!(o.length>0))return Promise.resolve();i("pending"),r("complete");var c=U5_begin("onTree"),l=o.reduce(function(u,f){try{var h=CC(f);h&&u.push(h)}catch(m){$v||"MissingIcon"===m.name&&console.error(m)}return u},[]);return new Promise(function(u,f){Promise.all(l).then(function(h){pC(h,function(){i("active"),i("complete"),r("pending"),"function"==typeof t&&t(),c(),u()})}).catch(function(h){c(),f(h)})})}function j$(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;CC(e).then(function(n){n&&pC([n],t)})}x5.map(function(e){Di.add("fa-".concat(e))}),Object.keys(r3[$t]).map(Di.add.bind(Di)),Object.keys(r3[Zt]).map(Di.add.bind(Di)),Di=n3(Di);var W$=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.transform,r=void 0===i?Tn:i,s=n.symbol,a=void 0!==s&&s,o=n.mask,c=void 0===o?null:o,l=n.maskId,u=void 0===l?null:l,f=n.title,h=void 0===f?null:f,m=n.titleId,v=void 0===m?null:m,g=n.classes,C=void 0===g?[]:g,y=n.attributes,H=void 0===y?{}:y,V=n.styles,b=void 0===V?{}:V;if(t){var F=t.prefix,I=t.iconName,te=t.icon;return fc(De({type:"icon"},t),function(){return Cr("beforeDOMElementCreation",{iconDefinition:t,params:n}),Oe.autoA11y&&(h?H["aria-labelledby"]="".concat(Oe.replacementClass,"-title-").concat(v||u3()):(H["aria-hidden"]="true",H.focusable="false")),F5({icons:{main:B5(te),mask:c?B5(c.icon):{found:!1,width:null,height:null,icon:{}}},prefix:F,iconName:I,transform:De(De({},Tn),r),symbol:a,title:h,maskId:u,titleId:v,extra:{attributes:H,styles:b,classes:C}})})}},G$={mixout:function(){return{icon:(e=W$,function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=(t||{}).icon?t:I5(t||{}),r=n.mask;return r&&(r=(r||{}).icon?r:I5(r||{})),e(i,De(De({},n),{},{mask:r}))})};var e},hooks:function(){return{mutationObserverCallbacks:function(n){return n.treeCallback=yC,n.nodeCallback=j$,n}}},provides:function(t){t.i2svg=function(n){var i=n.node,s=n.callback;return yC(void 0===i?Bt:i,void 0===s?function(){}:s)},t.generateSvgReplacementMutation=function(n,i){var r=i.iconName,s=i.title,a=i.titleId,o=i.prefix,c=i.transform,l=i.symbol,u=i.mask,f=i.maskId,h=i.extra;return new Promise(function(m,v){Promise.all([$5(r,o),u.iconName?$5(u.iconName,u.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(g){var C=M5(g,2);m([n,F5({icons:{main:C[0],mask:C[1]},prefix:o,iconName:r,transform:c,symbol:l,maskId:f,title:s,titleId:a,extra:h,watchable:!0})])}).catch(v)})},t.generateAbstractIcon=function(n){var l,i=n.children,r=n.attributes,s=n.main,a=n.transform,c=rc(n.styles);return c.length>0&&(r.style=c),L5(a)&&(l=ai("generateAbstractTransformGrouping",{main:s,transform:a,containerWidth:s.width,iconWidth:s.width})),i.push(l||s.icon),{children:i,attributes:r}}}},q$={mixout:function(){return{layer:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i.classes,s=void 0===r?[]:r;return fc({type:"layer"},function(){Cr("beforeDOMElementCreation",{assembler:n,params:i});var a=[];return n(function(o){Array.isArray(o)?o.map(function(c){a=a.concat(c.abstract)}):a=a.concat(o.abstract)}),[{tag:"span",attributes:{class:["".concat(Oe.cssPrefix,"-layers")].concat(n3(s)).join(" ")},children:a}]})}}}},Y$={mixout:function(){return{counter:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i.title,s=void 0===r?null:r,a=i.classes,o=void 0===a?[]:a,c=i.attributes,l=void 0===c?{}:c,u=i.styles,f=void 0===u?{}:u;return fc({type:"counter",content:n},function(){return Cr("beforeDOMElementCreation",{content:n,params:i}),x$({content:n.toString(),title:s,extra:{attributes:l,styles:f,classes:["".concat(Oe.cssPrefix,"-layers-counter")].concat(n3(o))}})})}}}},K$={mixout:function(){return{text:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i.transform,s=void 0===r?Tn:r,a=i.title,o=void 0===a?null:a,c=i.classes,l=void 0===c?[]:c,u=i.attributes,f=void 0===u?{}:u,h=i.styles,m=void 0===h?{}:h;return fc({type:"text",content:n},function(){return Cr("beforeDOMElementCreation",{content:n,params:i}),cC({content:n,transform:De(De({},Tn),s),title:o,extra:{attributes:f,styles:m,classes:["".concat(Oe.cssPrefix,"-layers-text")].concat(n3(l))}})})}}},provides:function(t){t.generateLayersText=function(n,i){var r=i.title,s=i.transform,a=i.extra,o=null,c=null;if(Iv){var l=parseInt(getComputedStyle(n).fontSize,10),u=n.getBoundingClientRect();o=u.width/l,c=u.height/l}return Oe.autoA11y&&!r&&(a.attributes["aria-hidden"]="true"),Promise.resolve([n,cC({content:n.innerHTML,width:o,height:c,transform:s,title:r,extra:a,watchable:!0})])}}},X$=new RegExp('"',"ug"),MC=[1105920,1112319];function _C(e,t){var n="".concat("data-fa-pseudo-element-pending").concat(t.replace(":","-"));return new Promise(function(i,r){if(null!==e.getAttribute(n))return i();var a=ws(e.children).filter(function(te){return te.getAttribute(S5)===t})[0],o=Li.getComputedStyle(e,t),c=o.getPropertyValue("font-family").match(UB),l=o.getPropertyValue("font-weight"),u=o.getPropertyValue("content");if(a&&!c)return e.removeChild(a),i();if(c&&"none"!==u&&""!==u){var f=o.getPropertyValue("content"),h=~["Sharp"].indexOf(c[2])?Zt:$t,m=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(c[2])?s3[h][c[2].toLowerCase()]:WB[h][l],v=function Q$(e){var t=e.replace(X$,""),n=function u$(e,t){var r,n=e.length,i=e.charCodeAt(t);return i>=55296&&i<=56319&&n>t+1&&(r=e.charCodeAt(t+1))>=56320&&r<=57343?1024*(i-55296)+r-56320+65536:i}(t,0),i=n>=MC[0]&&n<=MC[1],r=2===t.length&&t[0]===t[1];return{value:D5(r?t[0]:t),isSecondary:i||r}}(f),g=v.value,C=v.isSecondary,y=c[0].startsWith("FontAwesome"),H=P5(m,g),V=H;if(y){var b=function v$(e){var t=tC[e],n=P5("fas",e);return t||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}(g);b.iconName&&b.prefix&&(H=b.iconName,m=b.prefix)}if(!H||C||a&&a.getAttribute(w5)===m&&a.getAttribute(H5)===V)i();else{e.setAttribute(n,V),a&&e.removeChild(a);var F=function B$(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Tn,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}(),I=F.extra;I.attributes[S5]=t,$5(H,m).then(function(te){var de=F5(De(De({},F),{},{icons:{main:te,mask:{prefix:null,iconName:null,rest:[]}},prefix:m,iconName:V,extra:I,watchable:!0})),me=Bt.createElement("svg");"::before"===t?e.insertBefore(me,e.firstChild):e.appendChild(me),me.outerHTML=de.map(function(ue){return f3(ue)}).join("\n"),e.removeAttribute(n),i()}).catch(r)}}else i()})}function Z$(e){return Promise.all([_C(e,"::before"),_C(e,"::after")])}function J$(e){return!(e.parentNode===document.head||~BB.indexOf(e.tagName.toUpperCase())||e.getAttribute(S5)||e.parentNode&&"svg"===e.parentNode.tagName)}function bC(e){if(ii)return new Promise(function(t,n){var i=ws(e.querySelectorAll("*")).filter(J$).map(Z$),r=U5_begin("searchPseudoElements");mC(),Promise.all(i).then(function(){r(),G5(),t()}).catch(function(){r(),G5(),n()})})}var VC=!1,SC=function(t){return t.toLowerCase().split(" ").reduce(function(i,r){var s=r.toLowerCase().split("-"),a=s[0],o=s.slice(1).join("-");if(a&&"h"===o)return i.flipX=!0,i;if(a&&"v"===o)return i.flipY=!0,i;if(o=parseFloat(o),isNaN(o))return i;switch(a){case"grow":i.size=i.size+o;break;case"shrink":i.size=i.size-o;break;case"left":i.x=i.x-o;break;case"right":i.x=i.x+o;break;case"up":i.y=i.y-o;break;case"down":i.y=i.y+o;break;case"rotate":i.rotate=i.rotate+o}return i},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},q5={x:0,y:0,width:"100%",height:"100%"};function wC(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}!function M$(e,t){var n=t.mixoutsTo;aC=e,xs={},Object.keys(zs).forEach(function(i){-1===y$.indexOf(i)&&delete zs[i]}),aC.forEach(function(i){var r=i.mixout?i.mixout():{};if(Object.keys(r).forEach(function(a){"function"==typeof r[a]&&(n[a]=r[a]),"object"===Xo(r[a])&&Object.keys(r[a]).forEach(function(o){n[a]||(n[a]={}),n[a][o]=r[a][o]})}),i.hooks){var s=i.hooks();Object.keys(s).forEach(function(a){xs[a]||(xs[a]=[]),xs[a].push(s[a])})}i.provides&&i.provides(zs)})}([s$,G$,q$,Y$,K$,{hooks:function(){return{mutationObserverCallbacks:function(n){return n.pseudoElementsCallback=bC,n}}},provides:function(t){t.pseudoElements2svg=function(n){var i=n.node;Oe.searchPseudoElements&&bC(void 0===i?Bt:i)}}},{mixout:function(){return{dom:{unwatch:function(){mC(),VC=!0}}}},hooks:function(){return{bootstrap:function(){gC(k5("mutationObserverCallbacks",{}))},noAuto:function(){!function k$(){!pc||pc.disconnect()}()},watch:function(n){var i=n.observeMutationsRoot;VC?G5():gC(k5("mutationObserverCallbacks",{observeMutationsRoot:i}))}}}},{mixout:function(){return{parse:{transform:function(n){return SC(n)}}}},hooks:function(){return{parseNodeAttributes:function(n,i){var r=i.getAttribute("data-fa-transform");return r&&(n.transform=SC(r)),n}}},provides:function(t){t.generateAbstractTransformGrouping=function(n){var i=n.main,r=n.transform,a=n.iconWidth,o={transform:"translate(".concat(n.containerWidth/2," 256)")},c="translate(".concat(32*r.x,", ").concat(32*r.y,") "),l="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),u="rotate(".concat(r.rotate," 0 0)"),m={outer:o,inner:{transform:"".concat(c," ").concat(l," ").concat(u)},path:{transform:"translate(".concat(a/2*-1," -256)")}};return{tag:"g",attributes:De({},m.outer),children:[{tag:"g",attributes:De({},m.inner),children:[{tag:i.icon.tag,children:i.icon.children,attributes:De(De({},i.icon.attributes),m.path)}]}]}}}},{hooks:function(){return{parseNodeAttributes:function(n,i){var r=i.getAttribute("data-fa-mask"),s=r?uc(r.split(" ").map(function(a){return a.trim()})):{prefix:null,iconName:null,rest:[]};return s.prefix||(s.prefix=Ti()),n.mask=s,n.maskId=i.getAttribute("data-fa-mask-id"),n}}},provides:function(t){t.generateAbstractMask=function(n){var e,i=n.children,r=n.attributes,s=n.main,a=n.mask,o=n.maskId,u=s.icon,h=a.icon,m=function n$(e){var t=e.transform,i=e.iconWidth,r={transform:"translate(".concat(e.containerWidth/2," 256)")},s="translate(".concat(32*t.x,", ").concat(32*t.y,") "),a="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),o="rotate(".concat(t.rotate," 0 0)");return{outer:r,inner:{transform:"".concat(s," ").concat(a," ").concat(o)},path:{transform:"translate(".concat(i/2*-1," -256)")}}}({transform:n.transform,containerWidth:a.width,iconWidth:s.width}),v={tag:"rect",attributes:De(De({},q5),{},{fill:"white"})},g=u.children?{children:u.children.map(wC)}:{},C={tag:"g",attributes:De({},m.inner),children:[wC(De({tag:u.tag,attributes:De(De({},u.attributes),m.path)},g))]},y={tag:"g",attributes:De({},m.outer),children:[C]},H="mask-".concat(o||u3()),V="clip-".concat(o||u3()),b={tag:"mask",attributes:De(De({},q5),{},{id:H,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[v,y]},F={tag:"defs",children:[{tag:"clipPath",attributes:{id:V},children:(e=h,"g"===e.tag?e.children:[e])},b]};return i.push(F,{tag:"rect",attributes:De({fill:"currentColor","clip-path":"url(#".concat(V,")"),mask:"url(#".concat(H,")")},q5)}),{children:i,attributes:r}}}},{provides:function(t){var n=!1;Li.matchMedia&&(n=Li.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){var i=[],r={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};i.push({tag:"path",attributes:De(De({},r),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var a=De(De({},s),{},{attributeName:"opacity"}),o={tag:"circle",attributes:De(De({},r),{},{cx:"256",cy:"364",r:"28"}),children:[]};return n||o.children.push({tag:"animate",attributes:De(De({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:De(De({},a),{},{values:"1;0;1;1;0;1;"})}),i.push(o),i.push({tag:"path",attributes:De(De({},r),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:n?[]:[{tag:"animate",attributes:De(De({},a),{},{values:"1;0;0;0;0;1;"})}]}),n||i.push({tag:"path",attributes:De(De({},r),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:De(De({},a),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:i}}}},{hooks:function(){return{parseNodeAttributes:function(n,i){var r=i.getAttribute("data-fa-symbol");return n.symbol=null!==r&&(""===r||r),n}}}}],{mixoutsTo:L1});var cj=L1.parse,lj=L1.icon;const uj=["*"],hj=e=>{const t={"fa-spin":e.spin,"fa-pulse":e.pulse,"fa-fw":e.fixedWidth,"fa-border":e.border,"fa-inverse":e.inverse,"fa-layers-counter":e.counter,"fa-flip-horizontal":"horizontal"===e.flip||"both"===e.flip,"fa-flip-vertical":"vertical"===e.flip||"both"===e.flip,[`fa-${e.size}`]:null!==e.size,[`fa-rotate-${e.rotate}`]:null!==e.rotate,[`fa-pull-${e.pull}`]:null!==e.pull,[`fa-stack-${e.stackItemSize}`]:null!=e.stackItemSize};return Object.keys(t).map(n=>t[n]?n:null).filter(n=>n)};let gj=(()=>{class e{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),vj=(()=>{class e{constructor(){this.definitions={}}addIcons(...n){for(const i of n){i.prefix in this.definitions||(this.definitions[i.prefix]={}),this.definitions[i.prefix][i.iconName]=i;for(const r of i.icon[2])"string"==typeof r&&(this.definitions[i.prefix][r]=i)}}addIconPacks(...n){for(const i of n){const r=Object.keys(i).map(s=>i[s]);this.addIcons(...r)}}getIconDefinition(n,i){return n in this.definitions&&i in this.definitions[n]?this.definitions[n][i]:null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Cj=(()=>{class e{constructor(){this.stackItemSize="1x"}ngOnChanges(n){if("size"in n)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=Ue({type:e,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[_2]}),e})(),yj=(()=>{class e{constructor(n,i){this.renderer=n,this.elementRef=i}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(n){"size"in n&&(null!=n.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${n.size.currentValue}`),null!=n.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${n.size.previousValue}`))}}return e.\u0275fac=function(n){return new(n||e)(re(Vn),re(s2))},e.\u0275cmp=Kt({type:e,selectors:[["fa-stack"]],inputs:{size:"size"},features:[_2],ngContentSelectors:uj,decls:1,vars:0,template:function(n,i){1&n&&(mo(),cr(0))},encapsulation:2}),e})(),Y5=(()=>{class e{constructor(n,i,r,s,a){this.sanitizer=n,this.config=i,this.iconLibrary=r,this.stackItem=s,this.classes=[],null!=a&&null==s&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(n){if(null==this.icon&&null==this.config.fallbackIcon)return(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})();if(n){const r=this.findIconDefinition(null!=this.icon?this.icon:this.config.fallbackIcon);if(null!=r){const s=this.buildParams();this.renderIcon(r,s)}}}render(){this.ngOnChanges({})}findIconDefinition(n){const i=((e,t)=>(e=>void 0!==e.prefix&&void 0!==e.iconName)(e)?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"==typeof e?{prefix:t,iconName:e}:void 0)(n,this.config.defaultPrefix);return"icon"in i?i:this.iconLibrary.getIconDefinition(i.prefix,i.iconName)??((e=>{throw new Error(`Could not find icon with iconName=${e.iconName} and prefix=${e.prefix} in the icon library.`)})(i),null)}buildParams(){const n={flip:this.flip,spin:this.spin,pulse:this.pulse,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},i="string"==typeof this.transform?cj.transform(this.transform):this.transform;return{title:this.title,transform:i,classes:[...hj(n),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(n,i){const r=lj(n,i);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(r.html.join("\n"))}}return e.\u0275fac=function(n){return new(n||e)(re(Hv),re(gj),re(vj),re(Cj,8),re(yj,8))},e.\u0275cmp=Kt({type:e,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(n,i){2&n&&(l8("innerHTML",i.renderedIconHTML,k9),x1("title",i.title))},inputs:{icon:"icon",title:"title",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},features:[_2],decls:0,vars:0,template:function(n,i){},encapsulation:2}),e})(),HC=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=W2({type:e}),e.\u0275inj=A2({}),e})();function Be(...e){return t2(e,i4(e))}class pt extends $e{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:i}=this;if(t)throw n;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}const mc=A(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:Mj}=Array,{getPrototypeOf:_j,prototype:bj,keys:Vj}=Object;function xC(e){if(1===e.length){const t=e[0];if(Mj(t))return{args:t,keys:null};if(function Sj(e){return e&&"object"==typeof e&&_j(e)===bj}(t)){const n=Vj(t);return{args:n.map(i=>t[i]),keys:n}}}return{args:e,keys:null}}const{isArray:wj}=Array;function K5(e){return Re(t=>function Hj(e,t){return wj(t)?e(...t):e(t)}(e,t))}function zC(e,t){return e.reduce((n,i,r)=>(n[i]=t[r],n),{})}function gc(...e){const t=i4(e),n=Gf(e),{args:i,keys:r}=xC(e);if(0===i.length)return t2([],t);const s=new q(function xj(e,t,n=Ye){return i=>{LC(t,()=>{const{length:r}=e,s=new Array(r);let a=r,o=r;for(let c=0;c<r;c++)LC(t,()=>{const l=t2(e[c],t);let u=!1;l.subscribe(Je(i,f=>{s[c]=f,u||(u=!0,o--),o||i.next(n(s.slice()))},()=>{--a||i.complete()}))},i)},i)}}(i,t,r?a=>zC(r,a):Ye));return n?s.pipe(K5(n)):s}function LC(e,t,n){e?Rn(n,e,t):t()}function X5(...e){return function zj(){return Ar(1)}()(t2(e,i4(e)))}function EC(e){return new q(t=>{n1(e()).subscribe(t)})}function h3(e,t){const n=D(e)?e:()=>e,i=r=>r.error(n());return new q(t?r=>t.schedule(i,0,r):i)}function Q5(){return bt((e,t)=>{let n=null;e._refCount++;const i=Je(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const r=e._connection,s=n;n=null,r&&(!s||r===s)&&r.unsubscribe(),t.unsubscribe()});e.subscribe(i),i.closed||(n=e.connect())})}class TC extends q{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,g1(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new M;const n=this.getSubject();t.add(this.source.subscribe(Je(n,void 0,()=>{this._teardown(),n.complete()},i=>{this._teardown(),n.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=M.EMPTY)}return t}refCount(){return Q5()(this)}}function R1(e,t){return bt((n,i)=>{let r=null,s=0,a=!1;const o=()=>a&&!r&&i.complete();n.subscribe(Je(i,c=>{r?.unsubscribe();let l=0;const u=s++;n1(e(c,u)).subscribe(r=Je(i,f=>i.next(t?t(c,f,u,l++):f),()=>{r=null,o()}))},()=>{a=!0,o()}))})}function E1(e){return e<=0?()=>Bn:bt((t,n)=>{let i=0;t.subscribe(Je(n,r=>{++i<=e&&(n.next(r),e<=i&&n.complete())}))})}function S2(e,t){return bt((n,i)=>{let r=0;n.subscribe(Je(i,s=>e.call(t,s,r++)&&i.next(s)))})}function p3(e){return bt((t,n)=>{let i=!1;t.subscribe(Je(n,r=>{i=!0,n.next(r)},()=>{i||n.next(e),n.complete()}))})}function DC(e=Ej){return bt((t,n)=>{let i=!1;t.subscribe(Je(n,r=>{i=!0,n.next(r)},()=>i?n.complete():n.error(e())))})}function Ej(){return new mc}function oi(e,t){const n=arguments.length>=2;return i=>i.pipe(e?S2((r,s)=>e(r,s,i)):Ye,E1(1),n?p3(t):DC(()=>new mc))}function yr(e,t){return D(t)?y2(e,t,1):y2(e,1)}function w2(e,t,n){const i=D(e)||t||n?{next:e,error:t,complete:n}:e;return i?bt((r,s)=>{var a;null===(a=i.subscribe)||void 0===a||a.call(i);let o=!0;r.subscribe(Je(s,c=>{var l;null===(l=i.next)||void 0===l||l.call(i,c),s.next(c)},()=>{var c;o=!1,null===(c=i.complete)||void 0===c||c.call(i),s.complete()},c=>{var l;o=!1,null===(l=i.error)||void 0===l||l.call(i,c),s.error(c)},()=>{var c,l;o&&(null===(c=i.unsubscribe)||void 0===c||c.call(i)),null===(l=i.finalize)||void 0===l||l.call(i)}))}):Ye}function Ni(e){return bt((t,n)=>{let s,i=null,r=!1;i=t.subscribe(Je(n,void 0,void 0,a=>{s=n1(e(a,Ni(e)(t))),i?(i.unsubscribe(),i=null,s.subscribe(n)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(n))})}function Tj(e,t,n,i,r){return(s,a)=>{let o=n,c=t,l=0;s.subscribe(Je(a,u=>{const f=l++;c=o?e(c,u,f):(o=!0,u),i&&a.next(c)},r&&(()=>{o&&a.next(c),a.complete()})))}}function NC(e,t){return bt(Tj(e,t,arguments.length>=2,!0))}function Z5(e){return e<=0?()=>Bn:bt((t,n)=>{let i=[];t.subscribe(Je(n,r=>{i.push(r),e<i.length&&i.shift()},()=>{for(const r of i)n.next(r);n.complete()},void 0,()=>{i=null}))})}function AC(e,t){const n=arguments.length>=2;return i=>i.pipe(e?S2((r,s)=>e(r,s,i)):Ye,Z5(1),n?p3(t):DC(()=>new mc))}function J5(e){return bt((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}const ft="primary",m3=Symbol("RouteTitle");class Aj{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Ls(e){return new Aj(e)}function Pj(e,t,n){const i=n.path.split("/");if(i.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||i.length<e.length))return null;const r={};for(let s=0;s<i.length;s++){const a=i[s],o=e[s];if(a.startsWith(":"))r[a.substring(1)]=o;else if(a!==o.path)return null}return{consumed:e.slice(0,i.length),posParams:r}}function Dn(e,t){const n=e?Object.keys(e):void 0,i=t?Object.keys(t):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let s=0;s<n.length;s++)if(r=n[s],!PC(e[r],t[r]))return!1;return!0}function PC(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),i=[...t].sort();return n.every((r,s)=>i[s]===r)}return e===t}function OC(e){return Array.prototype.concat.apply([],e)}function kC(e){return e.length>0?e[e.length-1]:null}function T2(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function Ai(e){return a8(e)?e:P4(e)?t2(Promise.resolve(e)):Be(e)}const vc=!1,kj={exact:function RC(e,t,n){if(!_r(e.segments,t.segments)||!Cc(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!e.children[i]||!RC(e.children[i],t.children[i],n))return!1;return!0},subset:BC},IC={exact:function Ij(e,t){return Dn(e,t)},subset:function Fj(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>PC(e[n],t[n]))},ignored:()=>!0};function FC(e,t,n){return kj[n.paths](e.root,t.root,n.matrixParams)&&IC[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function BC(e,t,n){return $C(e,t,t.segments,n)}function $C(e,t,n,i){if(e.segments.length>n.length){const r=e.segments.slice(0,n.length);return!(!_r(r,n)||t.hasChildren()||!Cc(r,n,i))}if(e.segments.length===n.length){if(!_r(e.segments,n)||!Cc(e.segments,n,i))return!1;for(const r in t.children)if(!e.children[r]||!BC(e.children[r],t.children[r],i))return!1;return!0}{const r=n.slice(0,e.segments.length),s=n.slice(e.segments.length);return!!(_r(e.segments,r)&&Cc(e.segments,r,i)&&e.children[ft])&&$C(e.children[ft],t,s,i)}}function Cc(e,t,n){return t.every((i,r)=>IC[n](e[r].parameters,i.parameters))}class Mr{constructor(t=new dt([],{}),n={},i=null){this.root=t,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ls(this.queryParams)),this._queryParamMap}toString(){return $j.serialize(this)}}class dt{constructor(t,n){this.segments=t,this.children=n,this.parent=null,T2(n,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return yc(this)}}class g3{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Ls(this.parameters)),this._parameterMap}toString(){return GC(this)}}function _r(e,t){return e.length===t.length&&e.every((n,i)=>n.path===t[i].path)}let jC=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ie({token:e,factory:function(){return new e7},providedIn:"root"}),e})();class e7{parse(t){const n=new Qj(t);return new Mr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${v3(t.root,!0)}`,i=function Wj(e){const t=Object.keys(e).map(n=>{const i=e[n];return Array.isArray(i)?i.map(r=>`${Mc(n)}=${Mc(r)}`).join("&"):`${Mc(n)}=${Mc(i)}`}).filter(n=>!!n);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${n}${i}${"string"==typeof t.fragment?`#${function jj(e){return encodeURI(e)}(t.fragment)}`:""}`}}const $j=new e7;function yc(e){return e.segments.map(t=>GC(t)).join("/")}function v3(e,t){if(!e.hasChildren())return yc(e);if(t){const n=e.children[ft]?v3(e.children[ft],!1):"",i=[];return T2(e.children,(r,s)=>{s!==ft&&i.push(`${s}:${v3(r,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}{const n=function Bj(e,t){let n=[];return T2(e.children,(i,r)=>{r===ft&&(n=n.concat(t(i,r)))}),T2(e.children,(i,r)=>{r!==ft&&(n=n.concat(t(i,r)))}),n}(e,(i,r)=>r===ft?[v3(e.children[ft],!1)]:[`${r}:${v3(i,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[ft]?`${yc(e)}/${n[0]}`:`${yc(e)}/(${n.join("//")})`}}function UC(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Mc(e){return UC(e).replace(/%3B/gi,";")}function t7(e){return UC(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function _c(e){return decodeURIComponent(e)}function WC(e){return _c(e.replace(/\+/g,"%20"))}function GC(e){return`${t7(e.path)}${function Uj(e){return Object.keys(e).map(t=>`;${t7(t)}=${t7(e[t])}`).join("")}(e.parameters)}`}const Gj=/^[^\/()?;=#]+/;function bc(e){const t=e.match(Gj);return t?t[0]:""}const qj=/^[^=?&#]+/,Kj=/^[^&#]+/;class Qj{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new dt([],{}):new dt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(i[ft]=new dt(t,n)),i}parseSegment(){const t=bc(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new be(4009,vc);return this.capture(t),new g3(_c(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=bc(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){const r=bc(this.remaining);r&&(i=r,this.capture(i))}t[_c(n)]=_c(i)}parseQueryParam(t){const n=function Yj(e){const t=e.match(qj);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){const a=function Xj(e){const t=e.match(Kj);return t?t[0]:""}(this.remaining);a&&(i=a,this.capture(i))}const r=WC(n),s=WC(i);if(t.hasOwnProperty(r)){let a=t[r];Array.isArray(a)||(a=[a],t[r]=a),a.push(s)}else t[r]=s}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=bc(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new be(4010,vc);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=ft);const a=this.parseChildren();n[s]=1===Object.keys(a).length?a[ft]:new dt([],a),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new be(4011,vc)}}function n7(e){return e.segments.length>0?new dt([],{[ft]:e}):e}function Vc(e){const t={};for(const i of Object.keys(e.children)){const s=Vc(e.children[i]);(s.segments.length>0||s.hasChildren())&&(t[i]=s)}return function Zj(e){if(1===e.numberOfChildren&&e.children[ft]){const t=e.children[ft];return new dt(e.segments.concat(t.segments),t.children)}return e}(new dt(e.segments,t))}function br(e){return e instanceof Mr}function tU(e,t,n,i,r){if(0===n.length)return Es(t.root,t.root,t.root,i,r);const s=function KC(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new YC(!0,0,e);let t=0,n=!1;const i=e.reduce((r,s,a)=>{if("object"==typeof s&&null!=s){if(s.outlets){const o={};return T2(s.outlets,(c,l)=>{o[l]="string"==typeof c?c.split("/"):c}),[...r,{outlets:o}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===a?(s.split("/").forEach((o,c)=>{0==c&&"."===o||(0==c&&""===o?n=!0:".."===o?t++:""!=o&&r.push(o))}),r):[...r,s]},[]);return new YC(n,t,i)}(n);return s.toRoot()?Es(t.root,t.root,new dt([],{}),i,r):function a(c){const l=function iU(e,t,n,i){if(e.isAbsolute)return new Ts(t.root,!0,0);if(-1===i)return new Ts(n,n===t.root,0);return function XC(e,t,n){let i=e,r=t,s=n;for(;s>r;){if(s-=r,i=i.parent,!i)throw new be(4005,!1);r=i.segments.length}return new Ts(i,!1,r-s)}(n,i+(C3(e.commands[0])?0:1),e.numberOfDoubleDots)}(s,t,e.snapshot?._urlSegment,c),u=l.processChildren?M3(l.segmentGroup,l.index,s.commands):r7(l.segmentGroup,l.index,s.commands);return Es(t.root,l.segmentGroup,u,i,r)}(e.snapshot?._lastPathIndex)}function C3(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function y3(e){return"object"==typeof e&&null!=e&&e.outlets}function Es(e,t,n,i,r){let a,s={};i&&T2(i,(c,l)=>{s[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`}),a=e===t?n:qC(e,t,n);const o=n7(Vc(a));return new Mr(o,s,r)}function qC(e,t,n){const i={};return T2(e.children,(r,s)=>{i[s]=r===t?n:qC(r,t,n)}),new dt(e.segments,i)}class YC{constructor(t,n,i){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=i,t&&i.length>0&&C3(i[0]))throw new be(4003,!1);const r=i.find(y3);if(r&&r!==kC(i))throw new be(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ts{constructor(t,n,i){this.segmentGroup=t,this.processChildren=n,this.index=i}}function r7(e,t,n){if(e||(e=new dt([],{})),0===e.segments.length&&e.hasChildren())return M3(e,t,n);const i=function sU(e,t,n){let i=0,r=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<e.segments.length;){if(i>=n.length)return s;const a=e.segments[r],o=n[i];if(y3(o))break;const c=`${o}`,l=i<n.length-1?n[i+1]:null;if(r>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!ZC(c,l,a))return s;i+=2}else{if(!ZC(c,{},a))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(e,t,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<e.segments.length){const s=new dt(e.segments.slice(0,i.pathIndex),{});return s.children[ft]=new dt(e.segments.slice(i.pathIndex),e.children),M3(s,0,r)}return i.match&&0===r.length?new dt(e.segments,{}):i.match&&!e.hasChildren()?s7(e,t,n):i.match?M3(e,0,r):s7(e,t,n)}function M3(e,t,n){if(0===n.length)return new dt(e.segments,{});{const i=function rU(e){return y3(e[0])?e[0].outlets:{[ft]:e}}(n),r={};return T2(i,(s,a)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[a]=r7(e.children[a],t,s))}),T2(e.children,(s,a)=>{void 0===i[a]&&(r[a]=s)}),new dt(e.segments,r)}}function s7(e,t,n){const i=e.segments.slice(0,t);let r=0;for(;r<n.length;){const s=n[r];if(y3(s)){const c=aU(s.outlets);return new dt(i,c)}if(0===r&&C3(n[0])){i.push(new g3(e.segments[t].path,QC(n[0]))),r++;continue}const a=y3(s)?s.outlets[ft]:`${s}`,o=r<n.length-1?n[r+1]:null;a&&o&&C3(o)?(i.push(new g3(a,QC(o))),r+=2):(i.push(new g3(a,{})),r++)}return new dt(i,{})}function aU(e){const t={};return T2(e,(n,i)=>{"string"==typeof n&&(n=[n]),null!==n&&(t[i]=s7(new dt([],{}),0,n))}),t}function QC(e){const t={};return T2(e,(n,i)=>t[i]=`${n}`),t}function ZC(e,t,n){return e==n.path&&Dn(t,n.parameters)}class ci{constructor(t,n){this.id=t,this.url=n}}class a7 extends ci{constructor(t,n,i="imperative",r=null){super(t,n),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Vr extends ci{constructor(t,n,i){super(t,n),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Sc extends ci{constructor(t,n,i,r){super(t,n),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class JC extends ci{constructor(t,n,i,r){super(t,n),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class oU extends ci{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cU extends ci{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lU extends ci{constructor(t,n,i,r,s){super(t,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class uU extends ci{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fU extends ci{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dU{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class hU{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class pU{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mU{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gU{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vU{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ey{constructor(t,n,i){this.routerEvent=t,this.position=n,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class ty{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=o7(t,this._root);return n?n.children.map(i=>i.value):[]}firstChild(t){const n=o7(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=c7(t,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return c7(t,this._root).map(n=>n.value)}}function o7(e,t){if(e===t.value)return t;for(const n of t.children){const i=o7(e,n);if(i)return i}return null}function c7(e,t){if(e===t.value)return[t];for(const n of t.children){const i=c7(e,n);if(i.length)return i.unshift(t),i}return[]}class li{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function Ds(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class ny extends ty{constructor(t,n){super(t),this.snapshot=n,l7(this,t)}toString(){return this.snapshot.toString()}}function iy(e,t){const n=function yU(e,t){const a=new wc([],{},{},"",{},ft,t,null,e.root,-1,{});return new sy("",new li(a,[]))}(e,t),i=new pt([new g3("",{})]),r=new pt({}),s=new pt({}),a=new pt({}),o=new pt(""),c=new Ns(i,r,a,o,s,ft,t,n.root);return c.snapshot=n.root,new ny(new li(c,[]),n)}class Ns{constructor(t,n,i,r,s,a,o,c){this.url=t,this.params=n,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=a,this.component=o,this.title=this.data?.pipe(Re(l=>l[m3]))??Be(void 0),this._futureSnapshot=c}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Re(t=>Ls(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Re(t=>Ls(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ry(e,t="emptyOnly"){const n=e.pathFromRoot;let i=0;if("always"!==t)for(i=n.length-1;i>=1;){const r=n[i],s=n[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function MU(e){return e.reduce((t,n)=>({params:{...t.params,...n.params},data:{...t.data,...n.data},resolve:{...n.data,...t.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(i))}class wc{constructor(t,n,i,r,s,a,o,c,l,u,f){this.url=t,this.params=n,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=a,this.component=o,this.routeConfig=c,this._urlSegment=l,this._lastPathIndex=u,this._resolve=f}get title(){return this.data?.[m3]}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ls(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ls(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class sy extends ty{constructor(t,n){super(n),this.url=t,l7(this,n)}toString(){return ay(this._root)}}function l7(e,t){t.value._routerState=e,t.children.forEach(n=>l7(e,n))}function ay(e){const t=e.children.length>0?` { ${e.children.map(ay).join(", ")} } `:"";return`${e.value}${t}`}function u7(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Dn(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),Dn(t.params,n.params)||e.params.next(n.params),function Oj(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Dn(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),Dn(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function f7(e,t){const n=Dn(e.params,t.params)&&function Rj(e,t){return _r(e,t)&&e.every((n,i)=>Dn(n.parameters,t[i].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||f7(e.parent,t.parent))}function _3(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const i=n.value;i._futureSnapshot=t.value;const r=function bU(e,t,n){return t.children.map(i=>{for(const r of n.children)if(e.shouldReuseRoute(i.value,r.value.snapshot))return _3(e,i,r);return _3(e,i)})}(e,t,n);return new li(i,r)}{if(e.shouldAttach(t.value)){const s=e.retrieve(t.value);if(null!==s){const a=s.route;return a.value._futureSnapshot=t.value,a.children=t.children.map(o=>_3(e,o)),a}}const i=function VU(e){return new Ns(new pt(e.url),new pt(e.params),new pt(e.queryParams),new pt(e.fragment),new pt(e.data),e.outlet,e.component,e)}(t.value),r=t.children.map(s=>_3(e,s));return new li(i,r)}}const d7="ngNavigationCancelingError";function oy(e,t){const{redirectTo:n,navigationBehaviorOptions:i}=br(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=cy(!1,0,t);return r.url=n,r.navigationBehaviorOptions=i,r}function cy(e,t,n){const i=new Error("NavigationCancelingError: "+(e||""));return i[d7]=!0,i.cancellationCode=t,n&&(i.url=n),i}function ly(e){return uy(e)&&br(e.url)}function uy(e){return e&&e[d7]}class SU{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new b3,this.attachRef=null}}let b3=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,i){const r=this.getOrCreateContext(n);r.outlet=i,this.contexts.set(n,r)}onChildOutletDestroyed(n){const i=this.getContext(n);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let i=this.getContext(n);return i||(i=new SU,this.contexts.set(n,i)),i}getContext(n){return this.contexts.get(n)||null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Hc=!1;let fy=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=ft,this.activateEvents=new pe,this.deactivateEvents=new pe,this.attachEvents=new pe,this.detachEvents=new pe,this.parentContexts=ot(b3),this.location=ot(k1),this.changeDetector=ot(q4),this.environmentInjector=ot(Yn)}ngOnChanges(n){if(n.name){const{firstChange:i,previousValue:r}=n.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new be(4012,Hc);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new be(4012,Hc);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new be(4012,Hc);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,i){this.activated=n,this._activatedRoute=i,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,i){if(this.isActivated)throw new be(4013,Hc);this._activatedRoute=n;const r=this.location,a=n.snapshot.component,o=this.parentContexts.getOrCreateContext(this.name).children,c=new wU(n,o,r.injector);if(i&&function HU(e){return!!e.resolveComponentFactory}(i)){const l=i.resolveComponentFactory(a);this.activated=r.createComponent(l,r.length,c)}else this.activated=r.createComponent(a,{index:r.length,injector:c,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=Ue({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[_2]}),e})();class wU{constructor(t,n,i){this.route=t,this.childContexts=n,this.parent=i}get(t,n){return t===Ns?this.route:t===b3?this.childContexts:this.parent.get(t,n)}}let h7=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Kt({type:e,selectors:[["ng-component"]],standalone:!0,features:[v8],decls:1,vars:0,template:function(n,i){1&n&&je(0,"router-outlet")},dependencies:[fy],encapsulation:2}),e})();function dy(e,t){return e.providers&&!e._injector&&(e._injector=Vo(e.providers,t,`Route: ${e.path}`)),e._injector??t}function m7(e){const t=e.children&&e.children.map(m7),n=t?{...e,children:t}:{...e};return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==ft&&(n.component=h7),n}function B1(e){return e.outlet||ft}function hy(e,t){const n=e.filter(i=>B1(i)===t);return n.push(...e.filter(i=>B1(i)!==t)),n}function V3(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class TU{constructor(t,n,i,r){this.routeReuseStrategy=t,this.futureState=n,this.currState=i,this.forwardEvent=r}activate(t){const n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,t),u7(this.futureState.root),this.activateChildRoutes(n,i,t)}deactivateChildRoutes(t,n,i){const r=Ds(n);t.children.forEach(s=>{const a=s.value.outlet;this.deactivateRoutes(s,r[a],i),delete r[a]}),T2(r,(s,a)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,n,i){const r=t.value,s=n?n.value:null;if(r===s)if(r.component){const a=i.getContext(r.outlet);a&&this.deactivateChildRoutes(t,n,a.children)}else this.deactivateChildRoutes(t,n,i);else s&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const i=n.getContext(t.value.outlet),r=i&&t.value.component?i.children:n,s=Ds(t);for(const a of Object.keys(s))this.deactivateRouteAndItsChildren(s[a],r);if(i&&i.outlet){const a=i.outlet.detach(),o=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:a,route:t,contexts:o})}}deactivateRouteAndOutlet(t,n){const i=n.getContext(t.value.outlet),r=i&&t.value.component?i.children:n,s=Ds(t);for(const a of Object.keys(s))this.deactivateRouteAndItsChildren(s[a],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,n,i){const r=Ds(n);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new vU(s.value.snapshot))}),t.children.length&&this.forwardEvent(new mU(t.value.snapshot))}activateRoutes(t,n,i){const r=t.value,s=n?n.value:null;if(u7(r),r===s)if(r.component){const a=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,n,a.children)}else this.activateChildRoutes(t,n,i);else if(r.component){const a=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const o=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(o.contexts),a.attachRef=o.componentRef,a.route=o.route.value,a.outlet&&a.outlet.attach(o.componentRef,o.route.value),u7(o.route.value),this.activateChildRoutes(t,null,a.children)}else{const o=V3(r.snapshot),c=o?.get(es)??null;a.attachRef=null,a.route=r,a.resolver=c,a.injector=o,a.outlet&&a.outlet.activateWith(r,a.injector),this.activateChildRoutes(t,null,a.children)}}else this.activateChildRoutes(t,null,i)}}class py{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class xc{constructor(t,n){this.component=t,this.route=n}}function DU(e,t,n){const i=e._root;return S3(i,t?t._root:null,n,[i.value])}function As(e,t){const n=Symbol(),i=t.get(e,n);return i===n?"function"!=typeof e||function IE(e){return null!==ba(e)}(e)?t.get(e):e:i}function S3(e,t,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=Ds(t);return e.children.forEach(a=>{(function AU(e,t,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,a=t?t.value:null,o=n?n.getContext(e.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const c=function PU(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!_r(e.url,t.url);case"pathParamsOrQueryParamsChange":return!_r(e.url,t.url)||!Dn(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!f7(e,t)||!Dn(e.queryParams,t.queryParams);default:return!f7(e,t)}}(a,s,s.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new py(i)):(s.data=a.data,s._resolvedData=a._resolvedData),S3(e,t,s.component?o?o.children:null:n,i,r),c&&o&&o.outlet&&o.outlet.isActivated&&r.canDeactivateChecks.push(new xc(o.outlet.component,a))}else a&&w3(t,o,r),r.canActivateChecks.push(new py(i)),S3(e,null,s.component?o?o.children:null:n,i,r)})(a,s[a.value.outlet],n,i.concat([a.value]),r),delete s[a.value.outlet]}),T2(s,(a,o)=>w3(a,n.getContext(o),r)),r}function w3(e,t,n){const i=Ds(e),r=e.value;T2(i,(s,a)=>{w3(s,r.component?t?t.children.getContext(a):null:t,n)}),n.canDeactivateChecks.push(new xc(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function H3(e){return"function"==typeof e}function g7(e){return e instanceof mc||"EmptyError"===e?.name}const zc=Symbol("INITIAL_VALUE");function Ps(){return R1(e=>gc(e.map(t=>t.pipe(E1(1),function Lj(...e){const t=i4(e);return bt((n,i)=>{(t?X5(e,n,t):X5(e,n)).subscribe(i)})}(zc)))).pipe(Re(t=>{for(const n of t)if(!0!==n){if(n===zc)return zc;if(!1===n||n instanceof Mr)return n}return!0}),S2(t=>t!==zc),E1(1)))}function my(e){return E(w2(t=>{if(br(t))throw oy(0,t)}),Re(t=>!0===t))}const v7={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function gy(e,t,n,i,r){const s=C7(e,t,n);return s.matched?function ZU(e,t,n,i){const r=t.canMatch;return r&&0!==r.length?Be(r.map(a=>{const o=As(a,e);return Ai(function BU(e){return e&&H3(e.canMatch)}(o)?o.canMatch(t,n):e.runInContext(()=>o(t,n)))})).pipe(Ps(),my()):Be(!0)}(i=dy(t,i),t,n).pipe(Re(a=>!0===a?s:{...v7})):Be(s)}function C7(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{...v7}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const r=(t.matcher||Pj)(n,e,t);if(!r)return{...v7};const s={};T2(r.posParams,(o,c)=>{s[c]=o.path});const a=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:a,positionalParamSegments:r.posParams??{}}}function Lc(e,t,n,i){if(n.length>0&&function tW(e,t,n){return n.some(i=>Ec(e,t,i)&&B1(i)!==ft)}(e,n,i)){const s=new dt(t,function eW(e,t,n,i){const r={};r[ft]=i,i._sourceSegment=e,i._segmentIndexShift=t.length;for(const s of n)if(""===s.path&&B1(s)!==ft){const a=new dt([],{});a._sourceSegment=e,a._segmentIndexShift=t.length,r[B1(s)]=a}return r}(e,t,i,new dt(n,e.children)));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:[]}}if(0===n.length&&function nW(e,t,n){return n.some(i=>Ec(e,t,i))}(e,n,i)){const s=new dt(e.segments,function JU(e,t,n,i,r){const s={};for(const a of i)if(Ec(e,n,a)&&!r[B1(a)]){const o=new dt([],{});o._sourceSegment=e,o._segmentIndexShift=t.length,s[B1(a)]=o}return{...r,...s}}(e,t,n,i,e.children));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}const r=new dt(e.segments,e.children);return r._sourceSegment=e,r._segmentIndexShift=t.length,{segmentGroup:r,slicedSegments:n}}function Ec(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}function vy(e,t,n,i){return!!(B1(e)===i||i!==ft&&Ec(t,n,e))&&("**"===e.path||C7(t,e,n).matched)}function Cy(e,t,n){return 0===t.length&&!e.children[n]}const Tc=!1;class Dc{constructor(t){this.segmentGroup=t||null}}class yy{constructor(t){this.urlTree=t}}function x3(e){return h3(new Dc(e))}function My(e){return h3(new yy(e))}class aW{constructor(t,n,i,r,s){this.injector=t,this.configLoader=n,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0}apply(){const t=Lc(this.urlTree.root,[],[],this.config).segmentGroup,n=new dt(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,n,ft).pipe(Re(s=>this.createUrlTree(Vc(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ni(s=>{if(s instanceof yy)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Dc?this.noMatchError(s):s}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,ft).pipe(Re(r=>this.createUrlTree(Vc(r),t.queryParams,t.fragment))).pipe(Ni(r=>{throw r instanceof Dc?this.noMatchError(r):r}))}noMatchError(t){return new be(4002,Tc)}createUrlTree(t,n,i){const r=n7(t);return new Mr(r,n,i)}expandSegmentGroup(t,n,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,n,i).pipe(Re(s=>new dt([],s))):this.expandSegment(t,i,n,i.segments,r,!0)}expandChildren(t,n,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return t2(r).pipe(yr(s=>{const a=i.children[s],o=hy(n,s);return this.expandSegmentGroup(t,o,a,s).pipe(Re(c=>({segment:c,outlet:s})))}),NC((s,a)=>(s[a.outlet]=a.segment,s),{}),AC())}expandSegment(t,n,i,r,s,a){return t2(i).pipe(yr(o=>this.expandSegmentAgainstRoute(t,n,i,o,r,s,a).pipe(Ni(l=>{if(l instanceof Dc)return Be(null);throw l}))),oi(o=>!!o),Ni((o,c)=>{if(g7(o))return Cy(n,r,s)?Be(new dt([],{})):x3(n);throw o}))}expandSegmentAgainstRoute(t,n,i,r,s,a,o){return vy(r,n,s,a)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,n,r,s,a):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,n,i,r,s,a):x3(n):x3(n)}expandSegmentAgainstRouteUsingRedirect(t,n,i,r,s,a){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,a):this.expandRegularSegmentAgainstRouteUsingRedirect(t,n,i,r,s,a)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?My(s):this.lineralizeSegments(i,s).pipe(y2(a=>{const o=new dt(a,{});return this.expandSegment(t,o,n,a,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,n,i,r,s,a){const{matched:o,consumedSegments:c,remainingSegments:l,positionalParamSegments:u}=C7(n,r,s);if(!o)return x3(n);const f=this.applyRedirectCommands(c,r.redirectTo,u);return r.redirectTo.startsWith("/")?My(f):this.lineralizeSegments(r,f).pipe(y2(h=>this.expandSegment(t,n,i,h.concat(l),a,!1)))}matchSegmentAgainstRoute(t,n,i,r,s){return"**"===i.path?(t=dy(i,t),i.loadChildren?(i._loadedRoutes?Be({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe(Re(o=>(i._loadedRoutes=o.routes,i._loadedInjector=o.injector,new dt(r,{})))):Be(new dt(r,{}))):gy(n,i,r,t).pipe(R1(({matched:a,consumedSegments:o,remainingSegments:c})=>a?this.getChildConfig(t=i._injector??t,i,r).pipe(y2(u=>{const f=u.injector??t,h=u.routes,{segmentGroup:m,slicedSegments:v}=Lc(n,o,c,h),g=new dt(m.segments,m.children);if(0===v.length&&g.hasChildren())return this.expandChildren(f,h,g).pipe(Re(V=>new dt(o,V)));if(0===h.length&&0===v.length)return Be(new dt(o,{}));const C=B1(i)===s;return this.expandSegment(f,g,h,v,C?ft:s,!0).pipe(Re(H=>new dt(o.concat(H.segments),H.children)))})):x3(n)))}getChildConfig(t,n,i){return n.children?Be({routes:n.children,injector:t}):n.loadChildren?void 0!==n._loadedRoutes?Be({routes:n._loadedRoutes,injector:n._loadedInjector}):function QU(e,t,n,i){const r=t.canLoad;return void 0===r||0===r.length?Be(!0):Be(r.map(a=>{const o=As(a,e);return Ai(function kU(e){return e&&H3(e.canLoad)}(o)?o.canLoad(t,n):e.runInContext(()=>o(t,n)))})).pipe(Ps(),my())}(t,n,i).pipe(y2(r=>r?this.configLoader.loadChildren(t,n).pipe(w2(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function rW(e){return h3(cy(Tc,3))}())):Be({routes:[],injector:t})}lineralizeSegments(t,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Be(i);if(r.numberOfChildren>1||!r.children[ft])return h3(new be(4e3,Tc));r=r.children[ft]}}applyRedirectCommands(t,n,i){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,i)}applyRedirectCreateUrlTree(t,n,i,r){const s=this.createSegmentGroup(t,n.root,i,r);return new Mr(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const i={};return T2(t,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const o=r.substring(1);i[s]=n[o]}else i[s]=r}),i}createSegmentGroup(t,n,i,r){const s=this.createSegments(t,n.segments,i,r);let a={};return T2(n.children,(o,c)=>{a[c]=this.createSegmentGroup(t,o,i,r)}),new dt(s,a)}createSegments(t,n,i,r){return n.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,r):this.findOrReturn(s,i))}findPosParam(t,n,i){const r=i[n.path.substring(1)];if(!r)throw new be(4001,Tc);return r}findOrReturn(t,n){let i=0;for(const r of n){if(r.path===t.path)return n.splice(i),r;i++}return t}}class cW{}class fW{constructor(t,n,i,r,s,a,o){this.injector=t,this.rootComponentType=n,this.config=i,this.urlTree=r,this.url=s,this.paramsInheritanceStrategy=a,this.urlSerializer=o}recognize(){const t=Lc(this.urlTree.root,[],[],this.config.filter(n=>void 0===n.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,ft).pipe(Re(n=>{if(null===n)return null;const i=new wc([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ft,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new li(i,n),s=new sy(this.url,r);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(t){const n=t.value,i=ry(n,this.paramsInheritanceStrategy);n.params=Object.freeze(i.params),n.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,n,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,n,i):this.processSegment(t,n,i,i.segments,r)}processChildren(t,n,i){return t2(Object.keys(i.children)).pipe(yr(r=>{const s=i.children[r],a=hy(n,r);return this.processSegmentGroup(t,a,s,r)}),NC((r,s)=>r&&s?(r.push(...s),r):null),function Dj(e,t=!1){return bt((n,i)=>{let r=0;n.subscribe(Je(i,s=>{const a=e(s,r++);(a||t)&&i.next(s),!a&&i.complete()}))})}(r=>null!==r),p3(null),AC(),Re(r=>{if(null===r)return null;const s=by(r);return function dW(e){e.sort((t,n)=>t.value.outlet===ft?-1:n.value.outlet===ft?1:t.value.outlet.localeCompare(n.value.outlet))}(s),s}))}processSegment(t,n,i,r,s){return t2(n).pipe(yr(a=>this.processSegmentAgainstRoute(a._injector??t,a,i,r,s)),oi(a=>!!a),Ni(a=>{if(g7(a))return Cy(i,r,s)?Be([]):Be(null);throw a}))}processSegmentAgainstRoute(t,n,i,r,s){if(n.redirectTo||!vy(n,i,r,s))return Be(null);let a;if("**"===n.path){const o=r.length>0?kC(r).parameters:{},c=Sy(i)+r.length;a=Be({snapshot:new wc(r,o,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,wy(n),B1(n),n.component??n._loadedComponent??null,n,Vy(i),c,Hy(n)),consumedSegments:[],remainingSegments:[]})}else a=gy(i,n,r,t).pipe(Re(({matched:o,consumedSegments:c,remainingSegments:l,parameters:u})=>{if(!o)return null;const f=Sy(i)+c.length;return{snapshot:new wc(c,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,wy(n),B1(n),n.component??n._loadedComponent??null,n,Vy(i),f,Hy(n)),consumedSegments:c,remainingSegments:l}}));return a.pipe(R1(o=>{if(null===o)return Be(null);const{snapshot:c,consumedSegments:l,remainingSegments:u}=o;t=n._injector??t;const f=n._loadedInjector??t,h=function hW(e){return e.children?e.children:e.loadChildren?e._loadedRoutes:[]}(n),{segmentGroup:m,slicedSegments:v}=Lc(i,l,u,h.filter(C=>void 0===C.redirectTo));if(0===v.length&&m.hasChildren())return this.processChildren(f,h,m).pipe(Re(C=>null===C?null:[new li(c,C)]));if(0===h.length&&0===v.length)return Be([new li(c,[])]);const g=B1(n)===s;return this.processSegment(f,h,m,v,g?ft:s).pipe(Re(C=>null===C?null:[new li(c,C)]))}))}}function pW(e){const t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function by(e){const t=[],n=new Set;for(const i of e){if(!pW(i)){t.push(i);continue}const r=t.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),n.add(r)):t.push(i)}for(const i of n){const r=by(i.children);t.push(new li(i.value,r))}return t.filter(i=>!n.has(i))}function Vy(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function Sy(e){let t=e,n=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,n+=t._segmentIndexShift??0;return n-1}function wy(e){return e.data||{}}function Hy(e){return e.resolve||{}}function xy(e){return"string"==typeof e.title||null===e.title}function y7(e){return R1(t=>{const n=e(t);return n?t2(n).pipe(Re(()=>t)):Be(t)})}class bW{constructor(t){this.router=t,this.currentNavigation=null}setupNavigations(t){const n=this.router.events;return t.pipe(S2(i=>0!==i.id),Re(i=>({...i,extractedUrl:this.router.urlHandlingStrategy.extract(i.rawUrl)})),R1(i=>{let r=!1,s=!1;return Be(i).pipe(w2(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.router.lastSuccessfulNavigation?{...this.router.lastSuccessfulNavigation,previousNavigation:null}:null}}),R1(a=>{const o=this.router.browserUrlTree.toString(),c=!this.router.navigated||a.extractedUrl.toString()!==o||o!==this.router.currentUrlTree.toString();if(("reload"===this.router.onSameUrlNavigation||c)&&this.router.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return Ly(a.source)&&(this.router.browserUrlTree=a.extractedUrl),Be(a).pipe(R1(u=>{const f=this.router.transitions.getValue();return n.next(new a7(u.id,this.router.serializeUrl(u.extractedUrl),u.source,u.restoredState)),f!==this.router.transitions.getValue()?Bn:Promise.resolve(u)}),function oW(e,t,n,i){return R1(r=>function sW(e,t,n,i,r){return new aW(e,t,n,i,r).apply()}(e,t,n,r.extractedUrl,i).pipe(Re(s=>({...r,urlAfterRedirects:s}))))}(this.router.ngModule.injector,this.router.configLoader,this.router.urlSerializer,this.router.config),w2(u=>{this.currentNavigation={...this.currentNavigation,finalUrl:u.urlAfterRedirects},i.urlAfterRedirects=u.urlAfterRedirects}),function gW(e,t,n,i,r){return y2(s=>function uW(e,t,n,i,r,s,a="emptyOnly"){return new fW(e,t,n,i,r,a,s).recognize().pipe(R1(o=>null===o?function lW(e){return new q(t=>t.error(e))}(new cW):Be(o)))}(e,t,n,s.urlAfterRedirects,i.serialize(s.urlAfterRedirects),i,r).pipe(Re(a=>({...s,targetSnapshot:a}))))}(this.router.ngModule.injector,this.router.rootComponentType,this.router.config,this.router.urlSerializer,this.router.paramsInheritanceStrategy),w2(u=>{if(i.targetSnapshot=u.targetSnapshot,"eager"===this.router.urlUpdateStrategy){if(!u.extras.skipLocationChange){const h=this.router.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl);this.router.setBrowserUrl(h,u)}this.router.browserUrlTree=u.urlAfterRedirects}const f=new oU(u.id,this.router.serializeUrl(u.extractedUrl),this.router.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);n.next(f)}));if(c&&this.router.rawUrlTree&&this.router.urlHandlingStrategy.shouldProcessUrl(this.router.rawUrlTree)){const{id:f,extractedUrl:h,source:m,restoredState:v,extras:g}=a,C=new a7(f,this.router.serializeUrl(h),m,v);n.next(C);const y=iy(h,this.router.rootComponentType).snapshot;return Be(i={...a,targetSnapshot:y,urlAfterRedirects:h,extras:{...g,skipLocationChange:!1,replaceUrl:!1}})}return this.router.rawUrlTree=a.rawUrl,a.resolve(null),Bn}),w2(a=>{const o=new cU(a.id,this.router.serializeUrl(a.extractedUrl),this.router.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.router.triggerEvent(o)}),Re(a=>i={...a,guards:DU(a.targetSnapshot,a.currentSnapshot,this.router.rootContexts)}),function jU(e,t){return y2(n=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:a}}=n;return 0===a.length&&0===s.length?Be({...n,guardsResult:!0}):function UU(e,t,n,i){return t2(e).pipe(y2(r=>function XU(e,t,n,i,r){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?Be(s.map(o=>{const c=V3(t)??r,l=As(o,c);return Ai(function RU(e){return e&&H3(e.canDeactivate)}(l)?l.canDeactivate(e,t,n,i):c.runInContext(()=>l(e,t,n,i))).pipe(oi())})).pipe(Ps()):Be(!0)}(r.component,r.route,n,t,i)),oi(r=>!0!==r,!0))}(a,i,r,e).pipe(y2(o=>o&&function OU(e){return"boolean"==typeof e}(o)?function WU(e,t,n,i){return t2(t).pipe(yr(r=>X5(function qU(e,t){return null!==e&&t&&t(new pU(e)),Be(!0)}(r.route.parent,i),function GU(e,t){return null!==e&&t&&t(new gU(e)),Be(!0)}(r.route,i),function KU(e,t,n){const i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(a=>function NU(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(a)).filter(a=>null!==a).map(a=>EC(()=>Be(a.guards.map(c=>{const l=V3(a.node)??n,u=As(c,l);return Ai(function FU(e){return e&&H3(e.canActivateChild)}(u)?u.canActivateChild(i,e):l.runInContext(()=>u(i,e))).pipe(oi())})).pipe(Ps())));return Be(s).pipe(Ps())}(e,r.path,n),function YU(e,t,n){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return Be(!0);const r=i.map(s=>EC(()=>{const a=V3(t)??n,o=As(s,a);return Ai(function IU(e){return e&&H3(e.canActivate)}(o)?o.canActivate(t,e):a.runInContext(()=>o(t,e))).pipe(oi())}));return Be(r).pipe(Ps())}(e,r.route,n))),oi(r=>!0!==r,!0))}(i,s,e,t):Be(o)),Re(o=>({...n,guardsResult:o})))})}(this.router.ngModule.injector,a=>this.router.triggerEvent(a)),w2(a=>{if(i.guardsResult=a.guardsResult,br(a.guardsResult))throw oy(0,a.guardsResult);const o=new lU(a.id,this.router.serializeUrl(a.extractedUrl),this.router.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.router.triggerEvent(o)}),S2(a=>!!a.guardsResult||(this.router.restoreHistory(a),this.router.cancelNavigationTransition(a,"",3),!1)),y7(a=>{if(a.guards.canActivateChecks.length)return Be(a).pipe(w2(o=>{const c=new uU(o.id,this.router.serializeUrl(o.extractedUrl),this.router.serializeUrl(o.urlAfterRedirects),o.targetSnapshot);this.router.triggerEvent(c)}),R1(o=>{let c=!1;return Be(o).pipe(function vW(e,t){return y2(n=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return Be(n);let s=0;return t2(r).pipe(yr(a=>function CW(e,t,n,i){const r=e.routeConfig,s=e._resolve;return void 0!==r?.title&&!xy(r)&&(s[m3]=r.title),function yW(e,t,n,i){const r=function MW(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===r.length)return Be({});const s={};return t2(r).pipe(y2(a=>function _W(e,t,n,i){const r=V3(t)??i,s=As(e,r);return Ai(s.resolve?s.resolve(t,n):r.runInContext(()=>s(t,n)))}(e[a],t,n,i).pipe(oi(),w2(o=>{s[a]=o}))),Z5(1),function Nj(e){return Re(()=>e)}(s),Ni(a=>g7(a)?Bn:h3(a)))}(s,e,t,i).pipe(Re(a=>(e._resolvedData=a,e.data=ry(e,n).resolve,r&&xy(r)&&(e.data[m3]=r.title),null)))}(a.route,i,e,t)),w2(()=>s++),Z5(1),y2(a=>s===r.length?Be(n):Bn))})}(this.router.paramsInheritanceStrategy,this.router.ngModule.injector),w2({next:()=>c=!0,complete:()=>{c||(this.router.restoreHistory(o),this.router.cancelNavigationTransition(o,"",2))}}))}),w2(o=>{const c=new fU(o.id,this.router.serializeUrl(o.extractedUrl),this.router.serializeUrl(o.urlAfterRedirects),o.targetSnapshot);this.router.triggerEvent(c)}))}),y7(a=>{const o=c=>{const l=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&l.push(this.router.configLoader.loadComponent(c.routeConfig).pipe(w2(u=>{c.component=u}),Re(()=>{})));for(const u of c.children)l.push(...o(u));return l};return gc(o(a.targetSnapshot.root)).pipe(p3(),E1(1))}),y7(()=>this.router.afterPreactivation()),Re(a=>{const o=function _U(e,t,n){const i=_3(e,t._root,n?n._root:void 0);return new ny(i,t)}(this.router.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return i={...a,targetRouterState:o}}),w2(a=>{this.router.currentUrlTree=a.urlAfterRedirects,this.router.rawUrlTree=this.router.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.router.routerState=a.targetRouterState,"deferred"===this.router.urlUpdateStrategy&&(a.extras.skipLocationChange||this.router.setBrowserUrl(this.router.rawUrlTree,a),this.router.browserUrlTree=a.urlAfterRedirects)}),((e,t,n)=>Re(i=>(new TU(t,i.targetRouterState,i.currentRouterState,n).activate(e),i)))(this.router.rootContexts,this.router.routeReuseStrategy,a=>this.router.triggerEvent(a)),w2({next(){r=!0},complete(){r=!0}}),J5(()=>{r||s||this.router.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),Ni(a=>{if(s=!0,uy(a)){ly(a)||(this.router.navigated=!0,this.router.restoreHistory(i,!0));const o=new Sc(i.id,this.router.serializeUrl(i.extractedUrl),a.message,a.cancellationCode);if(n.next(o),ly(a)){const c=this.router.urlHandlingStrategy.merge(a.url,this.router.rawUrlTree),l={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.router.urlUpdateStrategy||Ly(i.source)};this.router.scheduleNavigation(c,"imperative",null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.router.restoreHistory(i,!0);const o=new JC(i.id,this.router.serializeUrl(i.extractedUrl),a,i.targetSnapshot??void 0);n.next(o);try{i.resolve(this.router.errorHandler(a))}catch(c){i.reject(c)}}return Bn}))}))}}function Ly(e){return"imperative"!==e}let Ey=(()=>{class e{buildTitle(n){let i,r=n.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===ft);return i}getResolvedTitleForRoute(n){return n.data[m3]}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ie({token:e,factory:function(){return ot(VW)},providedIn:"root"}),e})(),VW=(()=>{class e extends Ey{constructor(n){super(),this.title=n}updateTitle(n){const i=this.buildTitle(n);void 0!==i&&this.title.setTitle(i)}}return e.\u0275fac=function(n){return new(n||e)(Ae(Vv))},e.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),SW=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ie({token:e,factory:function(){return ot(HW)},providedIn:"root"}),e})();class wW{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}let HW=(()=>{class e extends wW{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=E2(e)))(i||e)}}(),e.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Nc=new Pe("",{providedIn:"root",factory:()=>({})}),Os=new Pe("ROUTES");let M7=(()=>{class e{constructor(n,i){this.injector=n,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Be(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const i=Ai(n.loadComponent()).pipe(Re(Dy),w2(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),J5(()=>{this.componentLoaders.delete(n)})),r=new TC(i,()=>new $e).pipe(Q5());return this.componentLoaders.set(n,r),r}loadChildren(n,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Be({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe(Re(o=>{this.onLoadEndListener&&this.onLoadEndListener(i);let c,l,u=!1;Array.isArray(o)?l=o:(c=o.create(n).injector,l=OC(c.get(Os,[],qe.Self|qe.Optional)));return{routes:l.map(m7),injector:c}}),J5(()=>{this.childrenLoaders.delete(i)})),a=new TC(s,()=>new $e).pipe(Q5());return this.childrenLoaders.set(i,a),a}loadModuleFactoryOrRoutes(n){return Ai(n()).pipe(Re(Dy),y2(r=>r instanceof vm||Array.isArray(r)?Be(r):t2(this.compiler.compileModuleAsync(r))))}}return e.\u0275fac=function(n){return new(n||e)(Ae(b2),Ae(A8))},e.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Dy(e){return function LW(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let EW=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ie({token:e,factory:function(){return ot(TW)},providedIn:"root"}),e})(),TW=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,i){return n}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function DW(e){throw e}function NW(e,t,n){return t.parse("/")}const AW={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},PW={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Ay(){const e=ot(jC),t=ot(b3),n=ot(K8),i=ot(b2),r=ot(A8),s=ot(Os,{optional:!0})??[],a=ot(Nc,{optional:!0})??{},o=new $2(null,e,t,n,i,r,OC(s));return function OW(e,t){e.errorHandler&&(t.errorHandler=e.errorHandler),e.malformedUriErrorHandler&&(t.malformedUriErrorHandler=e.malformedUriErrorHandler),e.onSameUrlNavigation&&(t.onSameUrlNavigation=e.onSameUrlNavigation),e.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=e.paramsInheritanceStrategy),e.urlUpdateStrategy&&(t.urlUpdateStrategy=e.urlUpdateStrategy),e.canceledNavigationResolution&&(t.canceledNavigationResolution=e.canceledNavigationResolution)}(a,o),o}let $2=(()=>{class e{constructor(n,i,r,s,a,o,c){this.rootComponentType=n,this.urlSerializer=i,this.rootContexts=r,this.location=s,this.config=c,this.lastSuccessfulNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new $e,this.errorHandler=DW,this.malformedUriErrorHandler=NW,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>Be(void 0),this.urlHandlingStrategy=ot(EW),this.routeReuseStrategy=ot(SW),this.titleStrategy=ot(Ey),this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.canceledNavigationResolution="replace",this.navigationTransitions=new bW(this),this.configLoader=a.get(M7),this.configLoader.onLoadEndListener=h=>this.triggerEvent(new hU(h)),this.configLoader.onLoadStartListener=h=>this.triggerEvent(new dU(h)),this.ngModule=a.get(ur),this.console=a.get(CI);const f=a.get(Gt);this.isNgZoneEnabled=f instanceof Gt&&Gt.isInAngularZone(),this.resetConfig(c),this.currentUrlTree=new Mr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=iy(this.currentUrlTree,this.rootComponentType),this.transitions=new pt({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.navigationTransitions.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}resetRootComponentType(n){this.rootComponentType=n,this.routerState.root.component=this.rootComponentType}setTransition(n){this.transitions.next({...this.transitions.value,...n})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const i="popstate"===n.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},s=n.state?.navigationId?n.state:null;if(n.state){const o={...n.state};delete o.navigationId,delete o.\u0275routerPageId,0!==Object.keys(o).length&&(r.state=o)}const a=this.parseUrl(n.url);this.scheduleNavigation(a,i,s,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}triggerEvent(n){this.events.next(n)}resetConfig(n){this.config=n.map(m7),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,i={}){const{relativeTo:r,queryParams:s,fragment:a,queryParamsHandling:o,preserveFragment:c}=i,l=r||this.routerState.root,u=c?this.currentUrlTree.fragment:a;let f=null;switch(o){case"merge":f={...this.currentUrlTree.queryParams,...s};break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=s||null}return null!==f&&(f=this.removeEmptyProps(f)),tU(l,this.currentUrlTree,n,f,u??null)}navigateByUrl(n,i={skipLocationChange:!1}){const r=br(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,i)}navigate(n,i={skipLocationChange:!1}){return function kW(e){for(let t=0;t<e.length;t++){if(null==e[t])throw new be(4008,!1)}}(n),this.navigateByUrl(this.createUrlTree(n,i),i)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let i;try{i=this.urlSerializer.parse(n)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,n)}return i}isActive(n,i){let r;if(r=!0===i?{...AW}:!1===i?{...PW}:i,br(n))return FC(this.currentUrlTree,n,r);const s=this.parseUrl(n);return FC(this.currentUrlTree,s,r)}removeEmptyProps(n){return Object.keys(n).reduce((i,r)=>{const s=n[r];return null!=s&&(i[r]=s),i},{})}processNavigations(){this.navigations.subscribe(n=>{this.navigated=!0,this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId,this.events.next(new Vr(n.id,this.serializeUrl(n.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.getCurrentNavigation(),this.titleStrategy?.updateTitle(this.routerState.snapshot),n.resolve(!0)},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}scheduleNavigation(n,i,r,s,a){if(this.disposed)return Promise.resolve(!1);let o,c,l;a?(o=a.resolve,c=a.reject,l=a.promise):l=new Promise((h,m)=>{o=h,c=m});const u=++this.navigationId;let f;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),f=r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):f=0,this.setTransition({id:u,targetPageId:f,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,rawUrl:n,extras:s,resolve:o,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}setBrowserUrl(n,i){const r=this.urlSerializer.serialize(n),s={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(n,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===r?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===r&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(n,i,r){const s=new Sc(n.id,this.serializeUrl(n.extractedUrl),i,r);this.triggerEvent(s),n.resolve(!1)}generateNgRouterState(n,i){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:i}:{navigationId:n}}}return e.\u0275fac=function(n){D0()},e.\u0275prov=Ie({token:e,factory:function(){return Ay()},providedIn:"root"}),e})();class Py{}let RW=(()=>{class e{constructor(n,i,r,s,a){this.router=n,this.injector=r,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(S2(n=>n instanceof Vr),yr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=Vo(s.providers,n,`Route: ${s.path}`));const a=s._injector??n,o=s._loadedInjector??a;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?r.push(this.preloadConfig(a,s)):(s.children||s._loadedRoutes)&&r.push(this.processRoutes(o,s.children??s._loadedRoutes))}return t2(r).pipe(Ar())}preloadConfig(n,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(n,i):Be(null);const s=r.pipe(y2(a=>null===a?Be(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??n,a.routes))));return i.loadComponent&&!i._loadedComponent?t2([s,this.loader.loadComponent(i)]).pipe(Ar()):s})}}return e.\u0275fac=function(n){return new(n||e)(Ae($2),Ae(A8),Ae(Yn),Ae(Py),Ae(M7))},e.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const b7=new Pe("");let Oy=(()=>{class e{constructor(n,i,r,s={}){this.router=n,this.viewportScroller=i,this.zone=r,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(n=>{n instanceof a7?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Vr&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.router.parseUrl(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(n=>{n instanceof ey&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.router.triggerEvent(new ey(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return e.\u0275fac=function(n){D0()},e.\u0275prov=Ie({token:e,factory:e.\u0275fac}),e})();function Is(e,t){return{\u0275kind:e,\u0275providers:t}}function Iy(){const e=ot(b2);return t=>{const n=e.get(bs);if(t!==n.components[0])return;const i=e.get($2),r=e.get(Fy);1===e.get(S7)&&i.initialNavigation(),e.get(Ry,null,qe.Optional)?.setUpPreloading(),e.get(b7,null,qe.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.unsubscribe())}}const Fy=new Pe("",{factory:()=>new $e}),S7=new Pe("",{providedIn:"root",factory:()=>1});const Ry=new Pe("");function WW(e){return Is(0,[{provide:Ry,useExisting:RW},{provide:Py,useExisting:e}])}const By=new Pe("ROUTER_FORROOT_GUARD"),GW=[K8,{provide:jC,useClass:e7},{provide:$2,useFactory:Ay},b3,{provide:Ns,useFactory:function ky(e){return e.routerState.root},deps:[$2]},M7,[]];function qW(){return new dg("Router",$2)}let $y=(()=>{class e{constructor(n){}static forRoot(n,i){return{ngModule:e,providers:[GW,[],{provide:Os,multi:!0,useValue:n},{provide:By,useFactory:QW,deps:[[$2,new M4,new _4]]},{provide:Nc,useValue:i||{}},i?.useHash?{provide:dr,useClass:sF}:{provide:dr,useClass:Og},{provide:b7,useFactory:()=>{const e=ot($2),t=ot(_R),n=ot(Gt),i=ot(Nc);return i.scrollOffset&&t.setOffset(i.scrollOffset),new Oy(e,t,n,i)}},i?.preloadingStrategy?WW(i.preloadingStrategy).\u0275providers:[],{provide:dg,multi:!0,useFactory:qW},i?.initialNavigation?ZW(i):[],[{provide:jy,useFactory:Iy},{provide:sg,multi:!0,useExisting:jy}]]}}static forChild(n){return{ngModule:e,providers:[{provide:Os,multi:!0,useValue:n}]}}}return e.\u0275fac=function(n){return new(n||e)(Ae(By,8))},e.\u0275mod=W2({type:e}),e.\u0275inj=A2({imports:[h7]}),e})();function QW(e){return"guarded"}function ZW(e){return["disabled"===e.initialNavigation?Is(3,[{provide:xo,multi:!0,useFactory:()=>{const t=ot($2);return()=>{t.setUpLocationChangeListener()}}},{provide:S7,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?Is(2,[{provide:S7,useValue:0},{provide:xo,multi:!0,deps:[b2],useFactory:t=>{const n=t.get(iF,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const s=t.get($2),a=t.get(Fy);(function i(r){t.get($2).events.pipe(S2(a=>a instanceof Vr||a instanceof Sc||a instanceof JC),Re(a=>a instanceof Vr||a instanceof Sc&&(0===a.code||1===a.code)&&null),S2(a=>null!==a),E1(1)).subscribe(()=>{r()})})(()=>{r(!0)}),s.afterPreactivation=()=>(r(!0),a.closed?Be(void 0):a),s.initialNavigation()}))}}]).\u0275providers:[]]}const jy=new Pe("");function Uy(e,t,n,i,r,s,a){try{var o=e[s](a),c=o.value}catch(l){return void n(l)}o.done?t(c):Promise.resolve(c).then(i,r)}function Sr(e){return function(){var t=this,n=arguments;return new Promise(function(i,r){var s=e.apply(t,n);function a(c){Uy(s,i,r,a,o,"next",c)}function o(c){Uy(s,i,r,a,o,"throw",c)}a(void 0)})}}var UV={prefix:"fas",iconName:"floppy-disk",icon:[448,512,[128190,128426,"save"],"f0c7","M64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V173.3c0-17-6.7-33.3-18.7-45.3L352 50.7C340 38.7 323.7 32 306.7 32H64zm0 96c0-17.7 14.3-32 32-32H288c17.7 0 32 14.3 32 32v64c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32V128zM224 416c-35.3 0-64-28.7-64-64s28.7-64 64-64s64 28.7 64 64s-28.7 64-64 64z"]},bS={prefix:"fas",iconName:"arrow-rotate-left",icon:[512,512,[8634,"arrow-left-rotate","arrow-rotate-back","arrow-rotate-backward","undo"],"f0e2","M125.7 160H176c17.7 0 32 14.3 32 32s-14.3 32-32 32H48c-17.7 0-32-14.3-32-32V64c0-17.7 14.3-32 32-32s32 14.3 32 32v51.2L97.6 97.6c87.5-87.5 229.3-87.5 316.8 0s87.5 229.3 0 316.8s-229.3 87.5-316.8 0c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0c62.5 62.5 163.8 62.5 226.3 0s62.5-163.8 0-226.3s-163.8-62.5-226.3 0L125.7 160z"]},K7={prefix:"fas",iconName:"gear",icon:[512,512,[9881,"cog"],"f013","M495.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4L83.1 425.9c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4C64.6 273.1 64 264.6 64 256s.6-17.1 1.7-25.4L22.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9-16.3 18.2-17.8C227.3 1.2 241.5 0 256 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336c44.2 0 80-35.8 80-80s-35.8-80-80-80s-80 35.8-80 80s35.8 80 80 80z"]},xw={prefix:"fas",iconName:"play",icon:[384,512,[9654],"f04b","M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80V432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"]},Dw={prefix:"fas",iconName:"chevron-down",icon:[512,512,[],"f078","M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"]},uu={prefix:"fas",iconName:"bahai",icon:[576,512,["haykal"],"f666","M288 0c14.5 0 27.2 9.7 30.9 23.8l23.9 89.6 75.9-53.3c11.9-8.3 27.8-7.6 39 1.7s14.6 24.9 8.4 38.1l-39.3 84 92.4 8c14.4 1.2 26.2 12 28.8 26.3s-4.9 28.5-18 34.6l-84.1 39.1 65.7 65.5c10.3 10.2 12.4 26.1 5.1 38.7s-22 18.7-36 14.9L391 386.8l8.2 92.4c1.3 14.4-7.3 27.9-20.9 32.9s-28.9 .1-37.2-11.7l-53.1-76-53.1 76c-8.3 11.9-23.6 16.7-37.2 11.7s-22.2-18.5-20.9-32.9l8.2-92.4L95.4 410.9c-14 3.8-28.8-2.3-36-14.9s-5.2-28.4 5.1-38.7l65.7-65.5L46 252.7c-13.1-6.1-20.5-20.3-18-34.6s14.3-25.1 28.8-26.3l92.4-8-39.3-84c-6.1-13.1-2.7-28.8 8.4-38.1s27.1-10 39-1.7l75.9 53.3 23.9-89.6C260.8 9.7 273.5 0 288 0zm0 156.2l-4.8 18c-2.7 10.1-10.2 18.2-20 21.8s-20.8 2.1-29.3-3.9l-15.2-10.7 7.9 16.8c4.4 9.5 4 20.5-1.3 29.6s-14.5 15-25 15.9l-18.5 1.6 16.8 7.8c9.5 4.4 16.2 13.2 18 23.5s-1.5 20.8-8.9 28.2l-13.2 13.1 17.9-4.8c10.1-2.7 20.9-.3 28.9 6.4s12.2 16.9 11.3 27.3l-1.6 18.5 10.6-15.2c6-8.6 15.8-13.7 26.2-13.7s20.2 5.1 26.2 13.7l10.6 15.2-1.6-18.5c-.9-10.4 3.3-20.6 11.3-27.3s18.8-9.1 28.9-6.4l17.9 4.8-13.2-13.1c-7.4-7.4-10.7-17.9-8.9-28.2s8.5-19.1 18-23.5l16.8-7.8-18.5-1.6c-10.4-.9-19.7-6.8-25-15.9s-5.7-20.1-1.3-29.6l7.9-16.8-15.2 10.7c-8.6 6-19.5 7.5-29.3 3.9s-17.3-11.7-20-21.8l-4.8-18z"]},ex={prefix:"fas",iconName:"dice",icon:[640,512,[127922],"f522","M252.3 11.7c-15.6-15.6-40.9-15.6-56.6 0l-184 184c-15.6 15.6-15.6 40.9 0 56.6l184 184c15.6 15.6 40.9 15.6 56.6 0l184-184c15.6-15.6 15.6-40.9 0-56.6l-184-184zM248 224c0 13.3-10.7 24-24 24s-24-10.7-24-24s10.7-24 24-24s24 10.7 24 24zM96 248c-13.3 0-24-10.7-24-24s10.7-24 24-24s24 10.7 24 24s-10.7 24-24 24zm128 80c13.3 0 24 10.7 24 24s-10.7 24-24 24s-24-10.7-24-24s10.7-24 24-24zm128-80c-13.3 0-24-10.7-24-24s10.7-24 24-24s24 10.7 24 24s-10.7 24-24 24zM224 72c13.3 0 24 10.7 24 24s-10.7 24-24 24s-24-10.7-24-24s10.7-24 24-24zm96 392c0 26.5 21.5 48 48 48H592c26.5 0 48-21.5 48-48V240c0-26.5-21.5-48-48-48H472.5c13.4 26.9 8.8 60.5-13.6 82.9L320 413.8V464zm160-88c-13.3 0-24-10.7-24-24s10.7-24 24-24s24 10.7 24 24s-10.7 24-24 24z"]};const Mue=["addListener","removeListener"],_ue=["addEventListener","removeEventListener"],bue=["on","off"];function Nn(e,t,n,i){if(D(n)&&(i=n,n=void 0),i)return Nn(e,t,n).pipe(K5(i));const[r,s]=function wue(e){return D(e.addEventListener)&&D(e.removeEventListener)}(e)?_ue.map(a=>o=>e[a](t,o,n)):function Vue(e){return D(e.addListener)&&D(e.removeListener)}(e)?Mue.map(Mx(e,t)):function Sue(e){return D(e.on)&&D(e.off)}(e)?bue.map(Mx(e,t)):[];if(!r&&rl(e))return y2(a=>Nn(a,t,n))(n1(e));if(!r)throw new TypeError("Invalid event target");return new q(a=>{const o=(...c)=>a.next(1<c.length?c:c[0]);return r(o),()=>s(o)})}function Mx(e,t){return n=>i=>e[n](t,i)}class Hue extends M{constructor(t,n){super()}schedule(t,n=0){return this}}const Xc={setInterval(e,t,...n){const{delegate:i}=Xc;return i?.setInterval?i.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){const{delegate:t}=Xc;return(t?.clearInterval||clearInterval)(e)},delegate:void 0},_x={now:()=>(_x.delegate||Date).now(),delegate:void 0};class A3{constructor(t,n=A3.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,i){return new this.schedulerActionCtor(this,t).schedule(i,n)}}A3.now=_x.now;const yu=new class zue extends A3{constructor(t,n=A3.now){super(t,n),this.actions=[],this._active=!1}flush(t){const{actions:n}=this;if(this._active)return void n.push(t);let i;this._active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=n.shift());if(this._active=!1,i){for(;t=n.shift();)t.unsubscribe();throw i}}}(class xue extends Hue{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var i;if(this.closed)return this;this.state=t;const r=this.id,s=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(s,r,n)),this.pending=!0,this.delay=n,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(s,this.id,n),this}requestAsyncId(t,n,i=0){return Xc.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,n,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return n;null!=n&&Xc.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,n);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let r,i=!1;try{this.work(t)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:t,scheduler:n}=this,{actions:i}=n;this.work=this.state=this.scheduler=null,this.pending=!1,x(i,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}}),Lue=yu;function Mu(e){return new Promise(t=>setTimeout(t,e))}var Fe=(()=>{return(e=Fe||(Fe={})).ELEMENT="element",e.VOICE="voice",e.TEXT="#text",e.TIP="tip",e.PASSIVE_CHECK="passive-check",e.TUTORIAL="tutorial",e.ACT="act",e.STRONG="strong",e.LOCK="lock",e.DIVIDER="divider",e.REASON="reason",e.ACTIVE_CHECK="active-check",e.ACTIVE_RESULT="active-result",e.STATS_MENU="stats-menu",e.NAMING_MENU="naming-menu",e.MARKING_MENU="marking-menu",e.HIDDEN="hidden",e.TOT="tot",e.CONTINUE="continue",e.STAT_BOX="stat-box",e.MOOD="mood",e.ITEM="item",e.OBJECTIVE="objective",e.GENERIC="*",Fe;var e})();class bx{constructor(t,n){this.name=t,this.value=n,this.kind="none"}}class Vx{constructor(t){this._params=new Map;for(const n of t)this._params.set(n.name,n)}get(t){return this._params.get(t)?.value??null}}class J2{constructor(t,n){this.name=t,this.childNodes=n}displayChildNodes(){return this.childNodes.reduce((t,n)=>`${t}${n.display()}`,"")}display(){return this.displayChildNodes()}}class Due extends J2{constructor(t,n=null,i){super(t,i),this.kind=Fe.VOICE;const r=n?.get("id");if(!r)throw new u1(t,n);this.voiceName=r}}class Nue extends J2{constructor(t,n=null,i){super(t,i),this.kind=Fe.TIP;const r=n?.get("id");if(!r)throw new u1(t,n);this.tipID=r}display(){let t="";return t=`<span class='tip' tippy='${this.tipID}'>${this.displayChildNodes()}</span>`,t}}class Sx extends J2{constructor(t,n=null,i){super(t,i),this.kind=Fe.TEXT;const r=n?.get("value");if(!r)throw new u1(t,n);this.value=r}}class Aue extends J2{constructor(t,n=null,i){super(t,i),this.kind=Fe.PASSIVE_CHECK;const r=n?.get("stat"),s=n?.get("difficulty"),a=n?.get("result"),o=n?.get("player-stat"),c=n?.get("required-stat");if(!(r&&s&&a&&o&&c))throw new u1(t,n);this.stat=r,this.difficulty=s,this.result="true"==a,this.playerStat=o,this.requiredStat=c}}class Pue extends J2{constructor(t,n=null,i){super(t,i),this.kind=Fe.TUTORIAL;const r=n?.get("id");if(!r)throw new u1(t,n);this.tutorialID=r}}class Oue extends J2{constructor(t,n=null,i){super(t,i),this.kind=Fe.ACT;const r=n?.get("id");if(!r)throw new u1(t,n);this.actID=r}}class kue extends J2{constructor(t,n=null,i){super(t,i),this.kind=Fe.LOCK;const r=n?.get("status");if(!r)throw new u1(t,n);this.status="true"==r,this.markingLock=r.startsWith("marking")}}class Iue extends J2{constructor(t,n=null,i){super(t,i),this.kind=Fe.REASON;const r=n?.get("text");if(!r)throw new u1(t,n);this.text=r}}class Fue extends J2{constructor(t,n=null,i){super(t,i),this.kind=Fe.ACTIVE_CHECK;const r=n?.get("stat"),s=n?.get("odds");if(!r||!s)throw new u1(t,n);this.stat=r,this.odds=Math.round(parseFloat(s)).toString()}}class Rue extends J2{constructor(t,n=null,i){super(t,i),this.kind=Fe.ACTIVE_RESULT;const r=n?.get("stat"),s=n?.get("difficulty"),a=n?.get("result"),o=n?.get("player-stat"),c=n?.get("required-stat");if(!(r&&s&&a&&o&&c))throw new u1(t,n);this.stat=r,this.difficulty=s,this.result="true"===a,this.playerStat=o,this.requiredStat=c}}class Bue extends J2{constructor(t,n=null,i){super(t,i),this.kind=Fe.TOT;const r=n?.get("opening");if(null==r)throw new u1(t,n);this.opening="true"==r}}class $ue extends J2{constructor(t,n=null,i){super(t,i),this.kind=Fe.STAT_BOX;const r=n?.get("stat"),s=n?.get("extra");if(!r||!s)throw new u1(t,n);this.stat=r,this.extra=s}}class jue extends J2{constructor(t,n=null,i){super(t,i),this.kind=Fe.MOOD;const r=n?.get("kind"),s=n?.get("npc");if(!r||!s)throw new u1(t,n);this.moodKind=r,this.npc=s,this.positive=-1!=this.moodKind.indexOf("+")}}class Uue extends J2{constructor(t,n=null,i){super(t,i),this.kind=Fe.ITEM;const r=n?.get("id");if(!r)throw new u1(t,n);this.id=r}}class ui extends J2{constructor(t,n=null,i){super(t,i),this.kind=Fe.GENERIC,"strong"==t&&console.log(t,i)}}class u1 extends Error{constructor(t,n){super(`invalid tag parameters ${t} > ${n}`)}}class _u{constructor(t,n){this.text=t,this.direction=n}}class wx{constructor(t,n,i=!1){this.text=t,this.index=n,this.visited=i,this.locked=!1,this.reasons=[],this.actID="",this.hidden=!1,this.isContinue=!1,this.recentlyUnlocked=!1;for(const r of t.elements){if(r.kind===Fe.LOCK&&(this.locked=!0===r.status||!0===r.markingLock,r.markingLock&&this.reasons.push(new _u("Your marking does not allow you to pick this option.",0))),r.kind===Fe.REASON){let s=0;r.text.trimLeft().startsWith("+")?s=1:r.text.trimLeft().startsWith("-")&&(s=-1),this.reasons.push(new _u(r.text,s))}(r.kind===Fe.TEXT&&"REFRESH"===r.value||r.name==Fe.HIDDEN)&&(this.hidden=!0),r.kind===Fe.ACT&&(this.actID=r.actID),r.name===Fe.CONTINUE&&(this.isContinue=!0)}this.locked&&0==this.reasons.length&&this.reasons.push(new _u("This choice is unavailable right now.",0))}}class Qc{constructor(t){if(this.voice=null,this.passiveResult=null,this.activeResult=null,this.alertsWhenRecent=!1,"string"==typeof t)try{this.elements=function Gue(e){const n=(new DOMParser).parseFromString(`<root>${e}</root>`,"text/xml");if(n.getElementsByTagName("parsererror").length>0)throw console.log("DOC:",n),new Wue;return Hx(n.getElementsByTagName("root")[0].childNodes)}(t)}catch(n){throw console.warn("[TextLine::new] invalid xml string: ",t,n),n}else this.elements=t;for(const n of this.elements)n.kind==Fe.VOICE&&(this.voice=n.voiceName),n.kind==Fe.PASSIVE_CHECK&&(this.passiveResult=n),n.kind==Fe.ACTIVE_RESULT&&(this.activeResult=n);this.alertsWhenRecent=this.elements.every(n=>-1!=[Fe.TEXT,Fe.STRONG,Fe.VOICE,Fe.PASSIVE_CHECK,Fe.ACTIVE_RESULT,Fe.ACT].map(i=>`${i}`).indexOf(n.name))}}class Wue extends Error{constructor(){super("error parsing XML")}}function Hx(e){const t=[];return e.forEach(n=>{if("getAttributeNames"in n){const i=n,r=i.getAttributeNames(),a=function Tue(e){let t=null;return e==Fe.TEXT?t=Sx:e==Fe.TIP?t=Nue:e==Fe.VOICE?t=Due:e==Fe.PASSIVE_CHECK?t=Aue:e==Fe.TUTORIAL?t=Pue:e==Fe.ACT?t=Oue:e==Fe.STRONG?t=ui:e==Fe.LOCK?t=kue:e==Fe.DIVIDER?t=ui:e==Fe.REASON?t=Iue:e==Fe.ACTIVE_CHECK?t=Fue:e==Fe.ACTIVE_RESULT?t=Rue:e==Fe.STATS_MENU||e==Fe.NAMING_MENU||e==Fe.MARKING_MENU||e==Fe.HIDDEN?t=ui:e==Fe.TOT?t=Bue:e==Fe.STAT_BOX?t=$ue:e==Fe.MOOD?t=jue:e==Fe.ITEM?t=Uue:(e==Fe.OBJECTIVE||e==Fe.CONTINUE||(console.error(`node kind not found ${e}`),-1!=e.indexOf("_")&&console.error("notice the underline, tag names should be separated by slashes.")),t=ui),t}(n.nodeName);t.push(new a(n.nodeName,new Vx(r.map(o=>new bx(`${o}`,`${i.attributes.getNamedItem(o)?.value}`))),Hx(n.childNodes)))}else n.textContent&&""!=n.textContent.trim()&&t.push(new Sx(n.nodeName,new Vx([new bx("value",n.textContent.trim())]),[]))}),t}function bu(e,t=Ye){return e=e??que,bt((n,i)=>{let r,s=!0;n.subscribe(Je(i,a=>{const o=t(a);(s||!e(r,o))&&(s=!1,r=o,i.next(a))}))})}function que(e,t){return e===t}const P3=new pt(!1),Kue=P3.asObservable().pipe(S2(e=>!e),E1(1)),Fs={};new class Xue{registerPreStoreUpdate(t){Fs.preStoreUpdate=t}registerPreStateInit(t){Fs.preStateInit=t}};const O3=new Map,Vu=new $e;Vu.asObservable();class Jue extends pt{constructor(t){super(t.state),this.storeDef=t,this.batchInProgress=!1,this.context={config:this.getConfig()},this.state=this.getInitialState(t.state),this.initialState=this.getValue(),function Que(e){O3.set(e.name,e),Vu.next({type:"add",store:e})}(this)}get name(){return this.storeDef.name}getInitialState(t){return Fs.preStateInit?Fs.preStateInit(t,this.name):t}getConfig(){return this.storeDef.config}query(t){return t(this.getValue())}update(...t){const n=this.getValue();let i=t.reduce((r,s)=>s(r,this.context),n);Fs.preStoreUpdate&&(i=Fs.preStoreUpdate(n,i,this.name)),i!==n&&(this.state=i,P3.getValue()?this.batchInProgress||(this.batchInProgress=!0,Kue.subscribe(()=>{super.next(this.state),this.batchInProgress=!1})):super.next(this.state))}getValue(){return this.state}reset(){this.update(()=>this.initialState)}combine(t){let n=!0;const i={};return new q(r=>{for(const[s,a]of Object.entries(t))r.add(a.subscribe(o=>{i[s]=o,n=!0}));return this.subscribe({next(){n&&(r.next(i),n=!1)},error(s){r.error(s)},complete(){r.complete()}})})}destroy(){(function Zue(e){O3.delete(e.name),Vu.next({type:"remove",store:e})})(this),this.reset()}next(t){this.update(()=>t)}error(){}complete(){}}function xx(e,...t){const{state:n,config:i}=function Yue(...e){const t={config:{},state:{}};for(const{config:n,props:i}of e)Object.assign(t.config,n),Object.assign(t.state,i);return t}(...t),{name:r}=e;return new Jue({name:r,state:n,config:i})}function Rs(e){return Array.isArray(e)?e:[e]}function Bs(e){return"function"==typeof e}function Zc(e){return e.charAt(0).toUpperCase()+e.slice(1)}function efe(e){return"object"==typeof e&&!Array.isArray(e)&&null!==e}function Jc(e){return E(Re(e),bu())}function zx(e,{initialValue:t,config:n}){let i=t;const r=Zc(e);return{[`with${r}`]:(s=i)=>({props:{[e]:s},config:n}),[`set${r}InitialValue`](s){i=s},[`set${r}`]:s=>function(a){const o=Bs(s)?s(a):s;return o===a[e]?a:Object.assign({},a,{[e]:o})},[`update${r}`]:s=>function(a){const o=Bs(s)?s(a):s;return o===a[e]?a:Object.assign({},a,{[e]:efe(o)?Object.assign({},a[e],o):o})},[`reset${r}`]:()=>function(s){return Object.assign({},s,{[e]:i})},[`select${r}`]:()=>Jc(s=>s[e]),[`get${r}`]:s=>s[e]}}function rfe(e,t){return[...e,...Rs(t)]}function sfe(e,t){const n=Rs(t);return e.filter(i=>!n.includes(i))}function afe(e,t){const n=Rs(t),i=[...e];return n.forEach(r=>{const s=i.indexOf(r);s>-1?i.splice(s,1):i.push(r)}),i}function cfe(e,t,n){return e.map(i=>i===t?n:i)}const Su=xx({name:"story"},function lfe(e){return{props:e,config:void 0}}({story:new(R(467).Story)(storyContent)}));class k3{constructor(){this.story$=Su.pipe(Jc(t=>t.story))}setStory(t){Su.update(n=>({...n,story:t}))}story(){return Su.state.story}static#e=this.\u0275fac=function(n){return new(n||k3)};static#t=this.\u0275prov=Ie({token:k3,factory:k3.\u0275fac,providedIn:"root"})}function Ex(e){const t=document.createElement("div");return t.innerText=e,t.innerHTML}class dfe{constructor(t,n){this.json=t,this.idx=n}}class j2{constructor(t){this._storyStore=t,this.loading$=new pt(!1),this.page$=new pe,this.preRefresh$=new pe,this.postRefresh$=new pe,this.preLoad$=new pe,this.postLoad$=new pe,this.preSave$=new pe,this.postSave$=new pe,this.preUndo$=new pe,this._pageIds=0,this._saveHistory=[],this._story=t.story(),this._story.BindExternalFunctionGeneral("is_inky",n=>!1,!0),this._story.BindExternalFunctionGeneral("_gameplay_get_odds",n=>{const r=n[1];return 100*Math.min(.9,Math.max(.1,(n[0]-r)/5+1-r/20))},!1)}bindExternalFunction(t,n){this._story.BindExternalFunctionGeneral(t,n,!1)}loadOrContinue(){var t=this;return Sr(function*(){const n=localStorage.getItem("save");if(t.preLoad$.next(),null!=n){const i=JSON.parse(n);yield t.load(i)}else t.continue();t.postLoad$.next()})()}continue(){const t=[];for(;this._story.canContinue;){let r=this._story.Continue();if(!r)break;try{if(r=r.trim(),""==r)continue;t.push(new Qc(r))}catch{console.warn("error parsing text line: ",r),t.push(new Qc(Ex(r)))}}const n=this._story.currentChoices?.map(r=>{const s=this._story.state.VisitCountAtPathString(r.pathStringOnChoice)??0;try{return new wx(new Qc(r.text),r.index,s>0)}catch{return console.warn("error parsing choice text line: ",r.text),new wx(new Qc(Ex(r.text)),r.index,s>0)}});this._pageIds++;const i={id:this._pageIds.toString(),lines:t,choices:n};this.page$.next(i)}chooseChoiceIndex(t,n=!1){n||this._saveHistory.push(this._save(t)),this._story.ChooseChoiceIndex(t),this.continue()}refreshIfPossible(){return this._story.currentChoices.length>0&&"REFRESH"==this._story.currentChoices[0].text.trim()&&(this.preRefresh$.next(),this.chooseChoiceIndex(0),this.postRefresh$.next(),!0)}undo(){var t=this;return Sr(function*(){t._saveHistory.length<=1||(t.preUndo$.next(),t._saveHistory.pop(),!t._saveHistory[t._saveHistory.length-1])||(yield t.load(t._saveHistory))})()}save(){this.preSave$.next();const t=this._saveHistory.length;this._saveHistory=this._saveHistory.slice(Math.max(0,t-5),t),localStorage.setItem("save",JSON.stringify(this._saveHistory)),this.postSave$.next()}call(t,n,i){return this._story.EvaluateFunction(t,n,i)}get(t){return this._story.variablesState.GetVariableWithName(t)}getThenObserve(t,n){return this._story.ObserveVariable(t,n),this.get(t)}_save(t){const n=this._story.state.ToJson();return new dfe(n,t)}load(t){var n=this;return Sr(function*(){n._story.ResetState(),n.loading$.next(!0),n._saveHistory=t;const i=n._saveHistory.slice(0,n._saveHistory.length-1),r=t[n._saveHistory.length-1];for(const s of i)n._story.state.LoadJson(s.json),n.chooseChoiceIndex(s.idx,!0),yield Mu(10);n.loading$.next(!1),r&&(n._story.state.LoadJson(r.json),n.chooseChoiceIndex(r.idx,!0))})()}static#e=this.\u0275fac=function(n){return new(n||j2)(Ae(k3))};static#t=this.\u0275prov=Ie({token:j2,factory:j2.\u0275fac,providedIn:"root"})}class hfe{constructor(t,n){this.id=t,this.isNew=n}}class An{constructor(t){this._storyService=t,this.inventoryItems=[],this.newItems$=new pt(0),this.items$=new pt([]),this._storyService.bindExternalFunction("on_inventory_update",n=>{console.log("on inventory update"),this.syncInventory()}),t.postLoad$.subscribe(()=>{this.syncInventory()})}getItemName(t){return this._storyService.call("inventory_item_name_str",[t],!0).returned}getItemDescription(t){return this._storyService.call("inventory_item_description_str",[t],!0).output}syncInventory(){const t=[...this._storyService.get("player_inventory").value].map(i=>i[0]),n=[...this._storyService.get("player_inventory_new").value].map(i=>i[0]);this.inventoryItems=t.map(i=>{const r=-1!=n.indexOf(i),s=JSON.parse(i);return new hfe(s.itemName,r)}),this.items$.next(this.inventoryItems),this.newItems$.next(this.inventoryItems.filter(i=>i.isNew).length)}static#e=this.\u0275fac=function(n){return new(n||An)(Ae(j2))};static#t=this.\u0275prov=Ie({token:An,factory:An.\u0275fac,providedIn:"root"})}function dn(e){return bt((t,n)=>{n1(e).subscribe(Je(n,()=>n.complete(),d)),!n.closed&&t.subscribe(n)})}const pfe=["backdrop"],mfe=["dialog"];function gfe(e,t){if(1&e&&je(0,"div",6),2&e){const n=He(),i=Lt(3);se("dialogDragEnabled",!0)("dialogDragTarget",i)("dragConstraint",n.config.dragConstraint)}}function vfe(e,t){if(1&e){const n=z1();ce(0,"div",7),at("click",function(){return I2(n),F2(He().closeDialog())}),function Sd(){et.lFrame.currentNamespace="svg"}(),ce(1,"svg",8),je(2,"path",9),ae()()}}class Pi{}class wu extends Pi{constructor(t={}){super(),this.beforeCloseGuards=[],this.mutate(t)}close(t){this.canClose(t).pipe(S2(Boolean)).subscribe({next:()=>this.onClose(t)})}beforeClose(t){this.beforeCloseGuards.push(t)}resetDrag(t){this.onReset(t)}canClose(t){return r4(...this.beforeCloseGuards.map(i=>i(t)).filter(i=>void 0!==i&&!0!==i).map(i=>"boolean"==typeof i?Be(i):t2(i).pipe(S2(r=>!r)))).pipe(p3(!0),oi())}mutate(t){Object.assign(this,t)}asDialogRef(){return this}}function e6(e){return function Cfe(e){return null==e}(e)?"":function yfe(e){return"string"==typeof e}(e)?e:`${e}px`}let Tx=(()=>{class e{constructor(){this.dialogDragEnabled=!1,this.host=ot(s2),this.zone=ot(Gt),this.delta={x:0,y:0},this.offset={x:0,y:0},this.enabled=!0,this.destroy$=new $e}set dialogDragOffset(n){this.reset(n)}ngAfterViewInit(){!this.enabled||this.init()}ngOnChanges(){!this.enabled&&this.dialogDragEnabled&&this.dialogDragTarget&&(this.enabled=!0,this.handle?this.handle.style.setProperty("cursor","move"):this.enabled&&this.init()),this.dialogDragEnabled||(this.enabled=!1,this.handle&&this.handle.style.setProperty("cursor",""))}ngOnDestroy(){this.destroy$.next()}reset(n){const i={x:0,y:0};this.offset={...i,...n},this.delta={...i},this.translate()}setupEvents(){this.zone.runOutsideAngular(()=>{const n=Nn(this.handle,"mousedown"),i=Nn(document,"mousemove"),r=Nn(document,"mouseup");n.pipe(S2(()=>this.enabled),Re(a=>({startX:a.clientX,startY:a.clientY})),R1(({startX:a,startY:o})=>i.pipe(Re(c=>{c.preventDefault(),this.delta={x:c.clientX-a,y:c.clientY-o},"constrain"===this.dragConstraint&&this.checkConstraint()}),dn(r))),dn(this.destroy$)).subscribe(()=>{0===this.delta.x&&0===this.delta.y||this.translate()}),r.pipe(S2(()=>this.enabled),S2(()=>0!==this.delta.x||0!==this.delta.y),dn(this.destroy$)).subscribe(()=>{"bounce"===this.dragConstraint&&(this.checkConstraint(),this.translate()),this.offset.x+=this.delta.x,this.offset.y+=this.delta.y,this.delta={x:0,y:0}})})}translate(){this.target&&this.zone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this.handle.style.setProperty("transform",`translate(${this.translateX}px, ${this.translateY}px)`)})})}get translateX(){return this.offset.x+this.delta.x}get translateY(){return this.offset.y+this.delta.y}init(){if(!this.dialogDragTarget)throw new Error("You need to specify the drag target");this.handle=this.dialogDragHandle instanceof Element?this.dialogDragHandle:"string"==typeof this.dialogDragHandle&&this.dialogDragHandle?document.querySelector(this.dialogDragHandle):this.host.nativeElement,this.handle&&this.enabled&&this.handle.style.setProperty("cursor","move"),this.target=this.dialogDragTarget instanceof HTMLElement?this.dialogDragTarget:document.querySelector(this.dialogDragTarget),this.setupEvents(),this.translate()}checkConstraint(){const{width:n,height:i}=this.target.getBoundingClientRect(),{innerWidth:r,innerHeight:s}=window,a=this.translateY>0?this.translateY+i/2:this.translateY-i/2,o=s/2,c=this.translateX>0?this.translateX+n/2:this.translateX-n/2,l=r/2;-o>a&&(this.delta.y=i/2-o-this.offset.y),o<a&&(this.delta.y=o-i/2-this.offset.y),-l>c&&(this.delta.x=n/2-l-this.offset.x),l<c&&(this.delta.x=l-n/2-this.offset.x)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=Ue({type:e,selectors:[["","dialogDraggable",""]],inputs:{dialogDragHandle:"dialogDragHandle",dialogDragTarget:"dialogDragTarget",dialogDragEnabled:"dialogDragEnabled",dialogDragOffset:"dialogDragOffset",dragConstraint:"dragConstraint"},standalone:!0,features:[_2]}),e})();const Hu=new Pe("A reference to the document. Useful for iframes that want appends to parent window",{providedIn:"root",factory:()=>ot(V2)}),xu=new Pe("config",{providedIn:"root",factory:()=>({})});function zu(){return{id:void 0,container:ot(Hu).body,backdrop:!0,closeButton:!0,enableClose:!0,draggable:!1,dragConstraint:"none",resizable:!1,size:"md",windowClass:void 0,width:void 0,height:void 0,minHeight:void 0,maxHeight:void 0,data:void 0,vcr:void 0,sizes:{sm:{height:"auto",width:"400px"},md:{height:"auto",width:"560px"},lg:{height:"auto",width:"800px"},fullScreen:{height:"100%",width:"100%"}},onClose:void 0,onOpen:void 0}}const Dx=new Pe("Global dialog config token",{providedIn:"root",factory:()=>zu()}),Nx=new Pe("Nodes inserted into the dialog");function Mfe(e){return{provide:Dx,useFactory(){const t=zu();return{...zu(),...e,sizes:{...t.sizes,...e.sizes}}}}}let _fe=(()=>{class e{constructor(){this.config=ot(xu),this.dialogRef=ot(wu),this.size=this.config.sizes?.[this.config.size||"md"],this.styles={width:e6(this.config.width||this.size?.width),height:e6(this.config.height||this.size?.height),minHeight:e6(this.config.minHeight||this.size?.minHeight),maxHeight:e6(this.config.maxHeight||this.size?.maxHeight)},this.destroy$=new $e,this.nodes=ot(Nx),this.document=ot(V2),this.host=ot(s2).nativeElement,this.host.id=this.config.id,this.nodes.forEach(n=>this.host.appendChild(n)),this.config.windowClass&&this.config.windowClass.split(/\s/).filter(i=>i).forEach(i=>this.host.classList.add(i))}ngOnInit(){const i=this.dialogElement.nativeElement,r=Nn(this.config.backdrop?this.backdrop.nativeElement:this.document.body,"click",{capture:!0}).pipe(S2(({target:s})=>!i.contains(s)));r.pipe(dn(this.destroy$)).subscribe(this.dialogRef.backdropClick$),this.config.enableClose&&r4(Nn(this.document.body,"keyup").pipe(S2(({key:s})=>"Escape"===s)),r).pipe(dn(this.destroy$)).subscribe(()=>this.closeDialog()),this.nodes.forEach(s=>i.appendChild(s))}reset(n){this.config.draggable&&this.draggable.reset(n)}closeDialog(){this.dialogRef.close()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.dialogRef=null,this.nodes=null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Kt({type:e,selectors:[["ngneat-dialog"]],viewQuery:function(n,i){if(1&n&&(wi(pfe,7),wi(mfe,7),wi(Tx,5)),2&n){let r;xn(r=zn())&&(i.backdrop=r.first),xn(r=zn())&&(i.dialogElement=r.first),xn(r=zn())&&(i.draggable=r.first)}},standalone:!0,features:[v8],decls:6,vars:8,consts:[[1,"ngneat-dialog-backdrop",3,"hidden"],["backdrop",""],[1,"ngneat-dialog-content",3,"ngStyle"],["dialog",""],["class","ngneat-drag-marker","dialogDraggable","",3,"dialogDragEnabled","dialogDragTarget","dragConstraint",4,"ngIf"],["class","ngneat-close-dialog",3,"click",4,"ngIf"],["dialogDraggable","",1,"ngneat-drag-marker",3,"dialogDragEnabled","dialogDragTarget","dragConstraint"],[1,"ngneat-close-dialog",3,"click"],["viewBox","0 0 329.26933 329","xmlns","http://www.w3.org/2000/svg"],["fill","currentColor","d","m194.800781 164.769531 128.210938-128.214843c8.34375-8.339844 8.34375-21.824219 0-30.164063-8.339844-8.339844-21.824219-8.339844-30.164063 0l-128.214844 128.214844-128.210937-128.214844c-8.34375-8.339844-21.824219-8.339844-30.164063 0-8.34375 8.339844-8.34375 21.824219 0 30.164063l128.210938 128.214843-128.210938 128.214844c-8.34375 8.339844-8.34375 21.824219 0 30.164063 4.15625 4.160156 9.621094 6.25 15.082032 6.25 5.460937 0 10.921875-2.089844 15.082031-6.25l128.210937-128.214844 128.214844 128.214844c4.160156 4.160156 9.621094 6.25 15.082032 6.25 5.460937 0 10.921874-2.089844 15.082031-6.25 8.34375-8.339844 8.34375-21.824219 0-30.164063zm0 0"]],template:function(n,i){1&n&&(ce(0,"div",0,1)(2,"div",2,3),ve(4,gfe,1,3,"div",4),ve(5,vfe,3,0,"div",5),ae()()),2&n&&(gs("ngneat-dialog-backdrop-visible",i.config.backdrop),se("hidden",!i.config.backdrop),ie(2),gs("ngneat-dialog-resizable",i.config.resizable),se("ngStyle",i.styles),ie(2),se("ngIf",i.config.draggable),ie(1),se("ngIf",i.config.closeButton))},dependencies:[Tx,pr,En,Zg],styles:[".ngneat-dialog-content{display:flex;flex-direction:column;overflow:hidden;position:relative;animation:dialog-open .4s cubic-bezier(.25,.8,.25,1);border-radius:4px;box-sizing:border-box;box-shadow:0 11px 15px -7px #0003,0 24px 38px 3px #00000024,0 9px 46px 8px #0000001f;background:#fff;color:#000000de;width:auto;max-width:100%;height:auto;max-height:100%}@keyframes dialog-open{0%{transform:translate(50px)}to{transform:none}}.ngneat-dialog-content.ngneat-dialog-resizable{resize:both}.ngneat-dialog-backdrop{position:fixed;display:flex;align-items:center;justify-content:center;inset:0;height:100%;width:100%;padding:30px;z-index:1050;background-color:transparent;animation:dialog-open-backdrop .3s}.ngneat-dialog-backdrop.ngneat-dialog-backdrop-visible{background:rgba(0,0,0,.32)}@keyframes dialog-open-backdrop{0%{opacity:0}to{opacity:1}}.ngneat-drag-marker{position:absolute;left:0;top:0;cursor:move;width:100%;height:10px;z-index:1051}.ngneat-close-dialog{display:flex;align-items:center;justify-content:center;position:absolute;top:10px;cursor:pointer;right:10px;width:24px;height:24px;color:#5f6368;transition:color .2s ease-in-out;z-index:1051}.ngneat-close-dialog svg{width:12px;height:12px}.ngneat-close-dialog:hover{color:#5d9ff1}body.ngneat-dialog-hidden{overflow:hidden}\n"],encapsulation:2}),e})();const Ax="ngneat-dialog-hidden";let I3=(()=>{class e{constructor(){this.appRef=ot(bs),this.injector=ot(Yn),this.document=ot(Hu),this.globalConfig=ot(Dx),this.dialogs=[]}closeAll(){this.dialogs.forEach(n=>n.close())}open(n,i={}){const r=this.mergeConfig(i);r.onOpen?.();const s=new wu({id:r.id,data:r.data,backdropClick$:new $e});this.throwIfIDAlreadyExists(r.id);const a={config:r,dialogRef:s};return this.dialogs.push(s),1===this.dialogs.length&&this.document.body.classList.add(Ax),n instanceof O1?this.openTemplate(n,a):"function"==typeof n?this.openComponent(n,a):function bfe(e){throw new TypeError(`Dialog must receive a Component or a TemplateRef, but this has been passed instead: ${e}`)}(n)}openTemplate(n,{config:i,dialogRef:r}){const s={$implicit:r,config:i},a=i.vcr?.createEmbeddedView(n,s)||n.createEmbeddedView(s);return this.attach({dialogRef:r,config:i,ref:n,view:a,attachToApp:!i.vcr})}openComponent(n,{config:i,dialogRef:r}){const s=Tg(n,{elementInjector:b2.create({providers:[{provide:Pi,useValue:r},{provide:xu,useValue:i}],parent:i.vcr?.injector||this.injector}),environmentInjector:this.injector});return this.attach({dialogRef:r,config:i,ref:s,view:s.hostView,attachToApp:!0})}attach({dialogRef:n,config:i,ref:r,view:s,attachToApp:a}){const o=this.createDialog(i,n,s),c=i.container instanceof s2?i.container.nativeElement:i.container,l={after:new $e};return n.mutate({id:i.id,data:i.data,ref:r,onClose:h=>{this.globalConfig.onClose?.(),this.dialogs=this.dialogs.filter(({id:m})=>n.id!==m),c.removeChild(o.location.nativeElement),this.appRef.detachView(o.hostView),this.appRef.detachView(s),o.destroy(),s.destroy(),n.backdropClick$.complete(),n.mutate({ref:null,onClose:null,afterClosed$:null,backdropClick$:null,beforeCloseGuards:null,onReset:null}),l.after.next(h),l.after.complete(),0===this.dialogs.length&&this.document.body.classList.remove(Ax)},afterClosed$:l.after.asObservable(),onReset:h=>{o.instance.reset(h)}}),c.appendChild(o.location.nativeElement),this.appRef.attachView(o.hostView),a&&this.appRef.attachView(s),n.asDialogRef()}createDialog(n,i,r){return Tg(_fe,{elementInjector:b2.create({providers:[{provide:wu,useValue:i},{provide:Nx,useValue:r.rootNodes},{provide:xu,useValue:n}],parent:this.injector}),environmentInjector:this.injector})}mergeConfig(n){return{...this.globalConfig,id:`dialog-${Math.random().toString(36).substring(7)}`,...n,sizes:this.globalConfig?.sizes}}throwIfIDAlreadyExists(n){if(this.dialogs.find(i=>i.id===n))throw new Error(`Please, ID must be unique, but there is already a dialog created with this ID: ${n}`)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class hn{constructor(){this.iconName=null}static#e=this.\u0275fac=function(n){return new(n||hn)};static#t=this.\u0275cmp=Kt({type:hn,selectors:[["app-choice-ui-icon"]],inputs:{iconName:"iconName"},decls:1,vars:3,template:function(n,i){1&n&&je(0,"span"),2&n&&X2("choice-ui-icon ",i.iconName,"")},styles:[".choice-ui-icon[_ngcontent-%COMP%]{display:block;color:var(--main-text);min-width:25px;min-height:25px;width:100%;height:100%;text-align:center;line-height:25px;background-size:contain;background-repeat:no-repeat}.choice-ui-icon.Return[_ngcontent-%COMP%]{background-image:url(/cotm5/assets/images/ui/return.svg)}.choice-ui-icon.Advance[_ngcontent-%COMP%]{background-image:url(/cotm5/assets/images/ui/advance.svg)}.choice-ui-icon.Explore[_ngcontent-%COMP%]{background-image:url(/cotm5/assets/images/ui/explore.svg)}.choice-ui-icon.Think[_ngcontent-%COMP%]{background-image:url(/cotm5/assets/images/ui/think.svg)}.choice-ui-icon.Walk[_ngcontent-%COMP%]{background-image:url(/cotm5/assets/images/ui/walk.svg)}.choice-ui-icon.Speak[_ngcontent-%COMP%]{background-image:url(/cotm5/assets/images/ui/talk.svg)}.choice-ui-icon.Debug[_ngcontent-%COMP%]{background-image:url(/cotm5/assets/images/ui/debug.svg)}.choice-ui-icon.Lock[_ngcontent-%COMP%]{background-image:url(/cotm5/assets/images/ui/lock.svg)}.choice-ui-icon.CloseWhite[_ngcontent-%COMP%]{background-image:url(/cotm5/assets/images/ui/close-white.svg)}.choice-ui-icon.Flip[_ngcontent-%COMP%]{background-image:url(/cotm5/assets/images/ui/flip.svg)}"]})}class F3{constructor(t,n){this._inventoryService=t,this._dialogRef=n,this.title="",this.body="";const{itemId:i}=this._dialogRef.data;this.title=this._inventoryService.getItemName(i),this.body=this._inventoryService.getItemDescription(i)}close(){this._dialogRef.close()}static#e=this.\u0275fac=function(n){return new(n||F3)(re(An),re(Pi))};static#t=this.\u0275cmp=Kt({type:F3,selectors:[["app-item-detail-popup"]],decls:8,vars:2,consts:[["id","item-detail-popup"],["id","container"],["id","close-button",3,"click"],["iconName","CloseWhite"],[1,"title"],[1,"detail"]],template:function(n,i){1&n&&(ce(0,"div",0)(1,"div",1)(2,"div",2),at("click",function(){return i.close()}),je(3,"app-choice-ui-icon",3),ae(),ce(4,"div",4),we(5),ae(),ce(6,"div",5),we(7),ae()()()),2&n&&(ie(5),p2(" ",i.title," "),ie(2),p2(" ",i.body," "))},dependencies:[hn],styles:['#item-detail-popup[_ngcontent-%COMP%]{box-sizing:border-box;color:#000;max-width:600px}#item-detail-popup[_ngcontent-%COMP%]   #close-button[_ngcontent-%COMP%]{filter:invert(100%);position:absolute;right:10px;top:10px;width:40px;height:40px;cursor:pointer}#item-detail-popup[_ngcontent-%COMP%]   #container[_ngcontent-%COMP%]{min-height:150px;min-width:300px;background-color:#fff;border-radius:20px;position:relative;padding:12px;box-sizing:border-box}#item-detail-popup[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{box-sizing:border-box;line-height:.9;padding-top:5px;min-height:45px;font-size:1.2em;font-weight:600;max-width:80%;margin-bottom:5px}#item-detail-popup[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]:before{display:inline-block;content:"";width:15px;height:15px;background-color:#000;border-radius:15px}',"#close-button[_ngcontent-%COMP%]{cursor:pointer}.window[_ngcontent-%COMP%]{background-color:var(--secondary-background);border-radius:30px;border:4px solid black;box-sizing:border-box;position:relative;display:flex;flex-direction:column;justify-content:stretch}.window[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{color:#fff;font-size:1.3em;min-height:80px;display:flex;flex-direction:column;justify-content:flex-end;box-sizing:border-box;padding:12px;font-weight:600}.window[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{background-color:#000;color:#fff;flex-grow:1}.window[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{min-height:25px;display:flex;justify-content:center;align-items:center;padding:8px;font-weight:600}"]})}var Sfe=R(461),$s=(()=>{return(e=$s||($s={}))[e.Effect=0]="Effect",e[e.Background=1]="Background",$s;var e})(),R3=(()=>{return(e=R3||(R3={}))[e.Replace=0]="Replace",e[e.DontPlay=1]="DontPlay",e[e.Overlap=2]="Overlap",R3;var e})();class wfe{constructor(t,n){this.channel=t,this.howl=n}}class B3{constructor(){this._channels=new Map,this._registeredSounds=new Map}register(t,n,i){if(this._registeredSounds.has(t))throw new Error(`[SoundService::register] key '${t}' is already registered`);return this._registeredSounds.set(t,new wfe(n,new Sfe.Howl(i))),!0}play(t,n=R3.Replace){const i=this._registeredSounds.get(t);if(!i)throw new Error(`[SoundService::play] key '${t}' not found`);this._initializeChannelIfNeeded(i.channel);const r=this._channels.get(i.channel);n==R3.Replace&&(this._stopChannel(i.channel),r.push(i),i.howl.play())}_stopChannel(t){const n=this._channels.get(t);if(n){for(const i of n)i.howl.stop();n.length=0}}_initializeChannelIfNeeded(t){this._channels.get(t)||this._channels.set(t,[])}static#e=this.\u0275fac=function(n){return new(n||B3)};static#t=this.\u0275prov=Ie({token:B3,factory:B3.\u0275fac,providedIn:"root"})}function t6(e,t){const n={},i=[];for(const r of e){const s=r[t];i.push(s),n[s]=r}return{ids:i,asObject:n}}class xfe{constructor(t){this.idKeyRef="idKey",this.entitiesKey=t.entitiesKey,this.idsKey=t.idsKey,this.idKeyRef=t.idKeyRef}}function Px(e){const t=e?`idKey${Zc(e)}`:"idKey",n=new xfe({entitiesKey:e?`${e}Entities`:"entities",idsKey:e?`${e}Ids`:"ids",idKeyRef:t});return{[`${e}EntitiesRef`]:n,[`with${Zc(e)}Entities`]:function i(r){let s={},a=[];const o=r?.idKey||"id";return null!=r&&r.initialValue&&({ids:a,asObject:s}=t6(r.initialValue,o)),{props:{[n.entitiesKey]:s,[n.idsKey]:a},config:{[t]:o}}}}}const{withEntities:zfe,EntitiesRef:gt}=Px("");function Eu(e,t={}){return function(n){const{ref:{idsKey:i,entitiesKey:r}=gt}=t,s=Rs(e),a=Object.assign({},n[r]),o=n[i].filter(c=>!s.includes(c));for(const c of s)Reflect.deleteProperty(a,c);return Object.assign({},n,{[r]:a,[i]:o})}}function Ix(e,t){return Bs(e)?e(t):Object.assign({},t,e)}function i6(e,t,n={}){return function(i){const{ref:{entitiesKey:r}=gt}=n,s={};for(const a of Rs(e))s[a]=Ix(t,i[r][a]);return Object.assign({},i,{[r]:Object.assign({},i[r],s)})}}function j3(e){return bu((t,n)=>t[e]===n[e])}function Tu(e={}){const{ref:{entitiesKey:t,idsKey:n}=gt}=e;return Jc(i=>i[t][i[n][i[n].length-1]])}function Rfe(e,t){const{ref:{entitiesKey:n,idsKey:i}=gt,pluck:r}=t||{};return E(j3(n),Jc(s=>{const a=[];return s[i].forEach((o,c)=>{const l=s[n][o];e(l,c)&&a.push(function Lu(e,t){return e&&t?Bs(t)?t(e):e[t]:e}(l,r))}),a}),function nfe(){return bu((e,t)=>e===t||e.length===t.length&&!t.some((i,r)=>e[r]!==i))}())}Px("UI");zx("activeId",{initialValue:void 0}),function ife(e,t){const n=Zc(e),i=zx(e,t);Object.assign({},i,{[`add${n}`]:r=>function(s){return Object.assign({},s,{[e]:rfe(s[e],r)})},[`remove${n}`]:r=>function(s){return Object.assign({},s,{[e]:sfe(s[e],r)})},[`toggle${n}`]:r=>function(s){return Object.assign({},s,{[e]:afe(s[e],r)})},[`update${n}`]:(r,s)=>function(a){return Object.assign({},a,{[e]:cfe(a[e],r,s)})},[`in${n}`]:r=>s=>function ofe(e,t){return e.includes(t)}(s[e],r)})}("activeIds",{initialValue:[]});const pn=xx({name:"renderablePageStore"},zfe());class U3{constructor(t){this.all$=pn.pipe(function kfe(e={}){const{ref:{entitiesKey:t,idsKey:n}=gt}=e;return E(j3(t),Re(i=>i[n].map(r=>i[t][r])))}()),this.added$=new pe,this.storyGroupSubscription=t.page$.subscribe(r=>{this.addGroup({visible:!1,old:!1,hideChoices:!1,...r})});let n=[],i=[];this.preRefreshSubscription=t.preRefresh$.subscribe(r=>{pn.pipe(Rfe(s=>0==s.old)).pipe(E1(1)).subscribe(s=>{n=s}),pn.pipe(Tu(),E1(1)).subscribe(s=>{s&&s.choices.forEach(a=>{(a.locked||a.recentlyUnlocked)&&i.push(a.index)})})}),this.postRefreshSubscription=t.postRefresh$.subscribe(r=>{for(const s of n)this.updateGroup(s.id,a=>({...a,old:!1,hideChoices:!0}));this.updateLast(s=>({...s,choices:s.choices.map(a=>(0==a.locked&&-1!=i.indexOf(a.index)&&(a.recentlyUnlocked=!0),a))})).subscribe(()=>{n=[],i=[]})}),this.preUndoSubscription=t.preUndo$.subscribe(r=>{this.clearAll()})}ngOnDestroy(){this.storyGroupSubscription.unsubscribe()}addGroup(t){pn.update(function Ox(e,t={}){return function(n,i){const{prepend:r=!1,ref:s=gt}=t,{entitiesKey:a,idsKey:o}=s,c=function $3(e,t){return e.config[t.idKeyRef]}(i,s),l=Rs(e);if(!l.length)return n;(function Tfe(e,t,n,i){e.forEach(r=>{const s=r[t];if(n[i][s])throw Error(`Entity already exists. ${t} ${s}`)})})(l,c,n,a),function Dfe(e,t){const n=new Set;e.forEach(i=>{const r=i[t];if(n.has(r))throw Error(`Duplicate entity id provided. ${t} ${r}`);n.add(r)})}(l,c);const{ids:u,asObject:f}=t6(l,c);return Object.assign({},n,{[a]:Object.assign({},n[a],f),[o]:r?[...u,...n[o]]:[...n[o],...u]})}}(t)),this.added$.emit(t)}clearNonRecent(){pn.update(function Lfe(e,t={}){return function(i,r){const s=function n6(e,t,n){const{idsKey:i,entitiesKey:r}=t,s=e[r];return e[i].filter(a=>n(s[a]))}(i,t.ref||gt,e);return s.length?Eu(s,t)(i,r):i}}(t=>1==t.old))}clearAll(){pn.update(function Efe(e={}){return function(n){const{ref:{idsKey:i,entitiesKey:r}=gt}=e;return Object.assign({},n,{[r]:{},[i]:[]})}}())}updateGroup(t,n){pn.update(i6(t,n))}updateAllGroups(t){pn.update(function Ofe(e,t={}){return function(n,i){const{ref:{idsKey:r}=gt}=t;return i6(n[r],e,t)(n,i)}}(t))}deleteLast(){return pn.pipe(Tu(),E1(1)).pipe(Re(t=>(t&&pn.update(Eu(t.id)),t??null)))}updateLast(t){return pn.pipe(Tu(),E1(1)).pipe(Re(n=>{n&&this.updateGroup(n.id,t)}))}static#e=this.\u0275fac=function(n){return new(n||U3)(Ae(j2))};static#t=this.\u0275prov=Ie({token:U3,factory:U3.\u0275fac,providedIn:"root"})}class Rx{constructor(t,n,i,r){this.id=t,this.isNew=n,this.text=i,this.order=r}}class fi{constructor(t){this._storyService=t,this.messages=new Map,this.newMessages=[],this.onMessageAdded$=new pe,this.newMessages$=new pt(0),this._messageOrder=0,t.bindExternalFunction("_phone_add_message",n=>this.addMessage(n[0],n[1])),t.bindExternalFunction("_phone_get_sender_count",()=>this.getSenderCount()),t.bindExternalFunction("_phone_get_sender_at",n=>this.getSenderAt(n[0])),t.bindExternalFunction("_phone_get_sender_message_count",n=>this.getSenderMessageCount(n[0])),t.bindExternalFunction("_phone_get_sender_message_at",n=>this.getSenderMessageAt(n[0],n[1])),this.storyLoading$=t.loading$,t.preLoad$.subscribe(()=>{this.load()}),t.postSave$.subscribe(()=>{this.save()})}save(){console.log("[MessagesService::save]",new Error);const t=[...this.messages.entries()],n=JSON.stringify({messages:t,newMessages:this.newMessages,messageOrder:this._messageOrder});localStorage.setItem("phone_messages",n)}load(){const t=localStorage.getItem("phone_messages");if(t){const n=JSON.parse(t);this.messages=new Map(n.messages),this._messageOrder=n.messageOrder,this.newMessages=n.newMessages,this.newMessages$.next(this.newMessages.length)}}restart(){this.messages=new Map,this.newMessages=[]}addMessage(t,n){if(this.storyLoading$.getValue())return;const i=++this._messageOrder;this.newMessages.push([t,n]),console.log("msg from",t,i),this.messages.has(t)?this.messages.get(t)?.push(new Rx(n,!0,"",i)):this.messages.set(t,[new Rx(n,!0,"",i)]),this.onMessageAdded$.emit(),this.newMessages$.next(this.newMessages.length)}getSenderCount(){return this.storyLoading$.getValue()?0:[...this.messages.keys()].length}getSenderAt(t){if(this.storyLoading$.getValue())throw new Error("unreachable: during load getSenderCount is 0");return[...this.messages.keys()][t]}getSenders(){let t=[...this.messages.keys()];return t=t.sort((n,i)=>{const r=this.messages.get(n),s=this.messages.get(i);if(r&&s){const a=r.map(c=>c.order).reduce((c,l)=>c<l?l:c,0),o=s.map(c=>c.order).reduce((c,l)=>c<l?l:c,0);return a<o?-1:a>o?1:0}throw new Error(`[getSenders] unexpected key in message list; ${n} / ${i}`)}).reverse(),t}getSenderMessageCount(t){if(this.storyLoading$.getValue())throw new Error("unreachable: during load there are no senders");return this.messages.get(t)?.length??0}getSenderMessageAt(t,n){if(this.storyLoading$.getValue())throw new Error("unreachable: during load there are no messages");return[...this.messages.get(t)??[]][n].id}getSenderMessages(t){return[...this.messages.get(t)??[]]}markSenderAsRead(t){console.log("marking sender as read",t),this.newMessages=this.newMessages.filter(i=>i[0]!=t),this.newMessages$.next(this.newMessages.length);const n=this.messages.get(t);n&&n.forEach(i=>i.isNew=!1)}getSenderNewMessages(t){if(this.storyLoading$.getValue())throw new Error("unreachable: during load there are no new messages");return this.newMessages.filter(n=>n[0]==t).length}static#e=this.\u0275fac=function(n){return new(n||fi)(Ae(j2))};static#t=this.\u0275prov=Ie({token:fi,factory:fi.\u0275fac,providedIn:"root"})}const W3=[{name:"THE CHARIOT",className:"strenght",variable:"player_strenght",description:{statKind:"physical",upright:"Strength, Action, Forcefulness.",reversed:"Reaction Without Thought, Lack of Control.",effect1:"The Chariot requires that you always propel yourself forward, preferably using your fists to lead the way.",paragraphs:["This card represents everything physical about you, everything that screams action, movement and life. The Chariot helps when you need the strength to break a door, or break a face. Channel this card frequently and you will find your body reflecting your strength. You will be granted a healthy and flexible body, ready for anything.","But be sure to not be trampled by The Chariot. It will move you forward whether you want it or not."]}},{name:"THE EMPEROR",className:"control",variable:"player_control",description:{statKind:"physical",upright:"Control, Authority, Structure.",reversed:"Rigidity, Tyranny, Immaturity.",effect1:"The Emperor demands your unconditional surrender.",paragraphs:["If you are ever in a difficult situation, channel this card's power and you will find yourself clearheaded and in control. The Emperor helps you keep your composure when it matters the most, be it by keeping your cool when watching a horror movie, or keeping your cool when a weapon is pointed at you.","But be sure to not blur the lines too much, The Emperor seeks control in all things and reality does not align with a desire so absolute."]}},{name:"THE FOOL",className:"sleight",variable:"player_sleight",description:{statKind:"physical",upright:"Luck, Innocence, Playfulness.",reversed:"Recklessness, Inconsideration, Cleverly Stupid.",effect1:"In a reading, The Fool foretells adventure, travels, and new beginnings. In reality, this card is nothing but a bumbling fool.",paragraphs:["Have you ever seen a plan so dumb that it can't possibly work? Channel this card and it just might. The Fool will help you stumble upon the perfect set of coincidences to allow you to get away with pretty much anything: you can steal from under their noses, you can open locks, you can find secrets, and you can also dance pretty well.","But be careful that the role of The Fool doesn't become a comfortable one, as you might find yourself incapable of living anywhere but at the moment."]}},{name:"THE MOON",className:"perception",variable:"player_perception",description:{statKind:"mental",upright:"Perception, Sight, Subtlety.",reversed:"Confusion, Misinterpretation, Paralysis.",effect1:"As the light of The Moon shines upon us once again, let it guide us towards transcendence.",paragraphs:["The pull of The Moon may be gentle, but it is also eternal and all encompassing. This card's power is equally gentle, the Moon works with what's already there. It helps you see farther, increases your sense of smell and lets you identify any substance from taste. It helps you notice those small things that someone else might have missed, maybe those marks on the floor lead to a secret door, maybe that book being slightly off points to a hidden compartment.","The Moon doesn't ask for much, but there is such a thing as being too generous. Channel this power excessively and you may find yourself with the senses flooded, unable to decide what matters and what doesn't."]}},{name:"THE HIGH PRIESTESS",className:"intuition",variable:"player_intuition",description:{statKind:"mental",upright:"Intuition, Subconsciousness, Creativity.",reversed:"Repressed feelings, Secrecy, Paranoia.",effect1:"The veil between the conscious and the unconscious is so very thin. Reach through and find enlightenment.",paragraphs:["The High Priestess sits on her throne, on the edge between the seen and the unseen. Don't be afraid, you can hear their call now, can't you? The Seen, and The Unseen, they will nudge you, touch you, hold you, guide you... Careful... you are letting them get too close.","They are looking at you now. Don't look back."]}},{name:"THE HERMIT",className:"knowledge",variable:"player_knowledge",description:{statKind:"mental",upright:"Guidance, Deliberation, Veracity.",reversed:"Isolation, Obsession, Detachment.",effect1:"Knowledge, truth, and sacrifice. The Hermit seeks, and The Hermit finds.",paragraphs:["Pay the price and this card can help you remember that obscure mundane fact that just so happens to be relevant for the situation at hand. The Hermit will also help you remember things that are not so relevant to the situation at hand, but eh. Win some, lose some.","Of course The Hermit is a hoarder, be sure there's enough space or you may find yourself bloated and lethargic. Knowledge is an endless pursuit after all."]}},{name:"THE MAGICIAN",className:"confidence",variable:"player_confidence",description:{statKind:"social",upright:"Confidence, Desire, Willpower.",reversed:"Trickery, Overconfidence, Unrepentancy.",effect1:"Come my darling, The Magician will take good care of you.",paragraphs:["A charmer, this one. The Magician will give you the confidence and the nonchalance of someone who has been doing it for years and years. You can talk in public like a professional and you can convince anyone that you belong wherever you want to belong. You can also understand the pecking order of any situation, and most importantly: how to climb it.","The downside, of course, is that The Magician is proud, unable to admit when wrong, and unable to let go of a mistaken choice.",'And remember: "Fake it till you make it" only works if you do make it.']}},{name:"THE DEVIL",className:"manipulation",variable:"player_manipulation",description:{statKind:"social",upright:"Manipulation, Addiction, Materialism.",reversed:"Release, Freedom, Loss of Control.",effect1:"The Devil doesn't ask anything of you, but you will give it anyway.",paragraphs:["Channeling this card can be a daunting task, but the feeling is... euphoric. The Devil will help you pull at the threads that move people, it will help you convince someone to do your bidding all the while thinking it's their idea. Likewise, The Devil will warn of anyone doing the same to you.","Remember: to convince someone is to understand them fully, but do not mistake that for empathy. It's a cold emptiness instead. Treat people as marionettes and they will become just that."]}},{name:"THE STAR",className:"charisma",variable:"player_charisma",description:{statKind:"social",upright:"Rejuvenation, Hope, Happiness.",reversed:"Insecurity, Dramatics, Lack of Faith.",effect1:"Raise and clap for The Star. Clap until your hands turn to flame. Until your arms are glowing and giving off embers. Until your chest is melting.",paragraphs:["The pull of The Star is undeniable. It warps, it burns and it fills you with light. The Star can help you appear friendly, approachable, and desirable, if you wish it so. Channel this card and you will be able to read people like open books. Weaponize empathy. Make everyone love you. The Star will shine its light unto all that's hidden, helping you detect when others are lying or being deceitful.","But all stars burnout eventually, and the brightest ones can become the most destructive of black holes."]}}];function G3(e,t,n,i,r,s,a,o,c){return{strenght:e,control:t,sleight:n,perception:i,intuition:r,knowledge:s,confidence:a,manipulation:o,charisma:c}}class Pn{constructor(t){this._storyService=t,this._baseStats=G3(1,1,1,1,1,1,1,1,1),this._tentativeStats=G3(0,0,0,0,0,0,0,0,0),this._itemStats=G3([],[],[],[],[],[],[],[],[]),this._remainingPoints=0,this.remaining$=new pt(this._remainingPoints),this.base$=G3(new pt(this._baseStats.strenght),new pt(this._baseStats.control),new pt(this._baseStats.sleight),new pt(this._baseStats.perception),new pt(this._baseStats.intuition),new pt(this._baseStats.knowledge),new pt(this._baseStats.confidence),new pt(this._baseStats.manipulation),new pt(this._baseStats.charisma)),this.tentative$=G3(new pt(this._tentativeStats.strenght),new pt(this._tentativeStats.control),new pt(this._tentativeStats.sleight),new pt(this._tentativeStats.perception),new pt(this._tentativeStats.intuition),new pt(this._tentativeStats.knowledge),new pt(this._tentativeStats.confidence),new pt(this._tentativeStats.manipulation),new pt(this._tentativeStats.charisma)),this.tentativeSum$=gc(this.tentative$).pipe(Re(i=>{let r=0;for(const s in i)r+=i[s];return r})),t.postLoad$.subscribe(()=>{this.syncStats()})}syncStats(){console.log("syncStatsB4",{...this._baseStats});for(const n of W3)this._baseStats[n.className]=this._storyService.get(n.variable).value,this.base$[n.className].next(this._baseStats[n.className]);let t=0;for(const n in this._tentativeStats)t+=this._tentativeStats[n];this._remainingPoints=this._storyService.get("player_remaining").value-t,this.remaining$.next(this._remainingPoints),console.log("syncStatsAfter",this._baseStats,this._remainingPoints)}clearTentative(){for(const t in this._tentativeStats)this._tentativeStats[t]=0,this.tentative$[t].next(0);this.syncStats()}addTentative(t,n){return!(n>this._remainingPoints||(this._remainingPoints-=n,this._tentativeStats[t.className]+=n,this.remaining$.next(this._remainingPoints),this.tentative$[t.className].next(this._tentativeStats[t.className]),0))}subtractTentative(t,n){return!(n>this._tentativeStats[t.className]||(this._tentativeStats[t.className]-=n,this._remainingPoints+=n,this.remaining$.next(this._remainingPoints),this.tentative$[t.className].next(this._tentativeStats[t.className]),0))}commitTentative(){for(const t of W3){this._baseStats[t.className]+=this._tentativeStats[t.className],this._tentativeStats[t.className]=0;const n=t.variable.replace("_","_set_");this._storyService.call(`${n}`,[this._baseStats[t.className]])}this._storyService.call("player_set_remaining",[this._remainingPoints]);for(const t of W3)this.base$[t.className].next(this._baseStats[t.className]),this.tentative$[t.className].next(this._tentativeStats[t.className]);console.log(this._baseStats),console.log(this._tentativeStats)}static#e=this.\u0275fac=function(n){return new(n||Pn)(Ae(j2))};static#t=this.\u0275prov=Ie({token:Pn,factory:Pn.\u0275fac,providedIn:"root"})}function Gfe(e,t){1&e&&(ce(0,"div")(1,"div",2),we(2,"While choices marked with a "),je(3,"app-choice-ui-icon",3),we(4," will never advance the story, they can still have consequences, positive and negative."),ae()())}function qfe(e,t){1&e&&(ce(0,"div")(1,"div",2),we(2,"Only choices marked with a "),je(3,"app-choice-ui-icon",4),we(4," can advance the story."),ae()())}function Yfe(e,t){1&e&&(ce(0,"div")(1,"div",2),we(2,"Choices marked with a "),je(3,"app-choice-ui-icon",5),we(4," are just thoughts. Use them to build your character."),ae()())}function Kfe(e,t){1&e&&(ce(0,"div")(1,"div",2),we(2,"You can hail a cab from the street to visit places further than walking distance."),ae()())}function Xfe(e,t){1&e&&(ce(0,"div")(1,"div",2),we(2,"Read your messages to unlock more choices and progress."),ae()())}function Qfe(e,t){1&e&&(ce(0,"div")(1,"div",2),we(2,"Don't be afraid of failure! While Active Checks cannot be retried, the story won't end if you fail, just follow a different path."),ae()())}class r6{constructor(){this.tutorialID=null}static#e=this.\u0275fac=function(n){return new(n||r6)};static#t=this.\u0275cmp=Kt({type:r6,selectors:[["app-tutorial-blurb"]],inputs:{tutorialID:"tutorialID"},decls:7,vars:6,consts:[[1,"tutorial-blurb"],[4,"ngIf"],[1,"explanation"],["iconName","Explore"],["iconName","Advance"],["iconName","Think"]],template:function(n,i){1&n&&(ce(0,"div",0),ve(1,Gfe,5,0,"div",1),ve(2,qfe,5,0,"div",1),ve(3,Yfe,5,0,"div",1),ve(4,Kfe,3,0,"div",1),ve(5,Xfe,3,0,"div",1),ve(6,Qfe,3,0,"div",1),ae()),2&n&&(ie(1),se("ngIf","explore_tip"===i.tutorialID),ie(1),se("ngIf","continue_tip"===i.tutorialID),ie(1),se("ngIf","thought_tip"===i.tutorialID),ie(1),se("ngIf","cab"===i.tutorialID),ie(1),se("ngIf","phone"===i.tutorialID),ie(1),se("ngIf","active_check"===i.tutorialID))},dependencies:[En,hn],styles:[".tutorial-blurb[_ngcontent-%COMP%]{width:106%;padding:3%;box-sizing:border-box;background-color:var(--secondary-background);margin-left:-3%;vertical-align:middle;border-radius:5px}.tutorial-blurb[_ngcontent-%COMP%]   app-choice-ui-icon[_ngcontent-%COMP%]{display:inline-block;margin:0 6px;vertical-align:bottom}"]})}function Zfe(e,t){1&e&&(ce(0,"div",12)(1,"div",13),we(2," ! "),ae()())}function Jfe(e,t){if(1&e){const n=z1();ce(0,"div",8),at("click",function(){const s=I2(n).$implicit;return F2(He().click(s))}),ce(1,"div",9),je(2,"div",10),ae(),je(3,"div"),ve(4,Zfe,3,0,"div",11),ae()}if(2&e){const n=t.$implicit;ie(3),X2("picture ",n.id,""),ie(1),se("ngIf",n.isNew)}}class s6{constructor(t,n,i,r){this._inventoryService=t,this._storyService=n,this._dialogService=i,this._dialogRef=r,this.items$=t.items$}ngOnInit(){this._dialogRef.afterClosed$.pipe(E1(1)).subscribe(()=>{this._storyService.refreshIfPossible()})}click(t){var n=this;return Sr(function*(){n._dialogService.open(F3,{data:{itemId:t.id},windowClass:"petite"}),n._inventoryService.syncInventory()})()}trackByFirstElement(t,n){return n.id}close(){this._dialogRef.close()}static#e=this.\u0275fac=function(n){return new(n||s6)(re(An),re(j2),re(I3),re(Pi))};static#t=this.\u0275cmp=Kt({type:s6,selectors:[["app-inventory-popup"]],decls:10,vars:4,consts:[["id","inventory-popup",1,"window"],["id","close-button",3,"click"],["iconName","CloseWhite"],[1,"header"],[1,"body"],["id","item-container"],["class","item",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"footer"],[1,"item",3,"click"],[1,"box"],[1,"inner-box"],["class","new",4,"ngIf"],[1,"new"],[1,"icon"]],template:function(n,i){1&n&&(ce(0,"div",0)(1,"div",1),at("click",function(){return i.close()}),je(2,"app-choice-ui-icon",2),ae(),ce(3,"div",3),we(4," Inventory "),ae(),ce(5,"div",4)(6,"div",5),ve(7,Jfe,5,4,"div",6),Ct(8,"async"),ae()(),je(9,"div",7),ae()),2&n&&(ie(7),se("ngForOf",yt(8,2,i.items$))("ngForTrackBy",i.trackByFirstElement))},dependencies:[ni,En,hn,hr],styles:['#close-button[_ngcontent-%COMP%]   app-choice-ui-icon[_ngcontent-%COMP%]{width:50px;height:50px;position:absolute;right:10px;top:10px}#item-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin:10px;box-sizing:border-box}#item-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{width:min(95px,33%);height:95px;cursor:pointer;position:relative}#item-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:hover   .picture[_ngcontent-%COMP%]{transform:scale(1.1) rotate(5deg)}#item-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:hover   .box[_ngcontent-%COMP%]{opacity:50%}#item-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{z-index:0;content:"";width:100%;height:100%;position:absolute;top:0;left:0;display:flex;justify-content:center;align-items:center;transition:opacity .1s ease-in-out}#item-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .inner-box[_ngcontent-%COMP%]{width:70%;height:70%;border:2px solid white;background-color:#1e1e1e;opacity:30%;border-radius:10px}#item-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .picture[_ngcontent-%COMP%]{z-index:1;width:100%;height:100%;background-size:contain;background-repeat:no-repeat;background-position:50% 50%;position:absolute;top:0;left:0;transition:transform .1s ease-in-out}#item-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .MoneyForBooks1[_ngcontent-%COMP%]{background-image:url(/cotm5/assets/images/items/envelope01.svg)}#item-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .CarKeys1[_ngcontent-%COMP%]{background-image:url(/cotm5/assets/images/items/blue01.svg)}#item-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .ClubBackdoorKey1[_ngcontent-%COMP%]{background-image:url(/cotm5/assets/images/items/key03.svg)}#item-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .ZombieFriend1OtherKey[_ngcontent-%COMP%]{background-image:url(/cotm5/assets/images/items/key04.svg)}#item-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .MagicalRing1[_ngcontent-%COMP%]{background-image:url(/cotm5/assets/images/items/red03.svg)}#item-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .MagicalBook1[_ngcontent-%COMP%]{background-image:url(/cotm5/assets/images/items/old01.svg)}#item-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .BackstoryFolder1[_ngcontent-%COMP%]{background-image:url(/cotm5/assets/images/items/sketchbook01.svg)}#item-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .PaperWithBookNames1[_ngcontent-%COMP%], #item-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .ZombieFriend1Letter1[_ngcontent-%COMP%]{background-image:url(/cotm5/assets/images/items/paper01.svg)}#item-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .DriversLicense1[_ngcontent-%COMP%]{background-image:url(/cotm5/assets/images/items/Drivers_License.webp)}#item-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .new[_ngcontent-%COMP%]{z-index:2;width:100%;height:100%;position:absolute;top:0;left:0;display:flex;justify-content:flex-end;align-items:flex-end}#item-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .new[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:1.5em;font-weight:700;color:#000;background-color:var(--success);border-radius:20px;height:25px;padding:0;line-height:25px;width:25px;text-align:center}',"#close-button[_ngcontent-%COMP%]{cursor:pointer}.window[_ngcontent-%COMP%]{background-color:var(--secondary-background);border-radius:30px;border:4px solid black;box-sizing:border-box;position:relative;display:flex;flex-direction:column;justify-content:stretch}.window[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{color:#fff;font-size:1.3em;min-height:80px;display:flex;flex-direction:column;justify-content:flex-end;box-sizing:border-box;padding:12px;font-weight:600}.window[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{background-color:#000;color:#fff;flex-grow:1}.window[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{min-height:25px;display:flex;justify-content:center;align-items:center;padding:8px;font-weight:600}"]})}class q3{constructor(t){this.messagesService=t}transform(t){return this.messagesService.getSenderNewMessages(t)}static#e=this.\u0275fac=function(n){return new(n||q3)(re(fi,16))};static#t=this.\u0275pipe=l2({name:"getSenderNewMessages",type:q3,pure:!0})}function ede(e,t){if(1&e&&(ce(0,"div",10),we(1),ae()),2&e){const n=He();ie(1),h2(n.currentContact.sender.name)}}function tde(e,t){if(1&e&&(a1(0),ce(1,"span",16),we(2),ae(),o1()),2&e){const n=t.ngIf;ie(2),h2(n)}}function nde(e,t){if(1&e){const n=z1();ce(0,"div",13),at("click",function(){const s=I2(n).$implicit;return F2(He(2).setCurrentContact(s))}),je(1,"span",14),ce(2,"span",15),we(3),ae(),ve(4,tde,3,1,"ng-container",7),Ct(5,"getSenderNewMessages"),ae()}if(2&e){const n=t.$implicit;ie(3),h2(n.sender.name),ie(1),se("ngIf",yt(5,2,n.sender.id))}}function ide(e,t){if(1&e&&(ce(0,"div",11),ve(1,nde,6,4,"div",12),ae()),2&e){const n=He();ie(1),se("ngForOf",n.contacts)}}const rde=function(){return{theirs:!0,yours:!1}},sde=function(e){return{new:e}};function ade(e,t){if(1&e&&(ce(0,"div",19)(1,"div",20),we(2),ae()()),2&e){const n=t.$implicit;se("ngClass",y8(3,rde)),ie(1),se("ngClass",Et(4,sde,n.isNew)),ie(1),p2(" ",n.text," ")}}function ode(e,t){if(1&e&&(a1(0),ce(1,"div",17),ve(2,ade,3,6,"div",18),ae(),o1()),2&e){const n=He();ie(2),se("ngForOf",n.currentContact.lines)}}function cde(e,t){if(1&e){const n=z1();ce(0,"div",21),at("click",function(){return I2(n),F2(He().setCurrentContact(null))}),je(1,"app-choice-ui-icon",22),we(2," Return "),ae()}}function lde(e,t){1&e&&je(0,"div",23)}class ude{constructor(t,n){this.id=t,this.name=n}}class fde{constructor(t,n){this.sender=t,this.lines=n}}class a6{constructor(t,n,i){this._messagesService=t,this._storyService=n,this._dialogRef=i,this.currentContact=null,this.contacts=[],this.contacts=t.getSenders().map(r=>{const a=n.call("npc_full_name_str",[r],!0);return new fde(new ude(r,a.returned),[])})}ngOnInit(){this._dialogRef.afterClosed$.pipe(E1(1)).subscribe(()=>{this.currentContact&&this._messagesService.markSenderAsRead(this.currentContact.sender.id),this._storyService.refreshIfPossible()})}close(){this._dialogRef.close()}_scrollToNew(){const t=document.querySelector("#messages-popup .body"),n=Array.from(document.querySelectorAll(".new"))[0];if(t){let i=0;i=n?n.getBoundingClientRect().top-t.getBoundingClientRect().top:t.scrollHeight-t.clientHeight,t.scrollTop=i}else console.error("[_scrollToNew] nothing to scroll to")}_getLines(t){return this._messagesService.getSenderMessages(t).map(n=>(n.text=this._storyService.call("phone_get_message_content",[n.id],!0).output,n))}setCurrentContact(t){var n=this;return Sr(function*(){n.currentContact&&n._messagesService.markSenderAsRead(n.currentContact.sender.id),n.currentContact=t,n.currentContact&&(n.currentContact.lines=n._getLines(n.currentContact.sender.id)),yield n.sleep(0),n._scrollToNew()})()}sleep(t){return new Promise(n=>setTimeout(n,t))}static#e=this.\u0275fac=function(n){return new(n||a6)(re(fi),re(j2),re(Pi))};static#t=this.\u0275cmp=Kt({type:a6,selectors:[["app-messages-popup"]],decls:11,vars:5,consts:[["id","messages-popup",1,"window"],["id","close-button",3,"click"],["iconName","CloseWhite"],[1,"header"],["id","contact-name",4,"ngIf"],[1,"body"],["id","conversation-list",4,"ngIf"],[4,"ngIf"],["class","footer hot",3,"click",4,"ngIf"],["class","footer",4,"ngIf"],["id","contact-name"],["id","conversation-list"],["class","conversation",3,"click",4,"ngFor","ngForOf"],[1,"conversation",3,"click"],[1,"avatar"],[1,"contact-name"],[1,"notification"],["id","message-list"],["class","message-holder",3,"ngClass",4,"ngFor","ngForOf"],[1,"message-holder",3,"ngClass"],[1,"message",3,"ngClass"],[1,"footer","hot",3,"click"],["iconName","Return"],[1,"footer"]],template:function(n,i){1&n&&(ce(0,"div",0)(1,"div",1),at("click",function(){return i.close()}),je(2,"app-choice-ui-icon",2),ae(),ce(3,"div",3),we(4," Messages "),ae(),ve(5,ede,2,1,"div",4),ce(6,"div",5),ve(7,ide,2,1,"div",6),ve(8,ode,3,1,"ng-container",7),ae(),ve(9,cde,3,0,"div",8),ve(10,lde,1,0,"div",9),ae()),2&n&&(ie(5),se("ngIf",i.currentContact),ie(2),se("ngIf",!i.currentContact),ie(1),se("ngIf",i.currentContact),ie(1),se("ngIf",i.currentContact),ie(1),se("ngIf",!i.currentContact))},dependencies:[xi,ni,En,hn,q3],styles:['#messages-popup[_ngcontent-%COMP%]   #close-button[_ngcontent-%COMP%]   app-choice-ui-icon[_ngcontent-%COMP%]{width:50px;height:50px;position:absolute;right:10px;top:10px}#messages-popup[_ngcontent-%COMP%]   #contact-name[_ngcontent-%COMP%]{flex-grow:0;border-bottom:1px solid var(--secondary-background);padding:8px;font-weight:600;background-color:var(--background)}#messages-popup[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{min-height:400px;display:flex;flex-direction:column;justify-content:stretch;overflow-y:auto}#messages-popup[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   #message-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-end;flex-grow:1;padding:12px;box-sizing:border-box;position:relative}#messages-popup[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   #message-list[_ngcontent-%COMP%]   .message-holder[_ngcontent-%COMP%]{display:flex;width:100%}#messages-popup[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   #message-list[_ngcontent-%COMP%]   .message-holder[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{padding:8px;border-radius:8px;margin:6px;max-width:70%;position:relative;color:#000}#messages-popup[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   #message-list[_ngcontent-%COMP%]   .message-holder[_ngcontent-%COMP%]   .message.new[_ngcontent-%COMP%]:before{content:"!";display:block;width:20px;height:20px;position:absolute;right:-30px;top:calc(50% - 10px);border-radius:20px;background-color:var(--success);text-align:center;color:#000;font-weight:600;line-height:20px}#messages-popup[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   #message-list[_ngcontent-%COMP%]   .message-holder.theirs[_ngcontent-%COMP%]{justify-content:flex-start}#messages-popup[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   #message-list[_ngcontent-%COMP%]   .message-holder.theirs[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{background-color:#8bc0f1}#messages-popup[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   #message-list[_ngcontent-%COMP%]   .message-holder.yours[_ngcontent-%COMP%]{justify-content:flex-end}#messages-popup[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   #message-list[_ngcontent-%COMP%]   .message-holder.yours[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{background-color:#aaa}#messages-popup[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   #conversation-list[_ngcontent-%COMP%]   .conversation[_ngcontent-%COMP%]{display:flex;justify-content:stretch;align-items:center;padding:12px 8px;border-bottom:1px solid var(--secondary-background);cursor:pointer}#messages-popup[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   #conversation-list[_ngcontent-%COMP%]   .conversation[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:45px;height:45px;border-radius:45px;background-color:#2496ff;display:block;flex-shrink:0;margin-right:4px}#messages-popup[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   #conversation-list[_ngcontent-%COMP%]   .conversation[_ngcontent-%COMP%]   .contact-name[_ngcontent-%COMP%]{flex-grow:1}#messages-popup[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   #conversation-list[_ngcontent-%COMP%]   .conversation[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%]{background-color:var(--success);color:#000;width:25px;height:25px;border-radius:25px;text-align:center;line-height:25px;font-size:.9em;flex-shrink:0;font-weight:600}#messages-popup[_ngcontent-%COMP%]   .footer.hot[_ngcontent-%COMP%]{cursor:pointer}',"#close-button[_ngcontent-%COMP%]{cursor:pointer}.window[_ngcontent-%COMP%]{background-color:var(--secondary-background);border-radius:30px;border:4px solid black;box-sizing:border-box;position:relative;display:flex;flex-direction:column;justify-content:stretch}.window[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{color:#fff;font-size:1.3em;min-height:80px;display:flex;flex-direction:column;justify-content:flex-end;box-sizing:border-box;padding:12px;font-weight:600}.window[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{background-color:#000;color:#fff;flex-grow:1}.window[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{min-height:25px;display:flex;justify-content:center;align-items:center;padding:8px;font-weight:600}"]})}class o6{constructor(t){this.ref=t,t.backdropClick$.subscribe(()=>{this.ref.data.deny&&this.ref.data.deny()})}accept(){this.ref.close(),this.ref.data.accept&&this.ref.data.accept()}deny(){this.ref.close(),this.ref.data.deny&&this.ref.data.deny()}static#e=this.\u0275fac=function(n){return new(n||o6)(re(Pi))};static#t=this.\u0275cmp=Kt({type:o6,selectors:[["ng-component"]],decls:10,vars:2,consts:[[1,"confirmation-popup"],["id","title"],["id","body"],["id","controls"],[1,"button","deny",3,"click"],[1,"button","accept",3,"click"]],template:function(n,i){1&n&&(ce(0,"div",0)(1,"p",1),we(2),ae(),ce(3,"p",2),we(4),ae(),ce(5,"div",3)(6,"a",4),at("click",function(){return i.deny()}),we(7,"No"),ae(),ce(8,"a",5),at("click",function(){return i.accept()}),we(9,"Yes"),ae()()()),2&n&&(ie(2),h2(i.ref.data.title),ie(2),h2(i.ref.data.body))},styles:['.confirmation-popup[_ngcontent-%COMP%]{min-width:300px;background-color:#fff;border-radius:20px;position:relative;padding:12px;box-sizing:border-box;color:#000}.confirmation-popup[_ngcontent-%COMP%]   #title[_ngcontent-%COMP%]{line-height:.9;padding:5px 0;font-size:1.2em;font-weight:600;max-width:80%;margin:0}.confirmation-popup[_ngcontent-%COMP%]   #title[_ngcontent-%COMP%]:before{display:inline-block;content:"";width:15px;height:15px;margin-right:5px;background-color:#000;border-radius:15px}.confirmation-popup[_ngcontent-%COMP%]   #body[_ngcontent-%COMP%]{margin:5px 0 15px;color:var(--secondary-text)}.confirmation-popup[_ngcontent-%COMP%]   #controls[_ngcontent-%COMP%]{width:100%;text-align:right}.confirmation-popup[_ngcontent-%COMP%]   #controls[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{width:100px;height:30px;background-color:gray;display:inline-flex;justify-content:center;align-items:center;margin:10px;cursor:pointer;color:#fff;border-radius:5px;position:relative}.confirmation-popup[_ngcontent-%COMP%]   #controls[_ngcontent-%COMP%]   .button.accept[_ngcontent-%COMP%]{border-bottom:6px solid var(--success)}.confirmation-popup[_ngcontent-%COMP%]   #controls[_ngcontent-%COMP%]   .button.deny[_ngcontent-%COMP%]{border-bottom:6px solid var(--failure)}'],changeDetection:0})}function Bx(e){return null!==e&&"object"==typeof e&&"constructor"in e&&e.constructor===Object}function Du(e={},t={}){Object.keys(t).forEach(n=>{typeof e[n]>"u"?e[n]=t[n]:Bx(t[n])&&Bx(e[n])&&Object.keys(t[n]).length>0&&Du(e[n],t[n])})}const $x={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector:()=>null,querySelectorAll:()=>[],getElementById:()=>null,createEvent:()=>({initEvent(){}}),createElement:()=>({children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName:()=>[]}),createElementNS:()=>({}),importNode:()=>null,location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function f1(){const e=typeof document<"u"?document:{};return Du(e,$x),e}const dde={document:$x,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle:()=>({getPropertyValue:()=>""}),Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia:()=>({}),requestAnimationFrame:e=>typeof setTimeout>"u"?(e(),null):setTimeout(e,0),cancelAnimationFrame(e){typeof setTimeout>"u"||clearTimeout(e)}};function H2(){const e=typeof window<"u"?window:{};return Du(e,dde),e}class Oi extends Array{constructor(t){"number"==typeof t?super(t):(super(...t||[]),function hde(e){const t=e.__proto__;Object.defineProperty(e,"__proto__",{get:()=>t,set(n){t.__proto__=n}})}(this))}}function Y3(e=[]){const t=[];return e.forEach(n=>{Array.isArray(n)?t.push(...Y3(n)):t.push(n)}),t}function jx(e,t){return Array.prototype.filter.call(e,t)}function it(e,t){const n=H2(),i=f1();let r=[];if(!t&&e instanceof Oi)return e;if(!e)return new Oi(r);if("string"==typeof e){const s=e.trim();if(s.indexOf("<")>=0&&s.indexOf(">")>=0){let a="div";0===s.indexOf("<li")&&(a="ul"),0===s.indexOf("<tr")&&(a="tbody"),(0===s.indexOf("<td")||0===s.indexOf("<th"))&&(a="tr"),0===s.indexOf("<tbody")&&(a="table"),0===s.indexOf("<option")&&(a="select");const o=i.createElement(a);o.innerHTML=s;for(let c=0;c<o.childNodes.length;c+=1)r.push(o.childNodes[c])}else r=function gde(e,t){if("string"!=typeof e)return[e];const n=[],i=t.querySelectorAll(e);for(let r=0;r<i.length;r+=1)n.push(i[r]);return n}(e.trim(),t||i)}else if(e.nodeType||e===n||e===i)r.push(e);else if(Array.isArray(e)){if(e instanceof Oi)return e;r=e}return new Oi(function pde(e){const t=[];for(let n=0;n<e.length;n+=1)-1===t.indexOf(e[n])&&t.push(e[n]);return t}(r))}it.fn=Oi.prototype;const Jde="resize scroll".split(" ");function Jt(e){return function t(...n){if(typeof n[0]>"u"){for(let i=0;i<this.length;i+=1)Jde.indexOf(e)<0&&(e in this[i]?this[i][e]():it(this[i]).trigger(e));return this}return this.on(e,...n)}}Jt("click"),Jt("blur"),Jt("focus"),Jt("focusin"),Jt("focusout"),Jt("keyup"),Jt("keydown"),Jt("keypress"),Jt("submit"),Jt("change"),Jt("mousedown"),Jt("mousemove"),Jt("mouseup"),Jt("mouseenter"),Jt("mouseleave"),Jt("mouseout"),Jt("mouseover"),Jt("touchstart"),Jt("touchend"),Jt("touchmove"),Jt("resize"),Jt("scroll");const Ux={addClass:function vde(...e){const t=Y3(e.map(n=>n.split(" ")));return this.forEach(n=>{n.classList.add(...t)}),this},removeClass:function Cde(...e){const t=Y3(e.map(n=>n.split(" ")));return this.forEach(n=>{n.classList.remove(...t)}),this},hasClass:function Mde(...e){const t=Y3(e.map(n=>n.split(" ")));return jx(this,n=>t.filter(i=>n.classList.contains(i)).length>0).length>0},toggleClass:function yde(...e){const t=Y3(e.map(n=>n.split(" ")));this.forEach(n=>{t.forEach(i=>{n.classList.toggle(i)})})},attr:function _de(e,t){if(1===arguments.length&&"string"==typeof e)return this[0]?this[0].getAttribute(e):void 0;for(let n=0;n<this.length;n+=1)if(2===arguments.length)this[n].setAttribute(e,t);else for(const i in e)this[n][i]=e[i],this[n].setAttribute(i,e[i]);return this},removeAttr:function bde(e){for(let t=0;t<this.length;t+=1)this[t].removeAttribute(e);return this},transform:function Vde(e){for(let t=0;t<this.length;t+=1)this[t].style.transform=e;return this},transition:function Sde(e){for(let t=0;t<this.length;t+=1)this[t].style.transitionDuration="string"!=typeof e?`${e}ms`:e;return this},on:function wde(...e){let[t,n,i,r]=e;function s(l){const u=l.target;if(!u)return;const f=l.target.dom7EventData||[];if(f.indexOf(l)<0&&f.unshift(l),it(u).is(n))i.apply(u,f);else{const h=it(u).parents();for(let m=0;m<h.length;m+=1)it(h[m]).is(n)&&i.apply(h[m],f)}}function a(l){const u=l&&l.target&&l.target.dom7EventData||[];u.indexOf(l)<0&&u.unshift(l),i.apply(this,u)}"function"==typeof e[1]&&([t,i,r]=e,n=void 0),r||(r=!1);const o=t.split(" ");let c;for(let l=0;l<this.length;l+=1){const u=this[l];if(n)for(c=0;c<o.length;c+=1){const f=o[c];u.dom7LiveListeners||(u.dom7LiveListeners={}),u.dom7LiveListeners[f]||(u.dom7LiveListeners[f]=[]),u.dom7LiveListeners[f].push({listener:i,proxyListener:s}),u.addEventListener(f,s,r)}else for(c=0;c<o.length;c+=1){const f=o[c];u.dom7Listeners||(u.dom7Listeners={}),u.dom7Listeners[f]||(u.dom7Listeners[f]=[]),u.dom7Listeners[f].push({listener:i,proxyListener:a}),u.addEventListener(f,a,r)}}return this},off:function Hde(...e){let[t,n,i,r]=e;"function"==typeof e[1]&&([t,i,r]=e,n=void 0),r||(r=!1);const s=t.split(" ");for(let a=0;a<s.length;a+=1){const o=s[a];for(let c=0;c<this.length;c+=1){const l=this[c];let u;if(!n&&l.dom7Listeners?u=l.dom7Listeners[o]:n&&l.dom7LiveListeners&&(u=l.dom7LiveListeners[o]),u&&u.length)for(let f=u.length-1;f>=0;f-=1){const h=u[f];i&&h.listener===i||i&&h.listener&&h.listener.dom7proxy&&h.listener.dom7proxy===i?(l.removeEventListener(o,h.proxyListener,r),u.splice(f,1)):i||(l.removeEventListener(o,h.proxyListener,r),u.splice(f,1))}}}return this},trigger:function xde(...e){const t=H2(),n=e[0].split(" "),i=e[1];for(let r=0;r<n.length;r+=1){const s=n[r];for(let a=0;a<this.length;a+=1){const o=this[a];if(t.CustomEvent){const c=new t.CustomEvent(s,{detail:i,bubbles:!0,cancelable:!0});o.dom7EventData=e.filter((l,u)=>u>0),o.dispatchEvent(c),o.dom7EventData=[],delete o.dom7EventData}}}return this},transitionEnd:function zde(e){const t=this;return e&&t.on("transitionend",function n(i){i.target===this&&(e.call(this,i),t.off("transitionend",n))}),this},outerWidth:function Lde(e){if(this.length>0){if(e){const t=this.styles();return this[0].offsetWidth+parseFloat(t.getPropertyValue("margin-right"))+parseFloat(t.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null},outerHeight:function Ede(e){if(this.length>0){if(e){const t=this.styles();return this[0].offsetHeight+parseFloat(t.getPropertyValue("margin-top"))+parseFloat(t.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null},styles:function Dde(){const e=H2();return this[0]?e.getComputedStyle(this[0],null):{}},offset:function Tde(){if(this.length>0){const e=H2(),t=f1(),n=this[0],i=n.getBoundingClientRect(),r=t.body;return{top:i.top+(n===e?e.scrollY:n.scrollTop)-(n.clientTop||r.clientTop||0),left:i.left+(n===e?e.scrollX:n.scrollLeft)-(n.clientLeft||r.clientLeft||0)}}return null},css:function Nde(e,t){const n=H2();let i;if(1===arguments.length){if("string"!=typeof e){for(i=0;i<this.length;i+=1)for(const r in e)this[i].style[r]=e[r];return this}if(this[0])return n.getComputedStyle(this[0],null).getPropertyValue(e)}if(2===arguments.length&&"string"==typeof e){for(i=0;i<this.length;i+=1)this[i].style[e]=t;return this}return this},each:function Ade(e){return e?(this.forEach((t,n)=>{e.apply(t,[t,n])}),this):this},html:function Ode(e){if(typeof e>"u")return this[0]?this[0].innerHTML:null;for(let t=0;t<this.length;t+=1)this[t].innerHTML=e;return this},text:function kde(e){if(typeof e>"u")return this[0]?this[0].textContent.trim():null;for(let t=0;t<this.length;t+=1)this[t].textContent=e;return this},is:function Ide(e){const t=H2(),n=f1(),i=this[0];let r,s;if(!i||typeof e>"u")return!1;if("string"==typeof e){if(i.matches)return i.matches(e);if(i.webkitMatchesSelector)return i.webkitMatchesSelector(e);if(i.msMatchesSelector)return i.msMatchesSelector(e);for(r=it(e),s=0;s<r.length;s+=1)if(r[s]===i)return!0;return!1}if(e===n)return i===n;if(e===t)return i===t;if(e.nodeType||e instanceof Oi){for(r=e.nodeType?[e]:e,s=0;s<r.length;s+=1)if(r[s]===i)return!0;return!1}return!1},index:function Fde(){let t,e=this[0];if(e){for(t=0;null!==(e=e.previousSibling);)1===e.nodeType&&(t+=1);return t}},eq:function Rde(e){if(typeof e>"u")return this;const t=this.length;if(e>t-1)return it([]);if(e<0){const n=t+e;return it(n<0?[]:[this[n]])}return it([this[e]])},append:function Bde(...e){let t;const n=f1();for(let i=0;i<e.length;i+=1){t=e[i];for(let r=0;r<this.length;r+=1)if("string"==typeof t){const s=n.createElement("div");for(s.innerHTML=t;s.firstChild;)this[r].appendChild(s.firstChild)}else if(t instanceof Oi)for(let s=0;s<t.length;s+=1)this[r].appendChild(t[s]);else this[r].appendChild(t)}return this},prepend:function $de(e){const t=f1();let n,i;for(n=0;n<this.length;n+=1)if("string"==typeof e){const r=t.createElement("div");for(r.innerHTML=e,i=r.childNodes.length-1;i>=0;i-=1)this[n].insertBefore(r.childNodes[i],this[n].childNodes[0])}else if(e instanceof Oi)for(i=0;i<e.length;i+=1)this[n].insertBefore(e[i],this[n].childNodes[0]);else this[n].insertBefore(e,this[n].childNodes[0]);return this},next:function jde(e){return this.length>0?e?this[0].nextElementSibling&&it(this[0].nextElementSibling).is(e)?it([this[0].nextElementSibling]):it([]):it(this[0].nextElementSibling?[this[0].nextElementSibling]:[]):it([])},nextAll:function Ude(e){const t=[];let n=this[0];if(!n)return it([]);for(;n.nextElementSibling;){const i=n.nextElementSibling;e?it(i).is(e)&&t.push(i):t.push(i),n=i}return it(t)},prev:function Wde(e){if(this.length>0){const t=this[0];return e?t.previousElementSibling&&it(t.previousElementSibling).is(e)?it([t.previousElementSibling]):it([]):it(t.previousElementSibling?[t.previousElementSibling]:[])}return it([])},prevAll:function Gde(e){const t=[];let n=this[0];if(!n)return it([]);for(;n.previousElementSibling;){const i=n.previousElementSibling;e?it(i).is(e)&&t.push(i):t.push(i),n=i}return it(t)},parent:function qde(e){const t=[];for(let n=0;n<this.length;n+=1)null!==this[n].parentNode&&(e?it(this[n].parentNode).is(e)&&t.push(this[n].parentNode):t.push(this[n].parentNode));return it(t)},parents:function Yde(e){const t=[];for(let n=0;n<this.length;n+=1){let i=this[n].parentNode;for(;i;)e?it(i).is(e)&&t.push(i):t.push(i),i=i.parentNode}return it(t)},closest:function Kde(e){let t=this;return typeof e>"u"?it([]):(t.is(e)||(t=t.parents(e).eq(0)),t)},find:function Xde(e){const t=[];for(let n=0;n<this.length;n+=1){const i=this[n].querySelectorAll(e);for(let r=0;r<i.length;r+=1)t.push(i[r])}return it(t)},children:function Qde(e){const t=[];for(let n=0;n<this.length;n+=1){const i=this[n].children;for(let r=0;r<i.length;r+=1)(!e||it(i[r]).is(e))&&t.push(i[r])}return it(t)},filter:function Pde(e){return it(jx(this,e))},remove:function Zde(){for(let e=0;e<this.length;e+=1)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this}};Object.keys(Ux).forEach(e=>{Object.defineProperty(it.fn,e,{value:Ux[e],writable:!0})});const Mt=it;function Nu(e,t=0){return setTimeout(e,t)}function K3(){return Date.now()}function c6(e){return"object"==typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)}function i9e(e){return typeof window<"u"&&typeof window.HTMLElement<"u"?e instanceof HTMLElement:e&&(1===e.nodeType||11===e.nodeType)}function T1(...e){const t=Object(e[0]),n=["__proto__","constructor","prototype"];for(let i=1;i<e.length;i+=1){const r=e[i];if(null!=r&&!i9e(r)){const s=Object.keys(Object(r)).filter(a=>n.indexOf(a)<0);for(let a=0,o=s.length;a<o;a+=1){const c=s[a],l=Object.getOwnPropertyDescriptor(r,c);void 0!==l&&l.enumerable&&(c6(t[c])&&c6(r[c])?r[c].__swiper__?t[c]=r[c]:T1(t[c],r[c]):!c6(t[c])&&c6(r[c])?(t[c]={},r[c].__swiper__?t[c]=r[c]:T1(t[c],r[c])):t[c]=r[c])}}}return t}function l6(e,t,n){e.style.setProperty(t,n)}function Wx({swiper:e,targetPosition:t,side:n}){const i=H2(),r=-e.translate;let a,s=null;const o=e.params.speed;e.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(e.cssModeFrameID);const c=t>r?"next":"prev",l=(f,h)=>"next"===c&&f>=h||"prev"===c&&f<=h,u=()=>{a=(new Date).getTime(),null===s&&(s=a);const f=Math.max(Math.min((a-s)/o,1),0),h=.5-Math.cos(f*Math.PI)/2;let m=r+h*(t-r);if(l(m,t)&&(m=t),e.wrapperEl.scrollTo({[n]:m}),l(m,t))return e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[n]:m})}),void i.cancelAnimationFrame(e.cssModeFrameID);e.cssModeFrameID=i.requestAnimationFrame(u)};u()}let Au,Pu,Ou;function Gx(){return Au||(Au=function r9e(){const e=H2(),t=f1();return{smoothScroll:t.documentElement&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch),passiveListener:function(){let i=!1;try{const r=Object.defineProperty({},"passive",{get(){i=!0}});e.addEventListener("testPassiveListener",null,r)}catch{}return i}(),gestures:"ongesturestart"in e}}()),Au}function qx({swiper:e,runCallbacks:t,direction:n,step:i}){const{activeIndex:r,previousIndex:s}=e;let a=n;if(a||(a=r>s?"next":r<s?"prev":"reset"),e.emit(`transition${i}`),t&&r!==s){if("reset"===a)return void e.emit(`slideResetTransition${i}`);e.emit(`slideChangeTransition${i}`),e.emit("next"===a?`slideNextTransition${i}`:`slidePrevTransition${i}`)}}function Y9e(e){const t=this,n=f1(),i=H2(),r=t.touchEventsData,{params:s,touches:a,enabled:o}=t;if(!o||t.animating&&s.preventInteractionOnTransition)return;!t.animating&&s.cssMode&&s.loop&&t.loopFix();let c=e;c.originalEvent&&(c=c.originalEvent);let l=Mt(c.target);if("wrapper"===s.touchEventsTarget&&!l.closest(t.wrapperEl).length||(r.isTouchEvent="touchstart"===c.type,!r.isTouchEvent&&"which"in c&&3===c.which)||!r.isTouchEvent&&"button"in c&&c.button>0||r.isTouched&&r.isMoved)return;const u=!!s.noSwipingClass&&""!==s.noSwipingClass,f=e.composedPath?e.composedPath():e.path;u&&c.target&&c.target.shadowRoot&&f&&(l=Mt(f[0]));const h=s.noSwipingSelector?s.noSwipingSelector:`.${s.noSwipingClass}`;if(s.noSwiping&&(c.target&&c.target.shadowRoot?function q9e(e,t=this){return function n(i){if(!i||i===f1()||i===H2())return null;i.assignedSlot&&(i=i.assignedSlot);const r=i.closest(e);return r||i.getRootNode?r||n(i.getRootNode().host):null}(t)}(h,l[0]):l.closest(h)[0]))return void(t.allowClick=!0);if(s.swipeHandler&&!l.closest(s.swipeHandler)[0])return;a.currentX="touchstart"===c.type?c.targetTouches[0].pageX:c.pageX,a.currentY="touchstart"===c.type?c.targetTouches[0].pageY:c.pageY;const v=a.currentX,g=a.currentY,C=s.edgeSwipeDetection||s.iOSEdgeSwipeDetection,y=s.edgeSwipeThreshold||s.iOSEdgeSwipeThreshold;if(C&&(v<=y||v>=i.innerWidth-y)){if("prevent"!==C)return;e.preventDefault()}if(Object.assign(r,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),a.startX=v,a.startY=g,r.touchStartTime=K3(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,s.threshold>0&&(r.allowThresholdMove=!1),"touchstart"!==c.type){let H=!0;l.is(r.focusableElements)&&(H=!1,"SELECT"===l[0].nodeName&&(r.isTouched=!1)),n.activeElement&&Mt(n.activeElement).is(r.focusableElements)&&n.activeElement!==l[0]&&n.activeElement.blur();const V=H&&t.allowTouchMove&&s.touchStartPreventDefault;(s.touchStartForcePreventDefault||V)&&!l[0].isContentEditable&&c.preventDefault()}t.params.freeMode&&t.params.freeMode.enabled&&t.freeMode&&t.animating&&!s.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",c)}function K9e(e){const t=f1(),n=this,i=n.touchEventsData,{params:r,touches:s,rtlTranslate:a,enabled:o}=n;if(!o)return;let c=e;if(c.originalEvent&&(c=c.originalEvent),!i.isTouched)return void(i.startMoving&&i.isScrolling&&n.emit("touchMoveOpposite",c));if(i.isTouchEvent&&"touchmove"!==c.type)return;const l="touchmove"===c.type&&c.targetTouches&&(c.targetTouches[0]||c.changedTouches[0]),u="touchmove"===c.type?l.pageX:c.pageX,f="touchmove"===c.type?l.pageY:c.pageY;if(c.preventedByNestedSwiper)return s.startX=u,void(s.startY=f);if(!n.allowTouchMove)return Mt(c.target).is(i.focusableElements)||(n.allowClick=!1),void(i.isTouched&&(Object.assign(s,{startX:u,startY:f,currentX:u,currentY:f}),i.touchStartTime=K3()));if(i.isTouchEvent&&r.touchReleaseOnEdges&&!r.loop)if(n.isVertical()){if(f<s.startY&&n.translate<=n.maxTranslate()||f>s.startY&&n.translate>=n.minTranslate())return i.isTouched=!1,void(i.isMoved=!1)}else if(u<s.startX&&n.translate<=n.maxTranslate()||u>s.startX&&n.translate>=n.minTranslate())return;if(i.isTouchEvent&&t.activeElement&&c.target===t.activeElement&&Mt(c.target).is(i.focusableElements))return i.isMoved=!0,void(n.allowClick=!1);if(i.allowTouchCallbacks&&n.emit("touchMove",c),c.targetTouches&&c.targetTouches.length>1)return;s.currentX=u,s.currentY=f;const h=s.currentX-s.startX,m=s.currentY-s.startY;if(n.params.threshold&&Math.sqrt(h**2+m**2)<n.params.threshold)return;if(typeof i.isScrolling>"u"){let y;n.isHorizontal()&&s.currentY===s.startY||n.isVertical()&&s.currentX===s.startX?i.isScrolling=!1:h*h+m*m>=25&&(y=180*Math.atan2(Math.abs(m),Math.abs(h))/Math.PI,i.isScrolling=n.isHorizontal()?y>r.touchAngle:90-y>r.touchAngle)}if(i.isScrolling&&n.emit("touchMoveOpposite",c),typeof i.startMoving>"u"&&(s.currentX!==s.startX||s.currentY!==s.startY)&&(i.startMoving=!0),i.isScrolling)return void(i.isTouched=!1);if(!i.startMoving)return;n.allowClick=!1,!r.cssMode&&c.cancelable&&c.preventDefault(),r.touchMoveStopPropagation&&!r.nested&&c.stopPropagation(),i.isMoved||(r.loop&&!r.cssMode&&n.loopFix(),i.startTranslate=n.getTranslate(),n.setTransition(0),n.animating&&n.$wrapperEl.trigger("webkitTransitionEnd transitionend"),i.allowMomentumBounce=!1,r.grabCursor&&(!0===n.allowSlideNext||!0===n.allowSlidePrev)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",c)),n.emit("sliderMove",c),i.isMoved=!0;let v=n.isHorizontal()?h:m;s.diff=v,v*=r.touchRatio,a&&(v=-v),n.swipeDirection=v>0?"prev":"next",i.currentTranslate=v+i.startTranslate;let g=!0,C=r.resistanceRatio;if(r.touchReleaseOnEdges&&(C=0),v>0&&i.currentTranslate>n.minTranslate()?(g=!1,r.resistance&&(i.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+i.startTranslate+v)**C)):v<0&&i.currentTranslate<n.maxTranslate()&&(g=!1,r.resistance&&(i.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-i.startTranslate-v)**C)),g&&(c.preventedByNestedSwiper=!0),!n.allowSlideNext&&"next"===n.swipeDirection&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!n.allowSlidePrev&&"prev"===n.swipeDirection&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(i.currentTranslate=i.startTranslate),r.threshold>0){if(!(Math.abs(v)>r.threshold||i.allowThresholdMove))return void(i.currentTranslate=i.startTranslate);if(!i.allowThresholdMove)return i.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,i.currentTranslate=i.startTranslate,void(s.diff=n.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY)}!r.followFinger||r.cssMode||((r.freeMode&&r.freeMode.enabled&&n.freeMode||r.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),n.params.freeMode&&r.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(i.currentTranslate),n.setTranslate(i.currentTranslate))}function X9e(e){const t=this,n=t.touchEventsData,{params:i,touches:r,rtlTranslate:s,slidesGrid:a,enabled:o}=t;if(!o)return;let c=e;if(c.originalEvent&&(c=c.originalEvent),n.allowTouchCallbacks&&t.emit("touchEnd",c),n.allowTouchCallbacks=!1,!n.isTouched)return n.isMoved&&i.grabCursor&&t.setGrabCursor(!1),n.isMoved=!1,void(n.startMoving=!1);i.grabCursor&&n.isMoved&&n.isTouched&&(!0===t.allowSlideNext||!0===t.allowSlidePrev)&&t.setGrabCursor(!1);const l=K3(),u=l-n.touchStartTime;if(t.allowClick){const H=c.path||c.composedPath&&c.composedPath();t.updateClickedSlide(H&&H[0]||c.target),t.emit("tap click",c),u<300&&l-n.lastClickTime<300&&t.emit("doubleTap doubleClick",c)}if(n.lastClickTime=K3(),Nu(()=>{t.destroyed||(t.allowClick=!0)}),!n.isTouched||!n.isMoved||!t.swipeDirection||0===r.diff||n.currentTranslate===n.startTranslate)return n.isTouched=!1,n.isMoved=!1,void(n.startMoving=!1);let f;if(n.isTouched=!1,n.isMoved=!1,n.startMoving=!1,f=i.followFinger?s?t.translate:-t.translate:-n.currentTranslate,i.cssMode)return;if(t.params.freeMode&&i.freeMode.enabled)return void t.freeMode.onTouchEnd({currentPos:f});let h=0,m=t.slidesSizesGrid[0];for(let H=0;H<a.length;H+=H<i.slidesPerGroupSkip?1:i.slidesPerGroup){const V=H<i.slidesPerGroupSkip-1?1:i.slidesPerGroup;typeof a[H+V]<"u"?f>=a[H]&&f<a[H+V]&&(h=H,m=a[H+V]-a[H]):f>=a[H]&&(h=H,m=a[a.length-1]-a[a.length-2])}let v=null,g=null;i.rewind&&(t.isBeginning?g=t.params.virtual&&t.params.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(v=0));const C=(f-a[h])/m,y=h<i.slidesPerGroupSkip-1?1:i.slidesPerGroup;if(u>i.longSwipesMs){if(!i.longSwipes)return void t.slideTo(t.activeIndex);"next"===t.swipeDirection&&t.slideTo(C>=i.longSwipesRatio?i.rewind&&t.isEnd?v:h+y:h),"prev"===t.swipeDirection&&(C>1-i.longSwipesRatio?t.slideTo(h+y):null!==g&&C<0&&Math.abs(C)>i.longSwipesRatio?t.slideTo(g):t.slideTo(h))}else{if(!i.shortSwipes)return void t.slideTo(t.activeIndex);!t.navigation||c.target!==t.navigation.nextEl&&c.target!==t.navigation.prevEl?("next"===t.swipeDirection&&t.slideTo(null!==v?v:h+y),"prev"===t.swipeDirection&&t.slideTo(null!==g?g:h)):t.slideTo(c.target===t.navigation.nextEl?h+y:h)}}function Yx(){const e=this,{params:t,el:n}=e;if(n&&0===n.offsetWidth)return;t.breakpoints&&e.setBreakpoint();const{allowSlideNext:i,allowSlidePrev:r,snapGrid:s}=e;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses(),e.slideTo(("auto"===t.slidesPerView||t.slidesPerView>1)&&e.isEnd&&!e.isBeginning&&!e.params.centeredSlides?e.slides.length-1:e.activeIndex,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.run(),e.allowSlidePrev=r,e.allowSlideNext=i,e.params.watchOverflow&&s!==e.snapGrid&&e.checkOverflow()}function Q9e(e){const t=this;!t.enabled||t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation()))}function Z9e(){const e=this,{wrapperEl:t,rtlTranslate:n,enabled:i}=e;if(!i)return;let r;e.previousTranslate=e.translate,e.translate=e.isHorizontal()?-t.scrollLeft:-t.scrollTop,0===e.translate&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();const s=e.maxTranslate()-e.minTranslate();r=0===s?0:(e.translate-e.minTranslate())/s,r!==e.progress&&e.updateProgress(n?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}let Kx=!1;function J9e(){}const Xx=(e,t)=>{const n=f1(),{params:i,touchEvents:r,el:s,wrapperEl:a,device:o,support:c}=e,l=!!i.nested,u="on"===t?"addEventListener":"removeEventListener",f=t;if(c.touch){const h=!("touchstart"!==r.start||!c.passiveListener||!i.passiveListeners)&&{passive:!0,capture:!1};s[u](r.start,e.onTouchStart,h),s[u](r.move,e.onTouchMove,c.passiveListener?{passive:!1,capture:l}:l),s[u](r.end,e.onTouchEnd,h),r.cancel&&s[u](r.cancel,e.onTouchEnd,h)}else s[u](r.start,e.onTouchStart,!1),n[u](r.move,e.onTouchMove,l),n[u](r.end,e.onTouchEnd,!1);(i.preventClicks||i.preventClicksPropagation)&&s[u]("click",e.onClick,!0),i.cssMode&&a[u]("scroll",e.onScroll),e[f](i.updateOnWindowResize?o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate":"observerUpdate",Yx,!0)},Qx=(e,t)=>e.grid&&t.grid&&t.grid.rows>1,Zx={init:!0,direction:"horizontal",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopedSlidesLimit:!0,loopFillGroupWithBlank:!1,loopPreventsSlide:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0,_emitClasses:!1};function mhe(e,t){return function(i={}){const r=Object.keys(i)[0],s=i[r];"object"==typeof s&&null!==s?(["navigation","pagination","scrollbar"].indexOf(r)>=0&&!0===e[r]&&(e[r]={auto:!0}),r in e&&"enabled"in s?(!0===e[r]&&(e[r]={enabled:!0}),"object"==typeof e[r]&&!("enabled"in e[r])&&(e[r].enabled=!0),e[r]||(e[r]={enabled:!1}),T1(t,i)):T1(t,i)):T1(t,i)}}const ku={eventsEmitter:{on(e,t,n){const i=this;if(!i.eventsListeners||i.destroyed||"function"!=typeof t)return i;const r=n?"unshift":"push";return e.split(" ").forEach(s=>{i.eventsListeners[s]||(i.eventsListeners[s]=[]),i.eventsListeners[s][r](t)}),i},once(e,t,n){const i=this;if(!i.eventsListeners||i.destroyed||"function"!=typeof t)return i;function r(...s){i.off(e,r),r.__emitterProxy&&delete r.__emitterProxy,t.apply(i,s)}return r.__emitterProxy=t,i.on(e,r,n)},onAny(e,t){const n=this;if(!n.eventsListeners||n.destroyed||"function"!=typeof e)return n;const i=t?"unshift":"push";return n.eventsAnyListeners.indexOf(e)<0&&n.eventsAnyListeners[i](e),n},offAny(e){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsAnyListeners)return t;const n=t.eventsAnyListeners.indexOf(e);return n>=0&&t.eventsAnyListeners.splice(n,1),t},off(e,t){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||e.split(" ").forEach(i=>{typeof t>"u"?n.eventsListeners[i]=[]:n.eventsListeners[i]&&n.eventsListeners[i].forEach((r,s)=>{(r===t||r.__emitterProxy&&r.__emitterProxy===t)&&n.eventsListeners[i].splice(s,1)})}),n},emit(...e){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let n,i,r;return"string"==typeof e[0]||Array.isArray(e[0])?(n=e[0],i=e.slice(1,e.length),r=t):(n=e[0].events,i=e[0].data,r=e[0].context||t),i.unshift(r),(Array.isArray(n)?n:n.split(" ")).forEach(a=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(o=>{o.apply(r,[a,...i])}),t.eventsListeners&&t.eventsListeners[a]&&t.eventsListeners[a].forEach(o=>{o.apply(r,i)})}),t}},update:{updateSize:function d9e(){const e=this;let t,n;const i=e.$el;t=typeof e.params.width<"u"&&null!==e.params.width?e.params.width:i[0].clientWidth,n=typeof e.params.height<"u"&&null!==e.params.height?e.params.height:i[0].clientHeight,!(0===t&&e.isHorizontal()||0===n&&e.isVertical())&&(t=t-parseInt(i.css("padding-left")||0,10)-parseInt(i.css("padding-right")||0,10),n=n-parseInt(i.css("padding-top")||0,10)-parseInt(i.css("padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(n)&&(n=0),Object.assign(e,{width:t,height:n,size:e.isHorizontal()?t:n}))},updateSlides:function h9e(){const e=this;function t(ue){return e.isHorizontal()?ue:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[ue]}function n(ue,Q){return parseFloat(ue.getPropertyValue(t(Q))||0)}const i=e.params,{$wrapperEl:r,size:s,rtlTranslate:a,wrongRTL:o}=e,c=e.virtual&&i.virtual.enabled,l=c?e.virtual.slides.length:e.slides.length,u=r.children(`.${e.params.slideClass}`),f=c?e.virtual.slides.length:u.length;let h=[];const m=[],v=[];let g=i.slidesOffsetBefore;"function"==typeof g&&(g=i.slidesOffsetBefore.call(e));let C=i.slidesOffsetAfter;"function"==typeof C&&(C=i.slidesOffsetAfter.call(e));const y=e.snapGrid.length,H=e.slidesGrid.length;let V=i.spaceBetween,b=-g,F=0,I=0;if(typeof s>"u")return;"string"==typeof V&&V.indexOf("%")>=0&&(V=parseFloat(V.replace("%",""))/100*s),e.virtualSize=-V,u.css(a?{marginLeft:"",marginBottom:"",marginTop:""}:{marginRight:"",marginBottom:"",marginTop:""}),i.centeredSlides&&i.cssMode&&(l6(e.wrapperEl,"--swiper-centered-offset-before",""),l6(e.wrapperEl,"--swiper-centered-offset-after",""));const te=i.grid&&i.grid.rows>1&&e.grid;let de;te&&e.grid.initSlides(f);const me="auto"===i.slidesPerView&&i.breakpoints&&Object.keys(i.breakpoints).filter(ue=>typeof i.breakpoints[ue].slidesPerView<"u").length>0;for(let ue=0;ue<f;ue+=1){de=0;const Q=u.eq(ue);if(te&&e.grid.updateSlide(ue,Q,f,t),"none"!==Q.css("display")){if("auto"===i.slidesPerView){me&&(u[ue].style[t("width")]="");const G=getComputedStyle(Q[0]),J=Q[0].style.transform,Se=Q[0].style.webkitTransform;if(J&&(Q[0].style.transform="none"),Se&&(Q[0].style.webkitTransform="none"),i.roundLengths)de=e.isHorizontal()?Q.outerWidth(!0):Q.outerHeight(!0);else{const Ee=n(G,"width"),ee=n(G,"padding-left"),Me=n(G,"padding-right"),ye=n(G,"margin-left"),Qe=n(G,"margin-right"),ut=G.getPropertyValue("box-sizing");if(ut&&"border-box"===ut)de=Ee+ye+Qe;else{const{clientWidth:e2,offsetWidth:x2}=Q[0];de=Ee+ee+Me+ye+Qe+(x2-e2)}}J&&(Q[0].style.transform=J),Se&&(Q[0].style.webkitTransform=Se),i.roundLengths&&(de=Math.floor(de))}else de=(s-(i.slidesPerView-1)*V)/i.slidesPerView,i.roundLengths&&(de=Math.floor(de)),u[ue]&&(u[ue].style[t("width")]=`${de}px`);u[ue]&&(u[ue].swiperSlideSize=de),v.push(de),i.centeredSlides?(b=b+de/2+F/2+V,0===F&&0!==ue&&(b=b-s/2-V),0===ue&&(b=b-s/2-V),Math.abs(b)<.001&&(b=0),i.roundLengths&&(b=Math.floor(b)),I%i.slidesPerGroup==0&&h.push(b),m.push(b)):(i.roundLengths&&(b=Math.floor(b)),(I-Math.min(e.params.slidesPerGroupSkip,I))%e.params.slidesPerGroup==0&&h.push(b),m.push(b),b=b+de+V),e.virtualSize+=de+V,F=de,I+=1}}if(e.virtualSize=Math.max(e.virtualSize,s)+C,a&&o&&("slide"===i.effect||"coverflow"===i.effect)&&r.css({width:`${e.virtualSize+i.spaceBetween}px`}),i.setWrapperSize&&r.css({[t("width")]:`${e.virtualSize+i.spaceBetween}px`}),te&&e.grid.updateWrapperSize(de,h,t),!i.centeredSlides){const ue=[];for(let Q=0;Q<h.length;Q+=1){let G=h[Q];i.roundLengths&&(G=Math.floor(G)),h[Q]<=e.virtualSize-s&&ue.push(G)}h=ue,Math.floor(e.virtualSize-s)-Math.floor(h[h.length-1])>1&&h.push(e.virtualSize-s)}if(0===h.length&&(h=[0]),0!==i.spaceBetween){const ue=e.isHorizontal()&&a?"marginLeft":t("marginRight");u.filter((Q,G)=>!i.cssMode||G!==u.length-1).css({[ue]:`${V}px`})}if(i.centeredSlides&&i.centeredSlidesBounds){let ue=0;v.forEach(G=>{ue+=G+(i.spaceBetween?i.spaceBetween:0)}),ue-=i.spaceBetween;const Q=ue-s;h=h.map(G=>G<0?-g:G>Q?Q+C:G)}if(i.centerInsufficientSlides){let ue=0;if(v.forEach(Q=>{ue+=Q+(i.spaceBetween?i.spaceBetween:0)}),ue-=i.spaceBetween,ue<s){const Q=(s-ue)/2;h.forEach((G,J)=>{h[J]=G-Q}),m.forEach((G,J)=>{m[J]=G+Q})}}if(Object.assign(e,{slides:u,snapGrid:h,slidesGrid:m,slidesSizesGrid:v}),i.centeredSlides&&i.cssMode&&!i.centeredSlidesBounds){l6(e.wrapperEl,"--swiper-centered-offset-before",-h[0]+"px"),l6(e.wrapperEl,"--swiper-centered-offset-after",e.size/2-v[v.length-1]/2+"px");const ue=-e.snapGrid[0],Q=-e.slidesGrid[0];e.snapGrid=e.snapGrid.map(G=>G+ue),e.slidesGrid=e.slidesGrid.map(G=>G+Q)}if(f!==l&&e.emit("slidesLengthChange"),h.length!==y&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),m.length!==H&&e.emit("slidesGridLengthChange"),i.watchSlidesProgress&&e.updateSlidesOffset(),!(c||i.cssMode||"slide"!==i.effect&&"fade"!==i.effect)){const ue=`${i.containerModifierClass}backface-hidden`,Q=e.$el.hasClass(ue);f<=i.maxBackfaceHiddenSlides?Q||e.$el.addClass(ue):Q&&e.$el.removeClass(ue)}},updateAutoHeight:function p9e(e){const t=this,n=[],i=t.virtual&&t.params.virtual.enabled;let s,r=0;"number"==typeof e?t.setTransition(e):!0===e&&t.setTransition(t.params.speed);const a=o=>i?t.slides.filter(c=>parseInt(c.getAttribute("data-swiper-slide-index"),10)===o)[0]:t.slides.eq(o)[0];if("auto"!==t.params.slidesPerView&&t.params.slidesPerView>1)if(t.params.centeredSlides)(t.visibleSlides||Mt([])).each(o=>{n.push(o)});else for(s=0;s<Math.ceil(t.params.slidesPerView);s+=1){const o=t.activeIndex+s;if(o>t.slides.length&&!i)break;n.push(a(o))}else n.push(a(t.activeIndex));for(s=0;s<n.length;s+=1)if(typeof n[s]<"u"){const o=n[s].offsetHeight;r=o>r?o:r}(r||0===r)&&t.$wrapperEl.css("height",`${r}px`)},updateSlidesOffset:function m9e(){const e=this,t=e.slides;for(let n=0;n<t.length;n+=1)t[n].swiperSlideOffset=e.isHorizontal()?t[n].offsetLeft:t[n].offsetTop},updateSlidesProgress:function g9e(e=this&&this.translate||0){const t=this,n=t.params,{slides:i,rtlTranslate:r,snapGrid:s}=t;if(0===i.length)return;typeof i[0].swiperSlideOffset>"u"&&t.updateSlidesOffset();let a=-e;r&&(a=e),i.removeClass(n.slideVisibleClass),t.visibleSlidesIndexes=[],t.visibleSlides=[];for(let o=0;o<i.length;o+=1){const c=i[o];let l=c.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(l-=i[0].swiperSlideOffset);const u=(a+(n.centeredSlides?t.minTranslate():0)-l)/(c.swiperSlideSize+n.spaceBetween),f=(a-s[0]+(n.centeredSlides?t.minTranslate():0)-l)/(c.swiperSlideSize+n.spaceBetween),h=-(a-l),m=h+t.slidesSizesGrid[o];(h>=0&&h<t.size-1||m>1&&m<=t.size||h<=0&&m>=t.size)&&(t.visibleSlides.push(c),t.visibleSlidesIndexes.push(o),i.eq(o).addClass(n.slideVisibleClass)),c.progress=r?-u:u,c.originalProgress=r?-f:f}t.visibleSlides=Mt(t.visibleSlides)},updateProgress:function v9e(e){const t=this;if(typeof e>"u"){const l=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*l||0}const n=t.params,i=t.maxTranslate()-t.minTranslate();let{progress:r,isBeginning:s,isEnd:a}=t;const o=s,c=a;0===i?(r=0,s=!0,a=!0):(r=(e-t.minTranslate())/i,s=r<=0,a=r>=1),Object.assign(t,{progress:r,isBeginning:s,isEnd:a}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&t.updateSlidesProgress(e),s&&!o&&t.emit("reachBeginning toEdge"),a&&!c&&t.emit("reachEnd toEdge"),(o&&!s||c&&!a)&&t.emit("fromEdge"),t.emit("progress",r)},updateSlidesClasses:function C9e(){const e=this,{slides:t,params:n,$wrapperEl:i,activeIndex:r,realIndex:s}=e,a=e.virtual&&n.virtual.enabled;let o;t.removeClass(`${n.slideActiveClass} ${n.slideNextClass} ${n.slidePrevClass} ${n.slideDuplicateActiveClass} ${n.slideDuplicateNextClass} ${n.slideDuplicatePrevClass}`),o=a?e.$wrapperEl.find(`.${n.slideClass}[data-swiper-slide-index="${r}"]`):t.eq(r),o.addClass(n.slideActiveClass),n.loop&&(o.hasClass(n.slideDuplicateClass)?i.children(`.${n.slideClass}:not(.${n.slideDuplicateClass})[data-swiper-slide-index="${s}"]`).addClass(n.slideDuplicateActiveClass):i.children(`.${n.slideClass}.${n.slideDuplicateClass}[data-swiper-slide-index="${s}"]`).addClass(n.slideDuplicateActiveClass));let c=o.nextAll(`.${n.slideClass}`).eq(0).addClass(n.slideNextClass);n.loop&&0===c.length&&(c=t.eq(0),c.addClass(n.slideNextClass));let l=o.prevAll(`.${n.slideClass}`).eq(0).addClass(n.slidePrevClass);n.loop&&0===l.length&&(l=t.eq(-1),l.addClass(n.slidePrevClass)),n.loop&&(c.hasClass(n.slideDuplicateClass)?i.children(`.${n.slideClass}:not(.${n.slideDuplicateClass})[data-swiper-slide-index="${c.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicateNextClass):i.children(`.${n.slideClass}.${n.slideDuplicateClass}[data-swiper-slide-index="${c.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicateNextClass),l.hasClass(n.slideDuplicateClass)?i.children(`.${n.slideClass}:not(.${n.slideDuplicateClass})[data-swiper-slide-index="${l.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicatePrevClass):i.children(`.${n.slideClass}.${n.slideDuplicateClass}[data-swiper-slide-index="${l.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicatePrevClass)),e.emitSlidesClasses()},updateActiveIndex:function y9e(e){const t=this,n=t.rtlTranslate?t.translate:-t.translate,{slidesGrid:i,snapGrid:r,params:s,activeIndex:a,realIndex:o,snapIndex:c}=t;let u,l=e;if(typeof l>"u"){for(let h=0;h<i.length;h+=1)typeof i[h+1]<"u"?n>=i[h]&&n<i[h+1]-(i[h+1]-i[h])/2?l=h:n>=i[h]&&n<i[h+1]&&(l=h+1):n>=i[h]&&(l=h);s.normalizeSlideIndex&&(l<0||typeof l>"u")&&(l=0)}if(r.indexOf(n)>=0)u=r.indexOf(n);else{const h=Math.min(s.slidesPerGroupSkip,l);u=h+Math.floor((l-h)/s.slidesPerGroup)}if(u>=r.length&&(u=r.length-1),l===a)return void(u!==c&&(t.snapIndex=u,t.emit("snapIndexChange")));const f=parseInt(t.slides.eq(l).attr("data-swiper-slide-index")||l,10);Object.assign(t,{snapIndex:u,realIndex:f,previousIndex:a,activeIndex:l}),t.emit("activeIndexChange"),t.emit("snapIndexChange"),o!==f&&t.emit("realIndexChange"),(t.initialized||t.params.runCallbacksOnInit)&&t.emit("slideChange")},updateClickedSlide:function M9e(e){const t=this,n=t.params,i=Mt(e).closest(`.${n.slideClass}`)[0];let s,r=!1;if(i)for(let a=0;a<t.slides.length;a+=1)if(t.slides[a]===i){r=!0,s=a;break}if(!i||!r)return t.clickedSlide=void 0,void(t.clickedIndex=void 0);t.clickedSlide=i,t.clickedIndex=t.virtual&&t.params.virtual.enabled?parseInt(Mt(i).attr("data-swiper-slide-index"),10):s,n.slideToClickedSlide&&void 0!==t.clickedIndex&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}},translate:{getTranslate:function b9e(e=(this.isHorizontal()?"x":"y")){const{params:n,rtlTranslate:i,translate:r,$wrapperEl:s}=this;if(n.virtualTranslate)return i?-r:r;if(n.cssMode)return r;let a=function n9e(e,t="x"){const n=H2();let i,r,s;const a=function t9e(e){const t=H2();let n;return t.getComputedStyle&&(n=t.getComputedStyle(e,null)),!n&&e.currentStyle&&(n=e.currentStyle),n||(n=e.style),n}(e);return n.WebKitCSSMatrix?(r=a.transform||a.webkitTransform,r.split(",").length>6&&(r=r.split(", ").map(o=>o.replace(",",".")).join(", ")),s=new n.WebKitCSSMatrix("none"===r?"":r)):(s=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),i=s.toString().split(",")),"x"===t&&(r=n.WebKitCSSMatrix?s.m41:16===i.length?parseFloat(i[12]):parseFloat(i[4])),"y"===t&&(r=n.WebKitCSSMatrix?s.m42:16===i.length?parseFloat(i[13]):parseFloat(i[5])),r||0}(s[0],e);return i&&(a=-a),a||0},setTranslate:function V9e(e,t){const n=this,{rtlTranslate:i,params:r,$wrapperEl:s,wrapperEl:a,progress:o}=n;let f,c=0,l=0;n.isHorizontal()?c=i?-e:e:l=e,r.roundLengths&&(c=Math.floor(c),l=Math.floor(l)),r.cssMode?a[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-c:-l:r.virtualTranslate||s.transform(`translate3d(${c}px, ${l}px, 0px)`),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?c:l;const h=n.maxTranslate()-n.minTranslate();f=0===h?0:(e-n.minTranslate())/h,f!==o&&n.updateProgress(e),n.emit("setTranslate",n.translate,t)},minTranslate:function S9e(){return-this.snapGrid[0]},maxTranslate:function w9e(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function H9e(e=0,t=this.params.speed,n=!0,i=!0,r){const s=this,{params:a,wrapperEl:o}=s;if(s.animating&&a.preventInteractionOnTransition)return!1;const c=s.minTranslate(),l=s.maxTranslate();let u;if(u=i&&e>c?c:i&&e<l?l:e,s.updateProgress(u),a.cssMode){const f=s.isHorizontal();if(0===t)o[f?"scrollLeft":"scrollTop"]=-u;else{if(!s.support.smoothScroll)return Wx({swiper:s,targetPosition:-u,side:f?"left":"top"}),!0;o.scrollTo({[f?"left":"top"]:-u,behavior:"smooth"})}return!0}return 0===t?(s.setTransition(0),s.setTranslate(u),n&&(s.emit("beforeTransitionStart",t,r),s.emit("transitionEnd"))):(s.setTransition(t),s.setTranslate(u),n&&(s.emit("beforeTransitionStart",t,r),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(h){!s||s.destroyed||h.target===this&&(s.$wrapperEl[0].removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.$wrapperEl[0].removeEventListener("webkitTransitionEnd",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,n&&s.emit("transitionEnd"))}),s.$wrapperEl[0].addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.$wrapperEl[0].addEventListener("webkitTransitionEnd",s.onTranslateToWrapperTransitionEnd))),!0}},transition:{setTransition:function z9e(e,t){const n=this;n.params.cssMode||n.$wrapperEl.transition(e),n.emit("setTransition",e,t)},transitionStart:function L9e(e=!0,t){const n=this,{params:i}=n;i.cssMode||(i.autoHeight&&n.updateAutoHeight(),qx({swiper:n,runCallbacks:e,direction:t,step:"Start"}))},transitionEnd:function E9e(e=!0,t){const n=this,{params:i}=n;n.animating=!1,!i.cssMode&&(n.setTransition(0),qx({swiper:n,runCallbacks:e,direction:t,step:"End"}))}},slide:{slideTo:function D9e(e=0,t=this.params.speed,n=!0,i,r){if("number"!=typeof e&&"string"!=typeof e)throw new Error(`The 'index' argument cannot have type other than 'number' or 'string'. [${typeof e}] given.`);if("string"==typeof e){const V=parseInt(e,10);if(!isFinite(V))throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${e}] given.`);e=V}const s=this;let a=e;a<0&&(a=0);const{params:o,snapGrid:c,slidesGrid:l,previousIndex:u,activeIndex:f,rtlTranslate:h,wrapperEl:m,enabled:v}=s;if(s.animating&&o.preventInteractionOnTransition||!v&&!i&&!r)return!1;const g=Math.min(s.params.slidesPerGroupSkip,a);let C=g+Math.floor((a-g)/s.params.slidesPerGroup);C>=c.length&&(C=c.length-1);const y=-c[C];if(o.normalizeSlideIndex)for(let V=0;V<l.length;V+=1){const b=-Math.floor(100*y),F=Math.floor(100*l[V]),I=Math.floor(100*l[V+1]);typeof l[V+1]<"u"?b>=F&&b<I-(I-F)/2?a=V:b>=F&&b<I&&(a=V+1):b>=F&&(a=V)}if(s.initialized&&a!==f&&(!s.allowSlideNext&&y<s.translate&&y<s.minTranslate()||!s.allowSlidePrev&&y>s.translate&&y>s.maxTranslate()&&(f||0)!==a))return!1;let H;if(a!==(u||0)&&n&&s.emit("beforeSlideChangeStart"),s.updateProgress(y),H=a>f?"next":a<f?"prev":"reset",h&&-y===s.translate||!h&&y===s.translate)return s.updateActiveIndex(a),o.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),"slide"!==o.effect&&s.setTranslate(y),"reset"!==H&&(s.transitionStart(n,H),s.transitionEnd(n,H)),!1;if(o.cssMode){const V=s.isHorizontal(),b=h?y:-y;if(0===t){const F=s.virtual&&s.params.virtual.enabled;F&&(s.wrapperEl.style.scrollSnapType="none",s._immediateVirtual=!0),m[V?"scrollLeft":"scrollTop"]=b,F&&requestAnimationFrame(()=>{s.wrapperEl.style.scrollSnapType="",s._swiperImmediateVirtual=!1})}else{if(!s.support.smoothScroll)return Wx({swiper:s,targetPosition:b,side:V?"left":"top"}),!0;m.scrollTo({[V?"left":"top"]:b,behavior:"smooth"})}return!0}return s.setTransition(t),s.setTranslate(y),s.updateActiveIndex(a),s.updateSlidesClasses(),s.emit("beforeTransitionStart",t,i),s.transitionStart(n,H),0===t?s.transitionEnd(n,H):s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(b){!s||s.destroyed||b.target===this&&(s.$wrapperEl[0].removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.$wrapperEl[0].removeEventListener("webkitTransitionEnd",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(n,H))}),s.$wrapperEl[0].addEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.$wrapperEl[0].addEventListener("webkitTransitionEnd",s.onSlideToWrapperTransitionEnd)),!0},slideToLoop:function N9e(e=0,t=this.params.speed,n=!0,i){if("string"==typeof e){const a=parseInt(e,10);if(!isFinite(a))throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${e}] given.`);e=a}const r=this;let s=e;return r.params.loop&&(s+=r.loopedSlides),r.slideTo(s,t,n,i)},slideNext:function A9e(e=this.params.speed,t=!0,n){const i=this,{animating:r,enabled:s,params:a}=i;if(!s)return i;let o=a.slidesPerGroup;"auto"===a.slidesPerView&&1===a.slidesPerGroup&&a.slidesPerGroupAuto&&(o=Math.max(i.slidesPerViewDynamic("current",!0),1));const c=i.activeIndex<a.slidesPerGroupSkip?1:o;if(a.loop){if(r&&a.loopPreventsSlide)return!1;i.loopFix(),i._clientLeft=i.$wrapperEl[0].clientLeft}return i.slideTo(a.rewind&&i.isEnd?0:i.activeIndex+c,e,t,n)},slidePrev:function P9e(e=this.params.speed,t=!0,n){const i=this,{params:r,animating:s,snapGrid:a,slidesGrid:o,rtlTranslate:c,enabled:l}=i;if(!l)return i;if(r.loop){if(s&&r.loopPreventsSlide)return!1;i.loopFix(),i._clientLeft=i.$wrapperEl[0].clientLeft}function f(C){return C<0?-Math.floor(Math.abs(C)):Math.floor(C)}const h=f(c?i.translate:-i.translate),m=a.map(C=>f(C));let v=a[m.indexOf(h)-1];if(typeof v>"u"&&r.cssMode){let C;a.forEach((y,H)=>{h>=y&&(C=H)}),typeof C<"u"&&(v=a[C>0?C-1:C])}let g=0;return typeof v<"u"&&(g=o.indexOf(v),g<0&&(g=i.activeIndex-1),"auto"===r.slidesPerView&&1===r.slidesPerGroup&&r.slidesPerGroupAuto&&(g=g-i.slidesPerViewDynamic("previous",!0)+1,g=Math.max(g,0))),i.slideTo(r.rewind&&i.isBeginning?i.params.virtual&&i.params.virtual.enabled&&i.virtual?i.virtual.slides.length-1:i.slides.length-1:g,e,t,n)},slideReset:function O9e(e=this.params.speed,t=!0,n){return this.slideTo(this.activeIndex,e,t,n)},slideToClosest:function k9e(e=this.params.speed,t=!0,n,i=.5){const r=this;let s=r.activeIndex;const a=Math.min(r.params.slidesPerGroupSkip,s),o=a+Math.floor((s-a)/r.params.slidesPerGroup),c=r.rtlTranslate?r.translate:-r.translate;if(c>=r.snapGrid[o]){const l=r.snapGrid[o];c-l>(r.snapGrid[o+1]-l)*i&&(s+=r.params.slidesPerGroup)}else{const l=r.snapGrid[o-1];c-l<=(r.snapGrid[o]-l)*i&&(s-=r.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,r.slidesGrid.length-1),r.slideTo(s,e,t,n)},slideToClickedSlide:function I9e(){const e=this,{params:t,$wrapperEl:n}=e,i="auto"===t.slidesPerView?e.slidesPerViewDynamic():t.slidesPerView;let s,r=e.clickedIndex;if(t.loop){if(e.animating)return;s=parseInt(Mt(e.clickedSlide).attr("data-swiper-slide-index"),10),t.centeredSlides?r<e.loopedSlides-i/2||r>e.slides.length-e.loopedSlides+i/2?(e.loopFix(),r=n.children(`.${t.slideClass}[data-swiper-slide-index="${s}"]:not(.${t.slideDuplicateClass})`).eq(0).index(),Nu(()=>{e.slideTo(r)})):e.slideTo(r):r>e.slides.length-i?(e.loopFix(),r=n.children(`.${t.slideClass}[data-swiper-slide-index="${s}"]:not(.${t.slideDuplicateClass})`).eq(0).index(),Nu(()=>{e.slideTo(r)})):e.slideTo(r)}else e.slideTo(r)}},loop:{loopCreate:function R9e(){const e=this,t=f1(),{params:n,$wrapperEl:i}=e,r=i.children().length>0?Mt(i.children()[0].parentNode):i;r.children(`.${n.slideClass}.${n.slideDuplicateClass}`).remove();let s=r.children(`.${n.slideClass}`);if(n.loopFillGroupWithBlank){const c=n.slidesPerGroup-s.length%n.slidesPerGroup;if(c!==n.slidesPerGroup){for(let l=0;l<c;l+=1){const u=Mt(t.createElement("div")).addClass(`${n.slideClass} ${n.slideBlankClass}`);r.append(u)}s=r.children(`.${n.slideClass}`)}}"auto"===n.slidesPerView&&!n.loopedSlides&&(n.loopedSlides=s.length),e.loopedSlides=Math.ceil(parseFloat(n.loopedSlides||n.slidesPerView,10)),e.loopedSlides+=n.loopAdditionalSlides,e.loopedSlides>s.length&&e.params.loopedSlidesLimit&&(e.loopedSlides=s.length);const a=[],o=[];s.each((c,l)=>{Mt(c).attr("data-swiper-slide-index",l)});for(let c=0;c<e.loopedSlides;c+=1){const l=c-Math.floor(c/s.length)*s.length;o.push(s.eq(l)[0]),a.unshift(s.eq(s.length-l-1)[0])}for(let c=0;c<o.length;c+=1)r.append(Mt(o[c].cloneNode(!0)).addClass(n.slideDuplicateClass));for(let c=a.length-1;c>=0;c-=1)r.prepend(Mt(a[c].cloneNode(!0)).addClass(n.slideDuplicateClass))},loopFix:function B9e(){const e=this;e.emit("beforeLoopFix");const{activeIndex:t,slides:n,loopedSlides:i,allowSlidePrev:r,allowSlideNext:s,snapGrid:a,rtlTranslate:o}=e;let c;e.allowSlidePrev=!0,e.allowSlideNext=!0;const u=-a[t]-e.getTranslate();t<i?(c=n.length-3*i+t,c+=i,e.slideTo(c,0,!1,!0)&&0!==u&&e.setTranslate((o?-e.translate:e.translate)-u)):t>=n.length-i&&(c=-n.length+t+i,c+=i,e.slideTo(c,0,!1,!0)&&0!==u&&e.setTranslate((o?-e.translate:e.translate)-u)),e.allowSlidePrev=r,e.allowSlideNext=s,e.emit("loopFix")},loopDestroy:function $9e(){const{$wrapperEl:t,params:n,slides:i}=this;t.children(`.${n.slideClass}.${n.slideDuplicateClass},.${n.slideClass}.${n.slideBlankClass}`).remove(),i.removeAttr("data-swiper-slide-index")}},grabCursor:{setGrabCursor:function U9e(e){const t=this;if(t.support.touch||!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)return;const n="container"===t.params.touchEventsTarget?t.el:t.wrapperEl;n.style.cursor="move",n.style.cursor=e?"grabbing":"grab"},unsetGrabCursor:function W9e(){const e=this;e.support.touch||e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e["container"===e.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="")}},events:{attachEvents:function ehe(){const e=this,t=f1(),{params:n,support:i}=e;e.onTouchStart=Y9e.bind(e),e.onTouchMove=K9e.bind(e),e.onTouchEnd=X9e.bind(e),n.cssMode&&(e.onScroll=Z9e.bind(e)),e.onClick=Q9e.bind(e),i.touch&&!Kx&&(t.addEventListener("touchstart",J9e),Kx=!0),Xx(e,"on")},detachEvents:function the(){Xx(this,"off")}},breakpoints:{setBreakpoint:function ihe(){const e=this,{activeIndex:t,initialized:n,loopedSlides:i=0,params:r,$el:s}=e,a=r.breakpoints;if(!a||a&&0===Object.keys(a).length)return;const o=e.getBreakpoint(a,e.params.breakpointsBase,e.el);if(!o||e.currentBreakpoint===o)return;const l=(o in a?a[o]:void 0)||e.originalParams,u=Qx(e,r),f=Qx(e,l),h=r.enabled;u&&!f?(s.removeClass(`${r.containerModifierClass}grid ${r.containerModifierClass}grid-column`),e.emitContainerClasses()):!u&&f&&(s.addClass(`${r.containerModifierClass}grid`),(l.grid.fill&&"column"===l.grid.fill||!l.grid.fill&&"column"===r.grid.fill)&&s.addClass(`${r.containerModifierClass}grid-column`),e.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(C=>{const y=r[C]&&r[C].enabled,H=l[C]&&l[C].enabled;y&&!H&&e[C].disable(),!y&&H&&e[C].enable()});const m=l.direction&&l.direction!==r.direction,v=r.loop&&(l.slidesPerView!==r.slidesPerView||m);m&&n&&e.changeDirection(),T1(e.params,l);const g=e.params.enabled;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),h&&!g?e.disable():!h&&g&&e.enable(),e.currentBreakpoint=o,e.emit("_beforeBreakpoint",l),v&&n&&(e.loopDestroy(),e.loopCreate(),e.updateSlides(),e.slideTo(t-i+e.loopedSlides,0,!1)),e.emit("breakpoint",l)},getBreakpoint:function rhe(e,t="window",n){if(!e||"container"===t&&!n)return;let i=!1;const r=H2(),s="window"===t?r.innerHeight:n.clientHeight,a=Object.keys(e).map(o=>{if("string"==typeof o&&0===o.indexOf("@")){const c=parseFloat(o.substr(1));return{value:s*c,point:o}}return{value:o,point:o}});a.sort((o,c)=>parseInt(o.value,10)-parseInt(c.value,10));for(let o=0;o<a.length;o+=1){const{point:c,value:l}=a[o];"window"===t?r.matchMedia(`(min-width: ${l}px)`).matches&&(i=c):l<=n.clientWidth&&(i=c)}return i||"max"}},checkOverflow:{checkOverflow:function hhe(){const e=this,{isLocked:t,params:n}=e,{slidesOffsetBefore:i}=n;if(i){const r=e.slides.length-1;e.isLocked=e.size>e.slidesGrid[r]+e.slidesSizesGrid[r]+2*i}else e.isLocked=1===e.snapGrid.length;!0===n.allowSlideNext&&(e.allowSlideNext=!e.isLocked),!0===n.allowSlidePrev&&(e.allowSlidePrev=!e.isLocked),t&&t!==e.isLocked&&(e.isEnd=!1),t!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock")}},classes:{addClasses:function ohe(){const e=this,{classNames:t,params:n,rtl:i,$el:r,device:s,support:a}=e,o=function ahe(e,t){const n=[];return e.forEach(i=>{"object"==typeof i?Object.keys(i).forEach(r=>{i[r]&&n.push(t+r)}):"string"==typeof i&&n.push(t+i)}),n}(["initialized",n.direction,{"pointer-events":!a.touch},{"free-mode":e.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:i},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&"column"===n.grid.fill},{android:s.android},{ios:s.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);t.push(...o),r.addClass([...t].join(" ")),e.emitContainerClasses()},removeClasses:function che(){const{$el:t,classNames:n}=this;t.removeClass(n.join(" ")),this.emitContainerClasses()}},images:{loadImage:function uhe(e,t,n,i,r,s){const a=H2();let o;function c(){s&&s()}Mt(e).parent("picture")[0]||e.complete&&r||!t?c():(o=new a.Image,o.onload=c,o.onerror=c,i&&(o.sizes=i),n&&(o.srcset=n),t&&(o.src=t))},preloadImages:function fhe(){const e=this;function t(){typeof e>"u"||null===e||!e||e.destroyed||(void 0!==e.imagesLoaded&&(e.imagesLoaded+=1),e.imagesLoaded===e.imagesToLoad.length&&(e.params.updateOnImagesReady&&e.update(),e.emit("imagesReady")))}e.imagesToLoad=e.$el.find("img");for(let n=0;n<e.imagesToLoad.length;n+=1){const i=e.imagesToLoad[n];e.loadImage(i,i.currentSrc||i.getAttribute("src"),i.srcset||i.getAttribute("srcset"),i.sizes||i.getAttribute("sizes"),!0,t)}}}},Iu={};class $1{constructor(...t){let n,i;if(1===t.length&&t[0].constructor&&"Object"===Object.prototype.toString.call(t[0]).slice(8,-1)?i=t[0]:[n,i]=t,i||(i={}),i=T1({},i),n&&!i.el&&(i.el=n),i.el&&Mt(i.el).length>1){const o=[];return Mt(i.el).each(c=>{const l=T1({},i,{el:c});o.push(new $1(l))}),o}const r=this;r.__swiper__=!0,r.support=Gx(),r.device=function a9e(e={}){return Pu||(Pu=function s9e({userAgent:e}={}){const t=Gx(),n=H2(),i=n.navigator.platform,r=e||n.navigator.userAgent,s={ios:!1,android:!1},a=n.screen.width,o=n.screen.height,c=r.match(/(Android);?[\s\/]+([\d.]+)?/);let l=r.match(/(iPad).*OS\s([\d_]+)/);const u=r.match(/(iPod)(.*OS\s([\d_]+))?/),f=!l&&r.match(/(iPhone\sOS|iOS)\s([\d_]+)/),h="Win32"===i;let m="MacIntel"===i;return!l&&m&&t.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(`${a}x${o}`)>=0&&(l=r.match(/(Version)\/([\d.]+)/),l||(l=[0,1,"13_0_0"]),m=!1),c&&!h&&(s.os="android",s.android=!0),(l||f||u)&&(s.os="ios",s.ios=!0),s}(e)),Pu}({userAgent:i.userAgent}),r.browser=function c9e(){return Ou||(Ou=function o9e(){const e=H2();return{isSafari:function t(){const n=e.navigator.userAgent.toLowerCase();return n.indexOf("safari")>=0&&n.indexOf("chrome")<0&&n.indexOf("android")<0}(),isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent)}}()),Ou}(),r.eventsListeners={},r.eventsAnyListeners=[],r.modules=[...r.__modules__],i.modules&&Array.isArray(i.modules)&&r.modules.push(...i.modules);const s={};r.modules.forEach(o=>{o({swiper:r,extendParams:mhe(i,s),on:r.on.bind(r),once:r.once.bind(r),off:r.off.bind(r),emit:r.emit.bind(r)})});const a=T1({},Zx,s);return r.params=T1({},a,Iu,i),r.originalParams=T1({},r.params),r.passedParams=T1({},i),r.params&&r.params.on&&Object.keys(r.params.on).forEach(o=>{r.on(o,r.params.on[o])}),r.params&&r.params.onAny&&r.onAny(r.params.onAny),r.$=Mt,Object.assign(r,{enabled:r.params.enabled,el:n,classNames:[],slides:Mt(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:()=>"horizontal"===r.params.direction,isVertical:()=>"vertical"===r.params.direction,activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:r.params.allowSlideNext,allowSlidePrev:r.params.allowSlidePrev,touchEvents:function(){const c=["touchstart","touchmove","touchend","touchcancel"],l=["pointerdown","pointermove","pointerup"];return r.touchEventsTouch={start:c[0],move:c[1],end:c[2],cancel:c[3]},r.touchEventsDesktop={start:l[0],move:l[1],end:l[2]},r.support.touch||!r.params.simulateTouch?r.touchEventsTouch:r.touchEventsDesktop}(),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:r.params.focusableElements,lastClickTime:K3(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:r.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),r.emit("_swiper"),r.params.init&&r.init(),r}enable(){const t=this;t.enabled||(t.enabled=!0,t.params.grabCursor&&t.setGrabCursor(),t.emit("enable"))}disable(){const t=this;!t.enabled||(t.enabled=!1,t.params.grabCursor&&t.unsetGrabCursor(),t.emit("disable"))}setProgress(t,n){const i=this;t=Math.min(Math.max(t,0),1);const r=i.minTranslate(),a=(i.maxTranslate()-r)*t+r;i.translateTo(a,typeof n>"u"?0:n),i.updateActiveIndex(),i.updateSlidesClasses()}emitContainerClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const n=t.el.className.split(" ").filter(i=>0===i.indexOf("swiper")||0===i.indexOf(t.params.containerModifierClass));t.emit("_containerClasses",n.join(" "))}getSlideClasses(t){const n=this;return n.destroyed?"":t.className.split(" ").filter(i=>0===i.indexOf("swiper-slide")||0===i.indexOf(n.params.slideClass)).join(" ")}emitSlidesClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const n=[];t.slides.each(i=>{const r=t.getSlideClasses(i);n.push({slideEl:i,classNames:r}),t.emit("_slideClass",i,r)}),t.emit("_slideClasses",n)}slidesPerViewDynamic(t="current",n=!1){const{params:r,slides:s,slidesGrid:a,slidesSizesGrid:o,size:c,activeIndex:l}=this;let u=1;if(r.centeredSlides){let h,f=s[l].swiperSlideSize;for(let m=l+1;m<s.length;m+=1)s[m]&&!h&&(f+=s[m].swiperSlideSize,u+=1,f>c&&(h=!0));for(let m=l-1;m>=0;m-=1)s[m]&&!h&&(f+=s[m].swiperSlideSize,u+=1,f>c&&(h=!0))}else if("current"===t)for(let f=l+1;f<s.length;f+=1)(n?a[f]+o[f]-a[l]<c:a[f]-a[l]<c)&&(u+=1);else for(let f=l-1;f>=0;f-=1)a[l]-a[f]<c&&(u+=1);return u}update(){const t=this;if(!t||t.destroyed)return;const{snapGrid:n,params:i}=t;function r(){const o=Math.min(Math.max(t.rtlTranslate?-1*t.translate:t.translate,t.maxTranslate()),t.minTranslate());t.setTranslate(o),t.updateActiveIndex(),t.updateSlidesClasses()}let s;i.breakpoints&&t.setBreakpoint(),t.updateSize(),t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.params.freeMode&&t.params.freeMode.enabled?(r(),t.params.autoHeight&&t.updateAutoHeight()):(s=t.slideTo(("auto"===t.params.slidesPerView||t.params.slidesPerView>1)&&t.isEnd&&!t.params.centeredSlides?t.slides.length-1:t.activeIndex,0,!1,!0),s||r()),i.watchOverflow&&n!==t.snapGrid&&t.checkOverflow(),t.emit("update")}changeDirection(t,n=!0){const i=this,r=i.params.direction;return t||(t="horizontal"===r?"vertical":"horizontal"),t===r||"horizontal"!==t&&"vertical"!==t||(i.$el.removeClass(`${i.params.containerModifierClass}${r}`).addClass(`${i.params.containerModifierClass}${t}`),i.emitContainerClasses(),i.params.direction=t,i.slides.each(s=>{"vertical"===t?s.style.width="":s.style.height=""}),i.emit("changeDirection"),n&&i.update()),i}changeLanguageDirection(t){const n=this;n.rtl&&"rtl"===t||!n.rtl&&"ltr"===t||(n.rtl="rtl"===t,n.rtlTranslate="horizontal"===n.params.direction&&n.rtl,n.rtl?(n.$el.addClass(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.$el.removeClass(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(t){const n=this;if(n.mounted)return!0;const i=Mt(t||n.params.el);if(!(t=i[0]))return!1;t.swiper=n;const r=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let a=(()=>{if(t&&t.shadowRoot&&t.shadowRoot.querySelector){const o=Mt(t.shadowRoot.querySelector(r()));return o.children=c=>i.children(c),o}return i.children?i.children(r()):Mt(i).children(r())})();if(0===a.length&&n.params.createElements){const c=f1().createElement("div");a=Mt(c),c.className=n.params.wrapperClass,i.append(c),i.children(`.${n.params.slideClass}`).each(l=>{a.append(l)})}return Object.assign(n,{$el:i,el:t,$wrapperEl:a,wrapperEl:a[0],mounted:!0,rtl:"rtl"===t.dir.toLowerCase()||"rtl"===i.css("direction"),rtlTranslate:"horizontal"===n.params.direction&&("rtl"===t.dir.toLowerCase()||"rtl"===i.css("direction")),wrongRTL:"-webkit-box"===a.css("display")}),!0}init(t){const n=this;return n.initialized||!1===n.mount(t)||(n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.params.loop&&n.loopCreate(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.preloadImages&&n.preloadImages(),n.slideTo(n.params.loop?n.params.initialSlide+n.loopedSlides:n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.attachEvents(),n.initialized=!0,n.emit("init"),n.emit("afterInit")),n}destroy(t=!0,n=!0){const i=this,{params:r,$el:s,$wrapperEl:a,slides:o}=i;return typeof i.params>"u"||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),r.loop&&i.loopDestroy(),n&&(i.removeClasses(),s.removeAttr("style"),a.removeAttr("style"),o&&o.length&&o.removeClass([r.slideVisibleClass,r.slideActiveClass,r.slideNextClass,r.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")),i.emit("destroy"),Object.keys(i.eventsListeners).forEach(c=>{i.off(c)}),!1!==t&&(i.$el[0].swiper=null,function e9e(e){const t=e;Object.keys(t).forEach(n=>{try{t[n]=null}catch{}try{delete t[n]}catch{}})}(i)),i.destroyed=!0),null}static extendDefaults(t){T1(Iu,t)}static get extendedDefaults(){return Iu}static get defaults(){return Zx}static installModule(t){$1.prototype.__modules__||($1.prototype.__modules__=[]);const n=$1.prototype.__modules__;"function"==typeof t&&n.indexOf(t)<0&&n.push(t)}static use(t){return Array.isArray(t)?(t.forEach(n=>$1.installModule(n)),$1):($1.installModule(t),$1)}}Object.keys(ku).forEach(e=>{Object.keys(ku[e]).forEach(t=>{$1.prototype[t]=ku[e][t]})}),$1.use([function l9e({swiper:e,on:t,emit:n}){const i=H2();let r=null,s=null;const a=()=>{!e||e.destroyed||!e.initialized||(n("beforeResize"),n("resize"))},l=()=>{!e||e.destroyed||!e.initialized||n("orientationchange")};t("init",()=>{e.params.resizeObserver&&typeof i.ResizeObserver<"u"?!e||e.destroyed||!e.initialized||(r=new ResizeObserver(u=>{s=i.requestAnimationFrame(()=>{const{width:f,height:h}=e;let m=f,v=h;u.forEach(({contentBoxSize:g,contentRect:C,target:y})=>{y&&y!==e.el||(m=C?C.width:(g[0]||g).inlineSize,v=C?C.height:(g[0]||g).blockSize)}),(m!==f||v!==h)&&a()})}),r.observe(e.el)):(i.addEventListener("resize",a),i.addEventListener("orientationchange",l))}),t("destroy",()=>{s&&i.cancelAnimationFrame(s),r&&r.unobserve&&e.el&&(r.unobserve(e.el),r=null),i.removeEventListener("resize",a),i.removeEventListener("orientationchange",l)})},function u9e({swiper:e,extendParams:t,on:n,emit:i}){const r=[],s=H2(),a=(l,u={})=>{const h=new(s.MutationObserver||s.WebkitMutationObserver)(m=>{if(1===m.length)return void i("observerUpdate",m[0]);const v=function(){i("observerUpdate",m[0])};s.requestAnimationFrame?s.requestAnimationFrame(v):s.setTimeout(v,0)});h.observe(l,{attributes:typeof u.attributes>"u"||u.attributes,childList:typeof u.childList>"u"||u.childList,characterData:typeof u.characterData>"u"||u.characterData}),r.push(h)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),n("init",()=>{if(e.params.observer){if(e.params.observeParents){const l=e.$el.parents();for(let u=0;u<l.length;u+=1)a(l[u])}a(e.$el[0],{childList:e.params.observeSlideChildren}),a(e.$wrapperEl[0],{attributes:!1})}}),n("destroy",()=>{r.forEach(l=>{l.disconnect()}),r.splice(0,r.length)})}]);const js=$1;function Jx(e,t,n,i){const r=f1();return e.params.createElements&&Object.keys(i).forEach(s=>{if(!n[s]&&!0===n.auto){let a=e.$el.children(`.${i[s]}`)[0];a||(a=r.createElement("div"),a.className=i[s],e.$el.append(a)),n[s]=a,t[s]=a}}),n}function Us(e=""){return`.${e.trim().replace(/([\.:!\/])/g,"\\$1").replace(/ /g,".")}`}function Che(e,t,n){const i="swiper-slide-shadow"+(n?`-${n}`:""),r=e.transformEl?t.find(e.transformEl):t;let s=r.children(`.${i}`);return s.length||(s=Mt(`<div class="swiper-slide-shadow${n?`-${n}`:""}"></div>`),r.append(s)),s}function Mhe(e,t){return e.transformEl?t.find(e.transformEl).css({"backface-visibility":"hidden","-webkit-backface-visibility":"hidden"}):t}const Vhe=["prevElRef"],She=["nextElRef"],whe=["scrollbarElRef"],Hhe=["paginationElRef"];function xhe(e,t){1&e&&(a1(0),je(1,"div",6,7)(3,"div",8,9),o1())}function zhe(e,t){1&e&&je(0,"div",10,11)}function Lhe(e,t){1&e&&je(0,"div",12,13)}function Ehe(e,t){}function The(e,t){1&e&&ve(0,Ehe,0,0,"ng-template")}function Dhe(e,t){}function Nhe(e,t){1&e&&ve(0,Dhe,0,0,"ng-template")}function Ahe(e,t){}function Phe(e,t){1&e&&ve(0,Ahe,0,0,"ng-template")}function Ohe(e,t){}const ez=function(e){return{$implicit:e}};function khe(e,t){if(1&e&&(ce(0,"div",3),ve(1,Ohe,0,0,"ng-template",18),ae()),2&e){const n=He().$implicit;se("ngClass",He(2).zoomContainerClass),ie(1),se("ngTemplateOutlet",n.template)("ngTemplateOutletContext",Et(3,ez,n.slideData))}}function Ihe(e,t){}function Fhe(e,t){if(1&e&&(a1(0),ve(1,Ihe,0,0,"ng-template",18),o1()),2&e){const n=He().$implicit;ie(1),se("ngTemplateOutlet",n.template)("ngTemplateOutletContext",Et(2,ez,n.slideData))}}function Rhe(e,t){if(1&e&&(ce(0,"div",15),ve(1,khe,2,5,"div",16),ve(2,Fhe,2,4,"ng-container",17),ae()),2&e){const n=t.$implicit,i=He().key,r=He();(function sn(e){on(bp,WP,e,!1)})(r.style),se("ngClass",(n.class?n.class+" ":"")+r.slideClass+(""!==i?" "+r.slideDuplicateClass:""))("ngSwitch",n.zoom),x1("data-swiper-slide-index",n.virtualIndex?n.virtualIndex:n.slideIndex)("data-swiper-autoplay",n.autoplayDelay),ie(1),se("ngSwitchCase",!0)}}function Bhe(e,t){1&e&&(ve(0,Rhe,3,7,"div",14),Ct(1,"async")),2&e&&se("ngForOf",yt(1,1,t.loopSlides))}const $he=[[["","slot","container-start"]],[["","slot","wrapper-start"]],[["","slot","wrapper-end"]],[["","slot","container-end"]]],jhe=function(e){return{loopSlides:e,key:"prepend"}},Uhe=function(e){return{loopSlides:e,key:""}},Whe=function(e){return{loopSlides:e,key:"append"}},Ghe=["[slot=container-start]","[slot=wrapper-start]","[slot=wrapper-end]","[slot=container-end]"],tz=["init","enabled","_direction","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_preloadImages","updateOnImagesReady","_loop","_loopAdditionalSlides","_loopedSlides","_loopedSlidesLimit","_loopFillGroupWithBlank","loopPreventsSlide","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideBlankClass","slideActiveClass","slideDuplicateActiveClass","slideVisibleClass","slideDuplicateClass","slideNextClass","slideDuplicateNextClass","slidePrevClass","slideDuplicatePrevClass","wrapperClass","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","lazy","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","on"];function Ws(e){return"object"==typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)}function Fu(e){return typeof e<"u"&&"boolean"!=typeof e&&!0===e.enabled}function nz(e,t,n){return!0===u6(e)&&t&&!t.el||!("boolean"!=typeof t&&t.el!==n?.nativeElement&&("string"==typeof t.el||"object"==typeof t.el))}function ki(e,t){const n=["__proto__","constructor","prototype"];Object.keys(t).filter(i=>n.indexOf(i)<0).forEach(i=>{typeof e[i]>"u"?e[i]=t[i]:e[i]&&!t[i]||(Ws(t[i])&&Ws(e[i])&&Object.keys(t[i]).length>0?t[i].__swiper__?e[i]=t[i]:ki(e[i],t[i]):e[i]=t[i])})}function u6(e){return null!=e&&"false"!=`${e}`}const qhe=["pagination","navigation","scrollbar","virtual"];function f6(e,t={}){return Ws(e)?e:!0===u6(e)&&t}function Ru(e={}){const t={on:{}},n={};ki(t,js.defaults),ki(t,js.extendedDefaults),t._emitClasses=!0,t.init=!1;const i={},r=tz.map(s=>s.replace(/_/,""));return Object.keys(e).forEach(s=>{const a=s.replace(/^_/,"");r.indexOf(a)>=0?Ws(e[s])?(t[a]={},n[a]={},ki(t[a],e[s]),ki(n[a],e[s])):(t[a]=e[s],n[a]=e[s]):i[a]=e[s]}),["navigation","pagination","scrollbar"].forEach(s=>{!0===t[s]&&(t[s]={}),!1===t[s]&&delete t[s]}),{params:t,passedParams:n,rest:i}}tz.map(e=>e.replace(/_/,""));let Bu=(()=>{class e{constructor(n){this.template=n,this.class="",this.autoplayDelay=null,this.slideData={isActive:!1,isPrev:!1,isNext:!1,isVisible:!1,isDuplicate:!1}}set ngClass(n){this.class=[this.class||"",n].join(" ")}set zoom(n){this._zoom=u6(n)}get zoom(){return this._zoom}get classNames(){return this._classNames}set classNames(n){this._classNames!==n&&(this._classNames=n,this.slideData={isActive:this._hasClass(["swiper-slide-active","swiper-slide-duplicate-active"]),isVisible:this._hasClass(["swiper-slide-visible"]),isDuplicate:this._hasClass(["swiper-slide-duplicate"]),isPrev:this._hasClass(["swiper-slide-prev","swiper-slide-duplicate-prev"]),isNext:this._hasClass(["swiper-slide-next","swiper-slide-duplicate-next"])})}_hasClass(n){return n.some(i=>this._classNames.indexOf(i)>=0)}}return e.\u0275fac=function(n){return new(n||e)(re(O1))},e.\u0275dir=Ue({type:e,selectors:[["ng-template","swiperSlide",""]],inputs:{virtualIndex:"virtualIndex",class:"class",ngClass:"ngClass",autoplayDelay:["data-swiper-autoplay","autoplayDelay"],zoom:"zoom"}}),e})(),iz=(()=>{class e{constructor(n,i,r,s){this._ngZone=n,this.elementRef=i,this._changeDetectorRef=r,this._platformId=s,this.slideClass="swiper-slide",this.wrapperClass="swiper-wrapper",this.showNavigation=!0,this.showPagination=!0,this.showScrollbar=!0,this.s__beforeBreakpoint=new pe,this.s__containerClasses=new pe,this.s__slideClass=new pe,this.s__swiper=new pe,this.s_activeIndexChange=new pe,this.s_afterInit=new pe,this.s_autoplay=new pe,this.s_autoplayStart=new pe,this.s_autoplayStop=new pe,this.s_autoplayPause=new pe,this.s_autoplayResume=new pe,this.s_beforeDestroy=new pe,this.s_beforeInit=new pe,this.s_beforeLoopFix=new pe,this.s_beforeResize=new pe,this.s_beforeSlideChangeStart=new pe,this.s_beforeTransitionStart=new pe,this.s_breakpoint=new pe,this.s_changeDirection=new pe,this.s_click=new pe,this.s_doubleTap=new pe,this.s_doubleClick=new pe,this.s_destroy=new pe,this.s_fromEdge=new pe,this.s_hashChange=new pe,this.s_hashSet=new pe,this.s_imagesReady=new pe,this.s_init=new pe,this.s_keyPress=new pe,this.s_lazyImageLoad=new pe,this.s_lazyImageReady=new pe,this.s_loopFix=new pe,this.s_momentumBounce=new pe,this.s_navigationHide=new pe,this.s_navigationShow=new pe,this.s_navigationPrev=new pe,this.s_navigationNext=new pe,this.s_observerUpdate=new pe,this.s_orientationchange=new pe,this.s_paginationHide=new pe,this.s_paginationRender=new pe,this.s_paginationShow=new pe,this.s_paginationUpdate=new pe,this.s_progress=new pe,this.s_reachBeginning=new pe,this.s_reachEnd=new pe,this.s_realIndexChange=new pe,this.s_resize=new pe,this.s_scroll=new pe,this.s_scrollbarDragEnd=new pe,this.s_scrollbarDragMove=new pe,this.s_scrollbarDragStart=new pe,this.s_setTransition=new pe,this.s_setTranslate=new pe,this.s_slideChange=new pe,this.s_slideChangeTransitionEnd=new pe,this.s_slideChangeTransitionStart=new pe,this.s_slideNextTransitionEnd=new pe,this.s_slideNextTransitionStart=new pe,this.s_slidePrevTransitionEnd=new pe,this.s_slidePrevTransitionStart=new pe,this.s_slideResetTransitionStart=new pe,this.s_slideResetTransitionEnd=new pe,this.s_sliderMove=new pe,this.s_sliderFirstMove=new pe,this.s_slidesLengthChange=new pe,this.s_slidesGridLengthChange=new pe,this.s_snapGridLengthChange=new pe,this.s_snapIndexChange=new pe,this.s_tap=new pe,this.s_toEdge=new pe,this.s_touchEnd=new pe,this.s_touchMove=new pe,this.s_touchMoveOpposite=new pe,this.s_touchStart=new pe,this.s_transitionEnd=new pe,this.s_transitionStart=new pe,this.s_update=new pe,this.s_zoomChange=new pe,this.s_swiper=new pe,this.s_lock=new pe,this.s_unlock=new pe,this._activeSlides=new $e,this.containerClasses="swiper",this.slidesChanges=a=>{this.slides=a.map((o,c)=>(o.slideIndex=c,o.classNames=this.slideClass||"",o)),this.loop&&!this.loopedSlides&&this.calcLoopedSlides(),this.virtual?this.swiperRef&&this.swiperRef.virtual&&this._ngZone.runOutsideAngular(()=>{this.swiperRef.virtual.slides=this.slides,this.swiperRef.virtual.update(!0)}):this.loopedSlides&&(this.prependSlides=Be(this.slides.slice(this.slides.length-this.loopedSlides)),this.appendSlides=Be(this.slides.slice(0,this.loopedSlides))),this._changeDetectorRef.detectChanges()},this.style=null,this.updateVirtualSlides=a=>{!this.swiperRef||this.currentVirtualData&&this.currentVirtualData.from===a.from&&this.currentVirtualData.to===a.to&&this.currentVirtualData.offset===a.offset||(this.style=this.swiperRef.isHorizontal()?{[this.swiperRef.rtlTranslate?"right":"left"]:`${a.offset}px`}:{top:`${a.offset}px`},this.currentVirtualData=a,this._activeSlides.next(a.slides),this._ngZone.run(()=>{this._changeDetectorRef.detectChanges()}),this._ngZone.runOutsideAngular(()=>{this.swiperRef.updateSlides(),this.swiperRef.updateProgress(),this.swiperRef.updateSlidesClasses(),Fu(this.swiperRef.params.lazy)&&this.swiperRef.lazy.load(),this.swiperRef.virtual.update(!0)}))}}set navigation(n){var i,r,s;const a="boolean"!=typeof this._navigation&&""!==this._navigation?null===(i=this._navigation)||void 0===i?void 0:i.nextEl:null,o="boolean"!=typeof this._navigation&&""!==this._navigation?null===(r=this._navigation)||void 0===r?void 0:r.prevEl:null;this._navigation=f6(n,{nextEl:a||null,prevEl:o||null}),this.showNavigation=!(!0!==u6(n)||this._navigation&&"boolean"!=typeof this._navigation&&this._navigation.prevEl!==(null===(s=this._prevElRef)||void 0===s?void 0:s.nativeElement)&&(null!==this._navigation.prevEl||null!==this._navigation.nextEl)&&("string"==typeof this._navigation.nextEl||"string"==typeof this._navigation.prevEl||"object"==typeof this._navigation.nextEl||"object"==typeof this._navigation.prevEl))}get navigation(){return this._navigation}set pagination(n){var i;const r="boolean"!=typeof this._pagination&&""!==this._pagination?null===(i=this._pagination)||void 0===i?void 0:i.el:null;this._pagination=f6(n,{el:r||null}),this.showPagination=nz(n,this._pagination,this._paginationElRef)}get pagination(){return this._pagination}set scrollbar(n){var i;const r="boolean"!=typeof this._scrollbar&&""!==this._scrollbar?null===(i=this._scrollbar)||void 0===i?void 0:i.el:null;this._scrollbar=f6(n,{el:r||null}),this.showScrollbar=nz(n,this._scrollbar,this._scrollbarElRef)}get scrollbar(){return this._scrollbar}set virtual(n){this._virtual=f6(n)}get virtual(){return this._virtual}set config(n){this.updateSwiper(n);const{params:i}=Ru(n);Object.assign(this,i)}set prevElRef(n){this._prevElRef=n,this._setElement(n,this.navigation,"navigation","prevEl")}set nextElRef(n){this._nextElRef=n,this._setElement(n,this.navigation,"navigation","nextEl")}set scrollbarElRef(n){this._scrollbarElRef=n,this._setElement(n,this.scrollbar,"scrollbar")}set paginationElRef(n){this._paginationElRef=n,this._setElement(n,this.pagination,"pagination")}get activeSlides(){return this.virtual?this._activeSlides:Be(this.slides)}get zoomContainerClass(){return this.zoom&&"boolean"!=typeof this.zoom?this.zoom.containerClass:"swiper-zoom-container"}_setElement(n,i,r,s="el"){if(!i||!n)return;if(n.nativeElement){if(i[s]===n.nativeElement)return;i[s]=n.nativeElement}const a={};a[r]=!0,this.updateInitSwiper(a)}ngOnInit(){const{params:n}=Ru(this);Object.assign(this,n)}ngAfterViewInit(){this.childrenSlidesInit(),this.initSwiper(),this._changeDetectorRef.detectChanges(),setTimeout(()=>{this.s_swiper.emit(this.swiperRef)})}childrenSlidesInit(){this.slidesChanges(this.slidesEl),this.slidesEl.changes.subscribe(this.slidesChanges)}get isSwiperActive(){return this.swiperRef&&!this.swiperRef.destroyed}initSwiper(){const{params:n}=Ru(this);Object.assign(this,n),this._ngZone.runOutsideAngular(()=>{n.init=!1,n.virtual||(n.observer=!0),n.onAny=(c,...l)=>{const u=this["s_"+c];u&&u.emit([...l])},Object.assign(n.on,{_containerClasses:(c,l)=>{setTimeout(()=>{this.containerClasses=l})},_slideClasses:(c,l)=>{l.forEach(({slideEl:u,classNames:f},h)=>{const m=u.getAttribute("data-swiper-slide-index"),v=m?parseInt(m):h;if(this.virtual){const g=this.slides.find(C=>C.virtualIndex&&C.virtualIndex===v);if(g)return void(g.classNames=f)}this.slides[v]&&(this.slides[v].classNames=f)}),this._changeDetectorRef.detectChanges()}});const a=new js(n);a.loopCreate=()=>{},a.loopDestroy=()=>{},n.loop&&(a.loopedSlides=this.loopedSlides);const o=Fu(a.params.virtual);if(a.virtual&&o){a.virtual.slides=this.slides;const c={cache:!1,slides:this.slides,renderExternal:this.updateVirtualSlides,renderExternalUpdate:!1};ki(a.params.virtual,c),ki(a.originalParams.virtual,c)}if(function MR(e){return e===ev}(this._platformId)){this.swiperRef=a.init(this.elementRef.nativeElement);const c=Fu(this.swiperRef.params.virtual);this.swiperRef.virtual&&c&&this.swiperRef.virtual.update(!0),this._changeDetectorRef.detectChanges()}})}ngOnChanges(n){this.updateSwiper(n),this._changeDetectorRef.detectChanges()}updateInitSwiper(n){!n||!this.swiperRef||this.swiperRef.destroyed||this._ngZone.runOutsideAngular(()=>{const{pagination:r,navigation:s,scrollbar:a,thumbs:c}=this.swiperRef;n.pagination&&(this.pagination&&"boolean"!=typeof this.pagination&&this.pagination.el&&r&&!r.el?(this.updateParameter("pagination",this.pagination),r.init(),r.render(),r.update()):(r.destroy(),r.el=null)),n.scrollbar&&(this.scrollbar&&"boolean"!=typeof this.scrollbar&&this.scrollbar.el&&a&&!a.el?(this.updateParameter("scrollbar",this.scrollbar),a.init(),a.updateSize(),a.setTranslate()):(a.destroy(),a.el=null)),n.navigation&&(this.navigation&&"boolean"!=typeof this.navigation&&this.navigation.prevEl&&this.navigation.nextEl&&s&&!s.prevEl&&!s.nextEl?(this.updateParameter("navigation",this.navigation),s.init(),s.update()):s.prevEl&&s.nextEl&&(s.destroy(),s.nextEl=null,s.prevEl=null)),n.thumbs&&this.thumbs&&this.thumbs.swiper&&(this.updateParameter("thumbs",this.thumbs),c.init()&&c.update(!0)),n.controller&&this.controller&&this.controller.control&&(this.swiperRef.controller.control=this.controller.control),this.swiperRef.update()})}updateSwiper(n){this._ngZone.runOutsideAngular(()=>{var i,r;if(!n.config&&n&&this.swiperRef&&!this.swiperRef.destroyed){for(const s in n){if(qhe.indexOf(s)>=0)continue;const a=null!==(r=null===(i=n[s])||void 0===i?void 0:i.currentValue)&&void 0!==r?r:n[s];this.updateParameter(s,a)}n.allowSlideNext&&(this.swiperRef.allowSlideNext=this.allowSlideNext),n.allowSlidePrev&&(this.swiperRef.allowSlidePrev=this.allowSlidePrev),n.direction&&this.swiperRef.changeDirection(this.direction,!1),n.breakpoints&&(this.loop&&!this.loopedSlides&&this.calcLoopedSlides(),this.swiperRef.currentBreakpoint=null,this.swiperRef.setBreakpoint()),(n.thumbs||n.controller)&&this.updateInitSwiper(n),this.swiperRef.update()}})}calcLoopedSlides(){if(!this.loop)return!1;let n=this.slidesPerView;if(this.breakpoints){const r=js.prototype.getBreakpoint(this.breakpoints),s=r in this.breakpoints?this.breakpoints[r]:void 0;s&&s.slidesPerView&&(n=s.slidesPerView)}if("auto"===n)return this.loopedSlides=this.slides.length,this.slides.length;let i=this.loopedSlides||n;return!!i&&(this.loopAdditionalSlides&&(i+=this.loopAdditionalSlides),i>this.slides.length&&(i=this.slides.length),this.loopedSlides=i,!0)}updateParameter(n,i){if(!this.swiperRef||this.swiperRef.destroyed)return;const r=n.replace(/^_/,""),s=Ws(this.swiperRef.params[r]);"enabled"!==r?s&&Ws(i)?ki(this.swiperRef.params[r],i):this.swiperRef.params[r]=i:!0===i?this.swiperRef.enable():!1===i&&this.swiperRef.disable()}ngOnDestroy(){this._ngZone.runOutsideAngular(()=>{var n;null===(n=this.swiperRef)||void 0===n||n.destroy(!0,!1)})}}return e.\u0275fac=function(n){return new(n||e)(re(Gt),re(s2),re(q4),re(Lo))},e.\u0275cmp=Kt({type:e,selectors:[["swiper"],["","swiper",""]],contentQueries:function(n,i,r){if(1&n&&function z8(e,t,n,i){const r=mt();if(r.firstCreatePass){const s=L2();km(r,new Am(t,n,i),s.index),function Zk(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(r,e),2==(2&n)&&(r.staticContentQueries=!0)}Om(r,Ce(),n)}(r,Bu,4),2&n){let s;xn(s=zn())&&(i.slidesEl=s)}},viewQuery:function(n,i){if(1&n&&(wi(Vhe,5),wi(She,5),wi(whe,5),wi(Hhe,5)),2&n){let r;xn(r=zn())&&(i.prevElRef=r.first),xn(r=zn())&&(i.nextElRef=r.first),xn(r=zn())&&(i.scrollbarElRef=r.first),xn(r=zn())&&(i.paginationElRef=r.first)}},hostVars:2,hostBindings:function(n,i){2&n&&O4(i.containerClasses)},inputs:{enabled:"enabled",on:"on",direction:"direction",touchEventsTarget:"touchEventsTarget",initialSlide:"initialSlide",speed:"speed",cssMode:"cssMode",updateOnWindowResize:"updateOnWindowResize",resizeObserver:"resizeObserver",nested:"nested",focusableElements:"focusableElements",width:"width",height:"height",preventInteractionOnTransition:"preventInteractionOnTransition",userAgent:"userAgent",url:"url",edgeSwipeDetection:"edgeSwipeDetection",edgeSwipeThreshold:"edgeSwipeThreshold",freeMode:"freeMode",autoHeight:"autoHeight",setWrapperSize:"setWrapperSize",virtualTranslate:"virtualTranslate",effect:"effect",breakpoints:"breakpoints",spaceBetween:"spaceBetween",slidesPerView:"slidesPerView",maxBackfaceHiddenSlides:"maxBackfaceHiddenSlides",grid:"grid",slidesPerGroup:"slidesPerGroup",slidesPerGroupSkip:"slidesPerGroupSkip",centeredSlides:"centeredSlides",centeredSlidesBounds:"centeredSlidesBounds",slidesOffsetBefore:"slidesOffsetBefore",slidesOffsetAfter:"slidesOffsetAfter",normalizeSlideIndex:"normalizeSlideIndex",centerInsufficientSlides:"centerInsufficientSlides",watchOverflow:"watchOverflow",roundLengths:"roundLengths",touchRatio:"touchRatio",touchAngle:"touchAngle",simulateTouch:"simulateTouch",shortSwipes:"shortSwipes",longSwipes:"longSwipes",longSwipesRatio:"longSwipesRatio",longSwipesMs:"longSwipesMs",followFinger:"followFinger",allowTouchMove:"allowTouchMove",threshold:"threshold",touchMoveStopPropagation:"touchMoveStopPropagation",touchStartPreventDefault:"touchStartPreventDefault",touchStartForcePreventDefault:"touchStartForcePreventDefault",touchReleaseOnEdges:"touchReleaseOnEdges",uniqueNavElements:"uniqueNavElements",resistance:"resistance",resistanceRatio:"resistanceRatio",watchSlidesProgress:"watchSlidesProgress",grabCursor:"grabCursor",preventClicks:"preventClicks",preventClicksPropagation:"preventClicksPropagation",slideToClickedSlide:"slideToClickedSlide",preloadImages:"preloadImages",updateOnImagesReady:"updateOnImagesReady",loop:"loop",loopAdditionalSlides:"loopAdditionalSlides",loopedSlides:"loopedSlides",loopedSlidesLimit:"loopedSlidesLimit",loopFillGroupWithBlank:"loopFillGroupWithBlank",loopPreventsSlide:"loopPreventsSlide",rewind:"rewind",allowSlidePrev:"allowSlidePrev",allowSlideNext:"allowSlideNext",swipeHandler:"swipeHandler",noSwiping:"noSwiping",noSwipingClass:"noSwipingClass",noSwipingSelector:"noSwipingSelector",passiveListeners:"passiveListeners",containerModifierClass:"containerModifierClass",slideClass:"slideClass",slideBlankClass:"slideBlankClass",slideActiveClass:"slideActiveClass",slideDuplicateActiveClass:"slideDuplicateActiveClass",slideVisibleClass:"slideVisibleClass",slideDuplicateClass:"slideDuplicateClass",slideNextClass:"slideNextClass",slideDuplicateNextClass:"slideDuplicateNextClass",slidePrevClass:"slidePrevClass",slideDuplicatePrevClass:"slideDuplicatePrevClass",wrapperClass:"wrapperClass",runCallbacksOnInit:"runCallbacksOnInit",observeParents:"observeParents",observeSlideChildren:"observeSlideChildren",a11y:"a11y",autoplay:"autoplay",controller:"controller",coverflowEffect:"coverflowEffect",cubeEffect:"cubeEffect",fadeEffect:"fadeEffect",flipEffect:"flipEffect",creativeEffect:"creativeEffect",cardsEffect:"cardsEffect",hashNavigation:"hashNavigation",history:"history",keyboard:"keyboard",lazy:"lazy",mousewheel:"mousewheel",parallax:"parallax",thumbs:"thumbs",zoom:"zoom",class:"class",id:"id",navigation:"navigation",pagination:"pagination",scrollbar:"scrollbar",virtual:"virtual",config:"config"},outputs:{s__beforeBreakpoint:"_beforeBreakpoint",s__containerClasses:"_containerClasses",s__slideClass:"_slideClass",s__swiper:"_swiper",s_activeIndexChange:"activeIndexChange",s_afterInit:"afterInit",s_autoplay:"autoplay",s_autoplayStart:"autoplayStart",s_autoplayStop:"autoplayStop",s_autoplayPause:"autoplayPause",s_autoplayResume:"autoplayResume",s_beforeDestroy:"beforeDestroy",s_beforeInit:"beforeInit",s_beforeLoopFix:"beforeLoopFix",s_beforeResize:"beforeResize",s_beforeSlideChangeStart:"beforeSlideChangeStart",s_beforeTransitionStart:"beforeTransitionStart",s_breakpoint:"breakpoint",s_changeDirection:"changeDirection",s_click:"click",s_doubleTap:"doubleTap",s_doubleClick:"doubleClick",s_destroy:"destroy",s_fromEdge:"fromEdge",s_hashChange:"hashChange",s_hashSet:"hashSet",s_imagesReady:"imagesReady",s_init:"init",s_keyPress:"keyPress",s_lazyImageLoad:"lazyImageLoad",s_lazyImageReady:"lazyImageReady",s_loopFix:"loopFix",s_momentumBounce:"momentumBounce",s_navigationHide:"navigationHide",s_navigationShow:"navigationShow",s_navigationPrev:"navigationPrev",s_navigationNext:"navigationNext",s_observerUpdate:"observerUpdate",s_orientationchange:"orientationchange",s_paginationHide:"paginationHide",s_paginationRender:"paginationRender",s_paginationShow:"paginationShow",s_paginationUpdate:"paginationUpdate",s_progress:"progress",s_reachBeginning:"reachBeginning",s_reachEnd:"reachEnd",s_realIndexChange:"realIndexChange",s_resize:"resize",s_scroll:"scroll",s_scrollbarDragEnd:"scrollbarDragEnd",s_scrollbarDragMove:"scrollbarDragMove",s_scrollbarDragStart:"scrollbarDragStart",s_setTransition:"setTransition",s_setTranslate:"setTranslate",s_slideChange:"slideChange",s_slideChangeTransitionEnd:"slideChangeTransitionEnd",s_slideChangeTransitionStart:"slideChangeTransitionStart",s_slideNextTransitionEnd:"slideNextTransitionEnd",s_slideNextTransitionStart:"slideNextTransitionStart",s_slidePrevTransitionEnd:"slidePrevTransitionEnd",s_slidePrevTransitionStart:"slidePrevTransitionStart",s_slideResetTransitionStart:"slideResetTransitionStart",s_slideResetTransitionEnd:"slideResetTransitionEnd",s_sliderMove:"sliderMove",s_sliderFirstMove:"sliderFirstMove",s_slidesLengthChange:"slidesLengthChange",s_slidesGridLengthChange:"slidesGridLengthChange",s_snapGridLengthChange:"snapGridLengthChange",s_snapIndexChange:"snapIndexChange",s_tap:"tap",s_toEdge:"toEdge",s_touchEnd:"touchEnd",s_touchMove:"touchMove",s_touchMoveOpposite:"touchMoveOpposite",s_touchStart:"touchStart",s_transitionEnd:"transitionEnd",s_transitionStart:"transitionStart",s_update:"update",s_zoomChange:"zoomChange",s_swiper:"swiper",s_lock:"lock",s_unlock:"unlock"},features:[_2],ngContentSelectors:Ghe,decls:13,vars:17,consts:[[4,"ngIf"],["class","swiper-scrollbar",4,"ngIf"],["class","swiper-pagination",4,"ngIf"],[3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["slidesTemplate",""],[1,"swiper-button-prev"],["prevElRef",""],[1,"swiper-button-next"],["nextElRef",""],[1,"swiper-scrollbar"],["scrollbarElRef",""],[1,"swiper-pagination"],["paginationElRef",""],[3,"ngClass","style","ngSwitch",4,"ngFor","ngForOf"],[3,"ngClass","ngSwitch"],[3,"ngClass",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(n,i){if(1&n&&(mo($he),cr(0),ve(1,xhe,5,0,"ng-container",0),ve(2,zhe,2,0,"div",1),ve(3,Lhe,2,0,"div",2),ce(4,"div",3),cr(5,1),ve(6,The,1,0,null,4),ve(7,Nhe,1,0,null,4),ve(8,Phe,1,0,null,4),cr(9,2),ae(),cr(10,3),ve(11,Bhe,2,3,"ng-template",null,5,Rt)),2&n){const r=Lt(12);ie(1),se("ngIf",i.navigation&&i.showNavigation),ie(1),se("ngIf",i.scrollbar&&i.showScrollbar),ie(1),se("ngIf",i.pagination&&i.showPagination),ie(1),se("ngClass",i.wrapperClass),x1("id",i.id),ie(2),se("ngTemplateOutlet",r)("ngTemplateOutletContext",Et(11,jhe,i.prependSlides)),ie(1),se("ngTemplateOutlet",r)("ngTemplateOutletContext",Et(13,Uhe,i.activeSlides)),ie(1),se("ngTemplateOutlet",r)("ngTemplateOutletContext",Et(15,Whe,i.appendSlides))}},dependencies:[En,xi,o5,ni,Q4,a5,Xg,hr],styles:["swiper{display:block}\n"],encapsulation:2,changeDetection:0}),e})(),Yhe=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=W2({type:e}),e.\u0275inj=A2({imports:[[pr]]}),e})();function Khe(e,t){if(1&e&&(ce(0,"p",25),we(1),ae()),2&e){const n=t.$implicit;ie(1),p2(" ",n," ")}}const Xhe=function(e){return{"is-flipped":e}},rz=function(e){return{disabled:e}};function Qhe(e,t){if(1&e){const n=z1();ce(0,"div",2),je(1,"div",3),ce(2,"div",4)(3,"div",5),we(4),Ct(5,"titlecase"),ae(),ce(6,"div"),we(7),Ct(8,"titlecase"),ae(),ce(9,"div",6)(10,"div",7)(11,"div",8)(12,"span",9),we(13,"Upright:"),ae(),we(14),ae(),ce(15,"div",8)(16,"span",9),we(17,"Reversed:"),ae(),we(18),ae(),ce(19,"p"),we(20),ae(),ve(21,Khe,2,1,"p",10),ae()(),je(22,"div",11),ce(23,"div",12)(24,"div",13),je(25,"div",14)(26,"div",15)(27,"div",16),ae(),ce(28,"div",17),we(29),Ct(30,"async"),ae(),ce(31,"div",18)(32,"div",19),at("click",function(){return I2(n),F2(He().minus())}),Ct(33,"async"),we(34,"-"),ae(),ce(35,"div",20),we(36),Ct(37,"async"),ae(),ce(38,"div",21),at("click",function(){return I2(n),F2(He().plus())}),Ct(39,"async"),we(40,"+"),ae()(),ce(41,"div",22)(42,"span",23),we(43),ae(),we(44," >> "),ce(45,"span",24),we(46),ae()()()()()}if(2&e){const n=He();se("ngClass",Et(34,Xhe,n.flipped)),ie(1),X2("card_face ",n.tarotCard.className,""),ie(3),h2(yt(5,22,n.tarotCard.name)),ie(2),X2("stat-kind ",n.tarotCard.description.statKind,""),ie(1),p2(" ",yt(8,24,n.tarotCard.description.statKind)," High Arcana "),ie(7),p2(" ",n.tarotCard.description.upright," "),ie(4),p2(" ",n.tarotCard.description.reversed," "),ie(1),X2("effect ",n.tarotCard.description.statKind,""),ie(1),p2(" ",n.tarotCard.description.effect1," "),ie(1),se("ngForOf",n.tarotCard.description.paragraphs),ie(8),p2("Remaining points: ",yt(30,26,n.statsService.remaining$),""),ie(3),se("ngClass",Et(36,rz,0===yt(33,28,n.statsService.tentative$[n.tarotCard.className]))),ie(4),h2(yt(37,30,n.statLevel$)),ie(2),se("ngClass",Et(38,rz,0===yt(39,32,n.statsService.remaining$))),ie(5),h2(n.currentKnowledge),ie(3),h2(n.nextKnowledge)}}class d6{constructor(t){this.statsService=t,this.knowledgeLevels=["1 - Ignorant","2 - Apprentice","3 - Initiate","4 - Acolyte","5 - Elder","6 - Master","7 - Grandmaster","8 - Archmaster","9 - Legend","10 - Supreme"],this.tarotCard=null,this.flipped=null,this.currentKnowledge="",this.nextKnowledge="",this.statLevel$=new q,this._statLevel=0}ngOnInit(){if(!this.tarotCard)throw new Error("[TarotCard::new] no tarot card was passed as a parameter");this.statLevel$=gc([this.statsService.base$[this.tarotCard.className],this.statsService.tentative$[this.tarotCard.className]]).pipe(w2(t=>{this._statLevel=t[0]+t[1],this._setKnowledgeText()}),Re(t=>t[0]+t[1]))}minus(){!this.tarotCard||this.statsService.subtractTentative(this.tarotCard,1)}plus(){!this.tarotCard||this.statsService.addTentative(this.tarotCard,1)}_flip(){this.flipped=!this.flipped}_setKnowledgeText(){this.currentKnowledge=this.knowledgeLevels[this._statLevel-1],this.nextKnowledge=this.knowledgeLevels[this._statLevel]}static#e=this.\u0275fac=function(n){return new(n||d6)(re(Pn))};static#t=this.\u0275cmp=Kt({type:d6,selectors:[["app-tarot-card"]],inputs:{tarotCard:"tarotCard",flipped:"flipped"},decls:2,vars:1,consts:[["id","root"],["id","card",3,"ngClass",4,"ngIf"],["id","card",3,"ngClass"],["id","front"],["id","back",1,"card_face"],[1,"title"],[1,"description-container"],[1,"scroller"],[1,"tarot-meaning"],[1,"meaning-kind"],["class","simple-text",4,"ngFor","ngForOf"],[1,"spacer"],[1,"gameplay-container"],[1,"divider"],[1,"left"],[1,"mid"],[1,"right"],[1,"remaining"],[1,"level-container"],[1,"level-button","minus",3,"ngClass","click"],[1,"level"],[1,"level-button","plus",3,"ngClass","click"],[1,"knowledge"],[1,"current"],[1,"next"],[1,"simple-text"]],template:function(n,i){1&n&&(ce(0,"div",0),ve(1,Qhe,47,40,"div",1),ae()),2&n&&(ie(1),se("ngIf",i.tarotCard))},dependencies:[xi,ni,En,hr,c5],styles:['#root[_ngcontent-%COMP%]{width:100%;height:100%;perspective:1600px}#card[_ngcontent-%COMP%]{width:100%;height:100%;position:relative;transition:transform 1s;transform-style:preserve-3d;display:flex;justify-content:center;align-items:center}#card.is-flipped[_ngcontent-%COMP%]{transform:rotateY(-180deg)}.card_face[_ngcontent-%COMP%]{position:absolute;max-height:100%;max-width:100%;height:100%;box-sizing:border-box;-webkit-backface-visibility:hidden;backface-visibility:hidden;aspect-ratio:1/2;background-size:cover;background-position:50% 50%;border-radius:20px;min-width:0;min-height:0}#front[_ngcontent-%COMP%]{border:4px solid rgb(252,232,224)}#front.strenght[_ngcontent-%COMP%]{background-image:url(/cotm5/assets/images/cards/strenght.png)}#front.control[_ngcontent-%COMP%]{background-image:url(/cotm5/assets/images/cards/control.png)}#front.sleight[_ngcontent-%COMP%]{background-image:url(/cotm5/assets/images/cards/sleight.png)}#front.perception[_ngcontent-%COMP%]{background-image:url(/cotm5/assets/images/cards/perception.png)}#front.intuition[_ngcontent-%COMP%]{background-image:url(/cotm5/assets/images/cards/intuition.png)}#front.knowledge[_ngcontent-%COMP%]{background-image:url(/cotm5/assets/images/cards/knowledge.png)}#front.confidence[_ngcontent-%COMP%]{background-image:url(/cotm5/assets/images/cards/confidence.png)}#front.manipulation[_ngcontent-%COMP%]{background-image:url(/cotm5/assets/images/cards/manipulation.png)}#front.charisma[_ngcontent-%COMP%]{background-image:url(/cotm5/assets/images/cards/charisma.png)}#back[_ngcontent-%COMP%]{border:2px solid rgb(252,232,224);background-color:#000;background-size:100% 100%;transform:rotateY(-180deg);display:flex;justify-content:flex-start;align-items:center;flex-direction:column;padding:20px}#back[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1.9em;line-height:1.1;text-align:center;font-family:Over the Rainbow}#back[_ngcontent-%COMP%]   .stat-kind[_ngcontent-%COMP%]{margin-bottom:4px;font-size:.9em}#back[_ngcontent-%COMP%]   .stat-kind[_ngcontent-%COMP%]:before{display:"";position:absolute;left:-10px;top:50%;width:10px;height:10px;color:var(--physical)}#back[_ngcontent-%COMP%]   .stat-kind.physical[_ngcontent-%COMP%]{color:var(--physical)}#back[_ngcontent-%COMP%]   .stat-kind.social[_ngcontent-%COMP%]{color:var(--social)}#back[_ngcontent-%COMP%]   .stat-kind.mental[_ngcontent-%COMP%]{color:var(--mental)}#back[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]{flex-grow:1}#back[_ngcontent-%COMP%]   .gameplay-container[_ngcontent-%COMP%]{background-color:#000000bf;flex-shrink:0;padding-bottom:10px;width:100%}#back[_ngcontent-%COMP%]   .gameplay-container[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{width:100%;margin:0}#back[_ngcontent-%COMP%]   .gameplay-container[_ngcontent-%COMP%]   .knowledge[_ngcontent-%COMP%]{margin-bottom:10px;text-align:center}#back[_ngcontent-%COMP%]   .gameplay-container[_ngcontent-%COMP%]   .knowledge[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]{font-weight:700}#back[_ngcontent-%COMP%]   .gameplay-container[_ngcontent-%COMP%]   .knowledge[_ngcontent-%COMP%]   .next[_ngcontent-%COMP%]{color:var(--secondary-text)}#back[_ngcontent-%COMP%]   .gameplay-container[_ngcontent-%COMP%]   .remaining[_ngcontent-%COMP%]{text-align:center}#back[_ngcontent-%COMP%]   .gameplay-container[_ngcontent-%COMP%]   .level-container[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;margin:12px;height:60px}#back[_ngcontent-%COMP%]   .gameplay-container[_ngcontent-%COMP%]   .level-container[_ngcontent-%COMP%]   .level-button[_ngcontent-%COMP%]{width:60px;height:100%;color:#000;text-align:center;line-height:60px;border-radius:60px;font-size:2em;font-weight:700;background-color:#fff;cursor:pointer}#back[_ngcontent-%COMP%]   .gameplay-container[_ngcontent-%COMP%]   .level-container[_ngcontent-%COMP%]   .level-button.disabled[_ngcontent-%COMP%]{border:1px solid var(--secondary-text);color:var(--secondary-text);background-color:#000;cursor:not-allowed}#back[_ngcontent-%COMP%]   .gameplay-container[_ngcontent-%COMP%]   .level-container[_ngcontent-%COMP%]   .level[_ngcontent-%COMP%]{width:60px;height:100%;margin:0 20px;font-size:2em;font-weight:700;text-align:center}#back[_ngcontent-%COMP%]   .description-container[_ngcontent-%COMP%]{background-color:#000000bf;overflow-y:auto;display:flex;min-width:0;min-height:0}#back[_ngcontent-%COMP%]   .description-container[_ngcontent-%COMP%]   .scroller[_ngcontent-%COMP%]{width:100%;height:100%;overflow-y:auto;display:flex;flex-direction:column}#back[_ngcontent-%COMP%]   .description-container[_ngcontent-%COMP%]   .scroller[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{margin-bottom:0}#back[_ngcontent-%COMP%]   .description-container[_ngcontent-%COMP%]   .tarot-meaning[_ngcontent-%COMP%]{font-size:.8em;color:var(--secondary-text)}#back[_ngcontent-%COMP%]   .description-container[_ngcontent-%COMP%]   .tarot-meaning[_ngcontent-%COMP%]   .meaning-kind[_ngcontent-%COMP%]{font-weight:700}#back[_ngcontent-%COMP%]   .description-container[_ngcontent-%COMP%]   .effect[_ngcontent-%COMP%]{font-size:.9em}#back[_ngcontent-%COMP%]   .description-container[_ngcontent-%COMP%]   .effect.physical[_ngcontent-%COMP%]{color:var(--physical)}#back[_ngcontent-%COMP%]   .description-container[_ngcontent-%COMP%]   .effect.social[_ngcontent-%COMP%]{color:var(--social)}#back[_ngcontent-%COMP%]   .description-container[_ngcontent-%COMP%]   .effect.mental[_ngcontent-%COMP%]{color:var(--mental)}']})}const Zhe=["*"];class Gs{constructor(){this.locked=!1}static#e=this.\u0275fac=function(n){return new(n||Gs)};static#t=this.\u0275cmp=Kt({type:Gs,selectors:[["app-continue-button"]],inputs:{locked:"locked"},ngContentSelectors:Zhe,decls:2,vars:3,template:function(n,i){1&n&&(mo(),ce(0,"div"),cr(1),ae()),2&n&&X2("continue-button ",i.locked?"locked":"","")},styles:[".continue-button[_ngcontent-%COMP%]{width:100%;background-color:#fff;padding:8px 16px;border-radius:26px;color:#000;font-weight:700;cursor:pointer;box-sizing:border-box;display:flex;justify-content:flex-end}.continue-button.locked[_ngcontent-%COMP%], .continue-button.disabled[_ngcontent-%COMP%]{background-color:var(--secondary-text);cursor:not-allowed}"]})}function Jhe(e,t){if(1&e&&(a1(0),ce(1,"div",15),we(2),ae(),o1()),2&e){const n=t.ngIf;let i;ie(2),h2((null!==(i=n.n1)&&void 0!==i?i:0)+(null!==(i=n.n2)&&void 0!==i?i:0))}}const epe=function(e,t){return{n1:e,n2:t}};function tpe(e,t){if(1&e){const n=z1();ce(0,"div")(1,"div",11),at("click",function(){const s=I2(n).$implicit,a=He(),o=Lt(19);return F2(a.clickStatBox(s,o))}),je(2,"div",12)(3,"div",13),ve(4,Jhe,3,1,"ng-container",14),Ct(5,"async"),Ct(6,"async"),ae()()}if(2&e){const n=t.$implicit,i=He();X2("stat-space ",n.className,""),ie(1),X2("",n.className," stat-card open"),ie(3),se("ngIf",c1(11,epe,yt(5,7,i.statsService.base$[n.className]),yt(6,9,i.statsService.tentative$[n.className])))}}function npe(e,t){if(1&e&&je(0,"app-tarot-card",25),2&e){const n=He(),i=n.index,r=n.$implicit;se("flipped",He(2).flipStatus[i])("tarotCard",r)}}function ipe(e,t){1&e&&ve(0,npe,1,2,"ng-template",24)}function rpe(e,t){if(1&e){const n=z1();ce(0,"div",16)(1,"div",17),at("click",function(){return F2(I2(n).$implicit.close())}),je(2,"app-choice-ui-icon",18),ae(),ce(3,"div",19),at("click",function(){return I2(n),F2(He().flip())}),je(4,"app-choice-ui-icon",20),ae(),ce(5,"div",21)(6,"swiper",22),at("swiper",function(r){return I2(n),F2(He().onSwiper(r))}),ve(7,ipe,1,0,null,23),ae()()()}if(2&e){const n=He();ie(6),se("effect","cards")("grabCursor",!0),ie(1),se("ngForOf",n.stats)}}js.use([function bhe({swiper:e,extendParams:t,on:n}){t({cardsEffect:{slideShadows:!0,transformEl:null,rotate:!0,perSlideRotate:2,perSlideOffset:8}}),function yhe(e){const{effect:t,swiper:n,on:i,setTranslate:r,setTransition:s,overwriteParams:a,perspective:o,recreateShadows:c,getEffectParams:l}=e;let u;i("beforeInit",()=>{if(n.params.effect!==t)return;n.classNames.push(`${n.params.containerModifierClass}${t}`),o&&o()&&n.classNames.push(`${n.params.containerModifierClass}3d`);const f=a?a():{};Object.assign(n.params,f),Object.assign(n.originalParams,f)}),i("setTranslate",()=>{n.params.effect===t&&r()}),i("setTransition",(f,h)=>{n.params.effect===t&&s(h)}),i("transitionEnd",()=>{if(n.params.effect===t&&c){if(!l||!l().slideShadows)return;n.slides.each(f=>{n.$(f).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").remove()}),c()}}),i("virtualUpdate",()=>{n.params.effect===t&&(n.slides.length||(u=!0),requestAnimationFrame(()=>{u&&n.slides&&n.slides.length&&(r(),u=!1)}))})}({effect:"cards",swiper:e,on:n,setTranslate:()=>{const{slides:s,activeIndex:a}=e,o=e.params.cardsEffect,{startTranslate:c,isTouched:l}=e.touchEventsData,u=e.translate;for(let f=0;f<s.length;f+=1){const h=s.eq(f),m=h[0].progress,v=Math.min(Math.max(m,-4),4);let g=h[0].swiperSlideOffset;e.params.centeredSlides&&!e.params.cssMode&&e.$wrapperEl.transform(`translateX(${e.minTranslate()}px)`),e.params.centeredSlides&&e.params.cssMode&&(g-=s[0].swiperSlideOffset);let C=e.params.cssMode?-g-e.translate:-g,y=0;const H=-100*Math.abs(v);let V=1,b=-o.perSlideRotate*v,F=o.perSlideOffset-.75*Math.abs(v);const I=e.virtual&&e.params.virtual.enabled?e.virtual.from+f:f,de=(I===a||I===a+1)&&v<0&&v>-1&&(l||e.params.cssMode)&&u>c;if((I===a||I===a-1)&&v>0&&v<1&&(l||e.params.cssMode)&&u<c||de){const G=(1-Math.abs((Math.abs(v)-.5)/.5))**.5;b+=-28*v*G,V+=-.5*G,F+=96*G,y=-25*G*Math.abs(v)+"%"}if(C=v<0?`calc(${C}px + (${F*Math.abs(v)}%))`:v>0?`calc(${C}px + (-${F*Math.abs(v)}%))`:`${C}px`,!e.isHorizontal()){const G=y;y=C,C=G}const ue=`\n        translate3d(${C}, ${y}, ${H}px)\n        rotateZ(${o.rotate?b:0}deg)\n        scale(${v<0?""+(1+(1-V)*v):""+(1-(1-V)*v)})\n      `;if(o.slideShadows){let G=h.find(".swiper-slide-shadow");0===G.length&&(G=Che(o,h)),G.length&&(G[0].style.opacity=Math.min(Math.max((Math.abs(v)-.5)/.5,0),1))}h[0].style.zIndex=-Math.abs(Math.round(m))+s.length,Mhe(o,h).transform(ue)}},setTransition:s=>{const{transformEl:a}=e.params.cardsEffect;(a?e.slides.find(a):e.slides).transition(s).find(".swiper-slide-shadow").transition(s),function _he({swiper:e,duration:t,transformEl:n,allSlides:i}){const{slides:r,activeIndex:s,$wrapperEl:a}=e;if(e.params.virtualTranslate&&0!==t){let c,o=!1;c=i?n?r.find(n):r:n?r.eq(s).find(n):r.eq(s),c.transitionEnd(()=>{if(o||!e||e.destroyed)return;o=!0,e.animating=!1;const l=["webkitTransitionEnd","transitionend"];for(let u=0;u<l.length;u+=1)a.trigger(l[u])})}}({swiper:e,duration:s,transformEl:a})},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0,virtualTranslate:!e.params.cssMode})})}]);class X3{constructor(t,n){this._dialogService=t,this.statsService=n,this.recent=!0,this.defaultFlipStatus=!0,this.inline=!1,this.confirm=new pe,this.stats=W3,this.flipStatus=[],this.clickedStatIdx=-1,this.swiper=null,this._tentativeSum=0,this.tentativeSum$=n.tentativeSum$.pipe(Re(i=>(this._tentativeSum=i,i)))}ngOnInit(){this.statsService.syncStats();for(const t of this.stats)this.flipStatus.push(this.defaultFlipStatus)}flip(){!this.swiper||(this.flipStatus[this.swiper.activeIndex]=!this.flipStatus[this.swiper.activeIndex])}clickStatBox(t,n){this.recent&&(this.clickedStatIdx=W3.indexOf(t),this._dialogService.open(n,{data:{tarotCard:t},windowClass:"card"}))}onSwiper(t){this.swiper=t,t.activeIndex=this.clickedStatIdx}confirmStatChoices(){!this.recent||(this._tentativeSum>0||this.inline)&&(this.statsService.commitTentative(),this.confirm.emit())}static#e=this.\u0275fac=function(n){return new(n||X3)(re(I3),re(Pn))};static#t=this.\u0275cmp=Kt({type:X3,selectors:[["app-tarot-table"]],inputs:{recent:"recent",defaultFlipStatus:"defaultFlipStatus",inline:"inline"},outputs:{confirm:"confirm"},decls:20,vars:7,consts:[["id","tarot-table"],[1,"content"],[1,"spacer1"],[1,"title"],[1,"explanation"],[1,"remaining"],[1,"num"],[1,"stat-grid"],["ngFor","",3,"ngForOf"],[3,"locked","click"],["modalTpl",""],[3,"click"],[1,"circle1"],[1,"circle2"],[4,"ngIf"],[1,"circle3"],["id","modal-container"],["id","close-button",3,"click"],["iconName","CloseWhite"],["id","flip-button",3,"click"],["iconName","Explore"],["id","swiper"],[1,"card-swiper",3,"effect","grabCursor","swiper"],[4,"ngFor","ngForOf"],["swiperSlide",""],[3,"flipped","tarotCard"]],template:function(n,i){1&n&&(ce(0,"div",0)(1,"div",1),je(2,"div",2),ce(3,"div",3),we(4,"Your Cards"),ae(),ce(5,"div",4),we(6,"Click on the cards to distribute points"),ae(),ce(7,"div",5),we(8,"Remaining points: "),ce(9,"span",6),we(10),Ct(11,"async"),ae()(),ce(12,"div",7),ve(13,tpe,7,14,"ng-template",8),ae(),je(14,"div",2),ce(15,"app-continue-button",9),at("click",function(){return i.confirmStatChoices()}),Ct(16,"async"),we(17," Confirm Choices "),ae()()(),ve(18,rpe,8,3,"ng-template",null,10,Rt)),2&n&&(ie(10),h2(yt(11,3,i.statsService.remaining$)),ie(3),se("ngForOf",i.stats),ie(2),se("locked",!i.recent||0===yt(16,5,i.tentativeSum$)&&!i.inline))},dependencies:[ni,En,iz,Bu,hn,d6,Gs,hr],styles:["#modal-container[_ngcontent-%COMP%]{overflow:visible}#modal-container[_ngcontent-%COMP%]   #swiper[_ngcontent-%COMP%]{height:100%}#modal-container[_ngcontent-%COMP%]   #swiper[_ngcontent-%COMP%]   swiper[_ngcontent-%COMP%]{height:100%}#modal-container[_ngcontent-%COMP%]   #close-button[_ngcontent-%COMP%], #modal-container[_ngcontent-%COMP%]   #flip-button[_ngcontent-%COMP%]{position:absolute;width:50px;height:50px;z-index:20;cursor:pointer}#modal-container[_ngcontent-%COMP%]   #close-button[_ngcontent-%COMP%]{right:-10px;top:-20px}#modal-container[_ngcontent-%COMP%]   #flip-button[_ngcontent-%COMP%]{right:-10px;top:40px}#tarot-table[_ngcontent-%COMP%]{background-color:#000;height:100%}#tarot-table[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;box-sizing:border-box}#tarot-table[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:2em}#tarot-table[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .explanation[_ngcontent-%COMP%]{color:var(--secondary-text);text-align:center;font-size:.8em}#tarot-table[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]   .spacer1[_ngcontent-%COMP%]{min-height:0px}#tarot-table[_ngcontent-%COMP%]   .stat-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,33%);grid-template-rows:repeat(3,1fr);grid-column-gap:6px;grid-row-gap:6px;max-width:100%;max-height:100%;margin:20px 0;flex-grow:1;justify-items:stretch;align-items:stretch;aspect-ratio:1/2}#tarot-table[_ngcontent-%COMP%]   .stat-grid[_ngcontent-%COMP%]   .stat-space[_ngcontent-%COMP%]{display:block}#tarot-table[_ngcontent-%COMP%]   .stat-grid[_ngcontent-%COMP%]   .stat-name[_ngcontent-%COMP%]{font-size:.8em;font-weight:700;text-align:center;margin-bottom:10px}#tarot-table[_ngcontent-%COMP%]   .stat-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{overflow:hidden;height:100%;font-size:.6em;background-size:cover;background-position:50% 50%;border:1px solid black;box-sizing:border-box;border-radius:5px;cursor:pointer;transition:transform .2s cubic-bezier(.68,-.55,.265,1.55);border:1px solid white;position:relative;z-index:5}#tarot-table[_ngcontent-%COMP%]   .stat-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]:hover{transform:scale(1.08);z-index:10}#tarot-table[_ngcontent-%COMP%]   .stat-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .circle2[_ngcontent-%COMP%]{--width: 250%;--height: 90%;display:none}#tarot-table[_ngcontent-%COMP%]   .stat-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .circle1[_ngcontent-%COMP%]{--width: 250%;--height: 95%;display:none}#tarot-table[_ngcontent-%COMP%]   .stat-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .circle1[_ngcontent-%COMP%], #tarot-table[_ngcontent-%COMP%]   .stat-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .circle2[_ngcontent-%COMP%]{width:var(--width);height:var(--height);border-radius:50%;border:1px solid rgba(255,255,255,.5);position:absolute;left:calc(50% - var(--width) / 2);top:calc(50% - var(--height) / 2)}#tarot-table[_ngcontent-%COMP%]   .stat-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .circle3[_ngcontent-%COMP%]{--width: 40%;--height: 20%;width:var(--width);height:var(--height);border-radius:50%;position:absolute;left:calc(50% - var(--width) / 2);bottom:calc(var(--height) / -2 + 6%);display:flex;justify-content:center;align-items:center;font-size:2.2em}#tarot-table[_ngcontent-%COMP%]   .stat-grid[_ngcontent-%COMP%]   .stat-card.strenght[_ngcontent-%COMP%]{background-image:url(/cotm5/assets/images/cards/strenght.png)}#tarot-table[_ngcontent-%COMP%]   .stat-grid[_ngcontent-%COMP%]   .stat-card.control[_ngcontent-%COMP%]{background-image:url(/cotm5/assets/images/cards/control.png)}#tarot-table[_ngcontent-%COMP%]   .stat-grid[_ngcontent-%COMP%]   .stat-card.sleight[_ngcontent-%COMP%]{background-image:url(/cotm5/assets/images/cards/sleight.png)}#tarot-table[_ngcontent-%COMP%]   .stat-grid[_ngcontent-%COMP%]   .stat-card.perception[_ngcontent-%COMP%]{background-image:url(/cotm5/assets/images/cards/perception.png)}#tarot-table[_ngcontent-%COMP%]   .stat-grid[_ngcontent-%COMP%]   .stat-card.intuition[_ngcontent-%COMP%]{background-image:url(/cotm5/assets/images/cards/intuition.png)}#tarot-table[_ngcontent-%COMP%]   .stat-grid[_ngcontent-%COMP%]   .stat-card.knowledge[_ngcontent-%COMP%]{background-image:url(/cotm5/assets/images/cards/knowledge.png)}#tarot-table[_ngcontent-%COMP%]   .stat-grid[_ngcontent-%COMP%]   .stat-card.confidence[_ngcontent-%COMP%]{background-image:url(/cotm5/assets/images/cards/confidence.png)}#tarot-table[_ngcontent-%COMP%]   .stat-grid[_ngcontent-%COMP%]   .stat-card.manipulation[_ngcontent-%COMP%]{background-image:url(/cotm5/assets/images/cards/manipulation.png)}#tarot-table[_ngcontent-%COMP%]   .stat-grid[_ngcontent-%COMP%]   .stat-card.charisma[_ngcontent-%COMP%]{background-image:url(/cotm5/assets/images/cards/charisma.png)}#tarot-table[_ngcontent-%COMP%]   .stat-grid[_ngcontent-%COMP%]   .stat-space.strenght[_ngcontent-%COMP%]{grid-area:1/1/2/2}#tarot-table[_ngcontent-%COMP%]   .stat-grid[_ngcontent-%COMP%]   .stat-space.control[_ngcontent-%COMP%]{grid-area:1/2/2/3}#tarot-table[_ngcontent-%COMP%]   .stat-grid[_ngcontent-%COMP%]   .stat-space.sleight[_ngcontent-%COMP%]{grid-area:1/3/2/4}#tarot-table[_ngcontent-%COMP%]   .stat-grid[_ngcontent-%COMP%]   .stat-space.perception[_ngcontent-%COMP%]{grid-area:2/1/3/2}#tarot-table[_ngcontent-%COMP%]   .stat-grid[_ngcontent-%COMP%]   .stat-space.intuition[_ngcontent-%COMP%]{grid-area:2/2/3/3}#tarot-table[_ngcontent-%COMP%]   .stat-grid[_ngcontent-%COMP%]   .stat-space.knowledge[_ngcontent-%COMP%]{grid-area:2/3/3/4}#tarot-table[_ngcontent-%COMP%]   .stat-grid[_ngcontent-%COMP%]   .stat-space.confidence[_ngcontent-%COMP%]{grid-area:3/1/4/2}#tarot-table[_ngcontent-%COMP%]   .stat-grid[_ngcontent-%COMP%]   .stat-space.manipulation[_ngcontent-%COMP%]{grid-area:3/2/4/3}#tarot-table[_ngcontent-%COMP%]   .stat-grid[_ngcontent-%COMP%]   .stat-space.charisma[_ngcontent-%COMP%]{grid-area:3/3/4/4}","#close-button[_ngcontent-%COMP%]{cursor:pointer}.window[_ngcontent-%COMP%]{background-color:var(--secondary-background);border-radius:30px;border:4px solid black;box-sizing:border-box;position:relative;display:flex;flex-direction:column;justify-content:stretch}.window[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{color:#fff;font-size:1.3em;min-height:80px;display:flex;flex-direction:column;justify-content:flex-end;box-sizing:border-box;padding:12px;font-weight:600}.window[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{background-color:#000;color:#fff;flex-grow:1}.window[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{min-height:25px;display:flex;justify-content:center;align-items:center;padding:8px;font-weight:600}"]})}class h6{constructor(t,n,i){this._statsService=t,this._dialogRef=n,this._dialogService=i,this._confirmClose=!1}ngOnInit(){this._dialogRef.beforeClose(t=>(console.log("onClosed"),!!this._confirmClose||(this._statsService.tentativeSum$.pipe(E1(1)).subscribe(n=>{n>0?this._confirmClose||this._dialogService.open(o6,{data:{title:"Discard changes?",body:"Points left can be distributed later.",accept:()=>{this._statsService.clearTentative(),this._confirmClose=!0,this._dialogRef.close()},deny:null}}):(this._confirmClose=!0,this._dialogRef.close())}),!1)))}close(){this._dialogRef.close()}onConfirm(){}static#e=this.\u0275fac=function(n){return new(n||h6)(re(Pn),re(Pi),re(I3))};static#t=this.\u0275cmp=Kt({type:h6,selectors:[["app-stat-menu-popup"]],decls:4,vars:0,consts:[["id","stat-menu-popup"],["id","close-button",3,"click"],["iconName","CloseWhite"],[3,"confirm"]],template:function(n,i){1&n&&(ce(0,"div",0)(1,"div",1),at("click",function(){return i.close()}),je(2,"app-choice-ui-icon",2),ae(),ce(3,"app-tarot-table",3),at("confirm",function(){return i.onConfirm()}),ae()())},dependencies:[hn,X3],styles:["#stat-menu-popup[_ngcontent-%COMP%]{height:100%;overflow:visible}#stat-menu-popup[_ngcontent-%COMP%]   #close-button[_ngcontent-%COMP%]{position:absolute;right:-10px;top:-15px;width:50px;height:50px}","#close-button[_ngcontent-%COMP%]{cursor:pointer}.window[_ngcontent-%COMP%]{background-color:var(--secondary-background);border-radius:30px;border:4px solid black;box-sizing:border-box;position:relative;display:flex;flex-direction:column;justify-content:stretch}.window[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{color:#fff;font-size:1.3em;min-height:80px;display:flex;flex-direction:column;justify-content:flex-end;box-sizing:border-box;padding:12px;font-weight:600}.window[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{background-color:#000;color:#fff;flex-grow:1}.window[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{min-height:25px;display:flex;justify-content:center;align-items:center;padding:8px;font-weight:600}"]})}class p6{constructor(t){this._dialogRef=t}close(){this._dialogRef.close()}static#e=this.\u0275fac=function(n){return new(n||p6)(re(Pi))};static#t=this.\u0275cmp=Kt({type:p6,selectors:[["app-journal-popup"]],decls:23,vars:0,consts:[["id","inventory-popup",1,"window"],["id","close-button",3,"click"],["iconName","CloseWhite"],[1,"header"],[1,"body"],[1,"quest"],[1,"quest-name"],[1,"step-explanation","current"],[1,"step-explanation","past"],[1,"footer"]],template:function(n,i){1&n&&(ce(0,"div",0)(1,"div",1),at("click",function(){return i.close()}),je(2,"app-choice-ui-icon",2),ae(),ce(3,"div",3),we(4," Journal "),ae(),ce(5,"div",4)(6,"div",5)(7,"div",6),we(8," Awaken "),ae(),ce(9,"p",7),we(10," J\xfalio explained my first task: I must go to a bookstore and buy two books. Simple, except if the seller gets suspicious, I might catch a beating. The solution is to build a reputation first. J\xfalio has given me a new backstory to learn and some tips on how to become known within the community. "),ae(),ce(11,"p",8),we(12," (done) Monica has offered me a job, as a way to learn more about this new world safely. She told me my neighbour from apartment 2 has a task for me. "),ae(),ce(13,"p",8),we(14," (done) I've met a man at a club, we went back to my place and... now they are talking about powers? Who is this guy? Why would he do this to me? "),ae()(),ce(15,"div",5)(16,"div",6),we(17," The Fool "),ae(),ce(18,"p",7),we(19," I talked to a bartender and convinced him I know Hugo. He let me have Hugo's driver's license and car keys, hoping I would run into him eventually. Guilherme would be interested in this. "),ae(),ce(20,"p",8),we(21," (done) I met a man looking for a Favor and decided to help. He is looking for a friend of his and I just need to ask some questions the Magnetic Club. "),ae()()(),je(22,"div",9),ae())},dependencies:[hn],styles:["#close-button[_ngcontent-%COMP%]   app-choice-ui-icon[_ngcontent-%COMP%]{width:50px;height:50px;position:absolute;right:10px;top:10px}.quest[_ngcontent-%COMP%]{padding:6px;border-bottom:1px solid white}.quest[_ngcontent-%COMP%]   .quest-name[_ngcontent-%COMP%]{font-size:1.2em;font-weight:700}.quest[_ngcontent-%COMP%]   .step-explanation.past[_ngcontent-%COMP%]{color:var(--secondary-text)}","#close-button[_ngcontent-%COMP%]{cursor:pointer}.window[_ngcontent-%COMP%]{background-color:var(--secondary-background);border-radius:30px;border:4px solid black;box-sizing:border-box;position:relative;display:flex;flex-direction:column;justify-content:stretch}.window[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{color:#fff;font-size:1.3em;min-height:80px;display:flex;flex-direction:column;justify-content:flex-end;box-sizing:border-box;padding:12px;font-weight:600}.window[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{background-color:#000;color:#fff;flex-grow:1}.window[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{min-height:25px;display:flex;justify-content:center;align-items:center;padding:8px;font-weight:600}"]})}function spe(e,t){if(1&e&&(ce(0,"div",6),we(1),ae()),2&e){const n=He().ngIf;let i;ie(1),p2(" ",(null!==(i=n.n1)&&void 0!==i?i:0)+(null!==(i=n.n2)&&void 0!==i?i:0)+(null!==(i=n.n3)&&void 0!==i?i:0)," ")}}function ape(e,t){if(1&e&&(a1(0),ve(1,spe,2,1,"div",5),o1()),2&e){const n=t.ngIf;let i;ie(1),se("ngIf",(null!==(i=n.n1)&&void 0!==i?i:0)+(null!==(i=n.n2)&&void 0!==i?i:0)+(null!==(i=n.n3)&&void 0!==i?i:0)>0)}}function ope(e,t){if(1&e&&(ce(0,"div",14),we(1),Ct(2,"async"),ae()),2&e){const n=He().$implicit;ie(1),h2(yt(2,1,n.notifications$))}}const sz=function(e){return{locked:e}};function cpe(e,t){if(1&e){const n=z1();ce(0,"div",11),at("click",function(){const s=I2(n).$implicit;return F2(He(2).clickOption(s))}),ve(1,ope,3,3,"div",12),Ct(2,"async"),ce(3,"div",13),we(4),ae()()}if(2&e){const n=t.$implicit;se("ngClass",Et(5,sz,n.locked)),ie(1),se("ngIf",yt(2,3,n.notifications$)&&!n.locked),ie(3),h2(n.name)}}function lpe(e,t){if(1&e&&(ce(0,"div",14),we(1),Ct(2,"async"),ae()),2&e){const n=He().$implicit;ie(1),h2(yt(2,1,n.notifications$))}}function upe(e,t){1&e&&je(0,"fa-icon",17),2&e&&se("icon",He(3).saveIcon)}function fpe(e,t){1&e&&je(0,"fa-icon",17),2&e&&se("icon",He(3).undoIcon)}function dpe(e,t){1&e&&je(0,"fa-icon",17),2&e&&se("icon",He(3).debugStatsIcon)}function hpe(e,t){1&e&&je(0,"fa-icon",17),2&e&&se("icon",He(3).settingsIcon)}function ppe(e,t){if(1&e){const n=z1();ce(0,"div",15),at("click",function(){const s=I2(n).$implicit;return F2(He(2).clickOption(s))}),ve(1,lpe,3,3,"div",12),Ct(2,"async"),ce(3,"div",13),ve(4,upe,1,1,"fa-icon",16),ve(5,fpe,1,1,"fa-icon",16),ve(6,dpe,1,1,"fa-icon",16),ve(7,hpe,1,1,"fa-icon",16),ae()()}if(2&e){const n=t.$implicit;se("ngClass",Et(8,sz,n.locked)),ie(1),se("ngIf",yt(2,6,n.notifications$)&&!n.locked),ie(3),se("ngIf","save"===n.name),ie(1),se("ngIf","undo"===n.name),ie(1),se("ngIf","debug-stats"===n.name),ie(1),se("ngIf","settings"===n.name)}}function mpe(e,t){if(1&e&&(ce(0,"div",7),ve(1,cpe,5,7,"div",8),ce(2,"div",9),ve(3,ppe,8,10,"div",10),ae()()),2&e){const n=He();ie(1),se("ngForOf",n.menuOptions),ie(2),se("ngForOf",n.smallOptions)}}const gpe=function(e,t,n){return{n1:e,n2:t,n3:n}};class di{constructor(t,n,i,r){this.name=t,this.notifications$=n,this.locked=i,this.cb=r,this.kind="single"}}class m6{constructor(t,n,i,r,s){this._messagesService=t,this._inventoryService=n,this._dialogService=i,this._storyService=r,this._statsService=s,this.menuDialogRef=null,this.menuOptions=[],this.smallOptions=[],this.saveIcon=UV,this.undoIcon=bS,this.debugStatsIcon=uu,this.settingsIcon=K7,this.messageNotifications$=this._messagesService.newMessages$,this.inventoryNotifications$=this._inventoryService.newItems$,this.statNotifications$=this._statsService.remaining$,this.menuOptions=[new di("Tarot deck",this.statNotifications$,!1,()=>this.onStatMenuClick()),new di("Messages",this._messagesService.newMessages$,!1,()=>this.onMessagesClick()),new di("Inventory",this._inventoryService.newItems$,!1,()=>this.onInventoryClick()),new di("Journal",null,!0,()=>this.onJournalClick()),new di("Map",null,!0,null)],this.statMenuOption=this.menuOptions[0],this.messagesMenuOption=this.menuOptions[1],this.inventoryMenuOption=this.menuOptions[2],this.journalMenuOption=this.menuOptions[3],this.smallOptions=[new di("save",null,!1,()=>this.onSaveClick()),new di("undo",null,!1,()=>this.onUndoClick()),new di("debug-stats",null,!0,null),new di("settings",null,!0,null)];const a=this._storyService.getThenObserve("player_locked_menus",(o,c)=>{this.statMenuOption.locked=c.value,this.messagesMenuOption.locked=c.value,this.inventoryMenuOption.locked=c.value});this.statMenuOption.locked=a.value,this.messagesMenuOption.locked=a.value,this.inventoryMenuOption.locked=a.value}openMenu(t){this._statsService.syncStats();const n=this._dialogService.open(t);this.menuDialogRef=n}clickOption(t){!t.locked&&t.cb&&t.cb()}onStatMenuClick(){this._dialogService.open(h6,{data:{},windowClass:"cover"})}onInventoryClick(){this._dialogService.open(s6,{data:{},windowClass:"full"})}onMessagesClick(){this._dialogService.open(a6,{data:{},windowClass:"full"})}onJournalClick(){this._dialogService.open(p6,{data:{},windowClass:"full"})}onSaveClick(){this._storyService.save()}onUndoClick(){this._storyService.undo()}static#e=this.\u0275fac=function(n){return new(n||m6)(re(fi),re(An),re(I3),re(j2),re(Pn))};static#t=this.\u0275cmp=Kt({type:m6,selectors:[["app-side-menu"]],decls:9,vars:11,consts:[["id","side-menu"],["id","menu-button"],["src","/cotm5/assets/images/ui/menu.png",3,"click"],[4,"ngIf"],["modalTemplate",""],["id","menu-notification","class","notification",4,"ngIf"],["id","menu-notification",1,"notification"],["id","menu-options"],["class","option",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"small-options"],["class","option small",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"option",3,"ngClass","click"],["class","notification",4,"ngIf"],[1,"text"],[1,"notification"],[1,"option","small",3,"ngClass","click"],[3,"icon",4,"ngIf"],[3,"icon"]],template:function(n,i){if(1&n){const r=z1();ce(0,"div",0)(1,"div",1)(2,"img",2),at("click",function(){I2(r);const a=Lt(8);return F2(i.openMenu(a))}),ae(),ve(3,ape,2,1,"ng-container",3),Ct(4,"async"),Ct(5,"async"),Ct(6,"async"),ae()(),ve(7,mpe,4,2,"ng-template",null,4,Rt)}2&n&&(ie(3),se("ngIf",wm(7,gpe,i.messagesMenuOption.locked?0:yt(4,1,i.messageNotifications$),i.inventoryMenuOption.locked?0:yt(5,3,i.inventoryNotifications$),i.statMenuOption.locked?0:yt(6,5,i.statNotifications$))))},dependencies:[xi,ni,En,Y5,hr],styles:["#side-menu[_ngcontent-%COMP%]{position:fixed;width:100%;max-width:600px;height:0;z-index:10;display:flex;flex-direction:column;align-items:flex-end;padding-top:20px;padding-right:20%;box-sizing:border-box}#side-menu[_ngcontent-%COMP%]   #menu-button[_ngcontent-%COMP%]{text-align:right;position:absolute;right:-98px}#side-menu[_ngcontent-%COMP%]   #menu-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{cursor:pointer}#side-menu[_ngcontent-%COMP%]   #menu-button[_ngcontent-%COMP%]   #menu-notification[_ngcontent-%COMP%]{position:absolute;right:0;top:0}#side-menu[_ngcontent-%COMP%]   #full-bg[_ngcontent-%COMP%]{width:100vw;height:100vh;position:fixed;left:0;top:0;background-color:#000;z-index:-1;opacity:.6;transition:opacity .2s}.option[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;text-align:right;width:276px;height:59px;border-radius:31px;font-size:1.2em;padding:0 18px;box-sizing:border-box;background-color:#fff;color:#000;margin-top:12px;line-height:59px;font-weight:600;cursor:pointer}.option.locked[_ngcontent-%COMP%]{background-color:var(--secondary-background);cursor:not-allowed}.option[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{flex-grow:1}.small-options[_ngcontent-%COMP%]{width:276px;display:flex}.small-options[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]{overflow:hidden;margin-left:5px;margin-right:5px;padding:0}.small-options[_ngcontent-%COMP%]   .option.small[_ngcontent-%COMP%]{text-align:center}.notification[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:30px;background-color:#24ff3a;display:flex;align-items:center;justify-content:center;color:#000;font-weight:600}@media (max-width: 830px){#side-menu[_ngcontent-%COMP%]   #menu-button[_ngcontent-%COMP%]{right:10px}#side-menu[_ngcontent-%COMP%]   #menu-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60px;height:60px}#side-menu[_ngcontent-%COMP%]   #menu-notification[_ngcontent-%COMP%]{width:25px;height:25px}}"]})}let az=(()=>{class e{constructor(n,i){this._renderer=n,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(n,i){this._renderer.setProperty(this._elementRef.nativeElement,n,i)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return e.\u0275fac=function(n){return new(n||e)(re(Vn),re(s2))},e.\u0275dir=Ue({type:e}),e})(),wr=(()=>{class e extends az{}return e.\u0275fac=function(){let t;return function(i){return(t||(t=E2(e)))(i||e)}}(),e.\u0275dir=Ue({type:e,features:[xt]}),e})();const On=new Pe("NgValueAccessor"),ype={provide:On,useExisting:Nt(()=>g6),multi:!0},_pe=new Pe("CompositionEventMode");let g6=(()=>{class e extends az{constructor(n,i,r){super(n,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Mpe(){const e=Ln()?Ln().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return e.\u0275fac=function(n){return new(n||e)(re(Vn),re(s2),re(_pe,8))},e.\u0275dir=Ue({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,i){1&n&&at("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[Ut([ype]),xt]}),e})();const U2=new Pe("NgValidators"),Fi=new Pe("NgAsyncValidators");function vz(e){return null!=e}function Cz(e){return P4(e)?t2(e):e}function yz(e){let t={};return e.forEach(n=>{t=null!=n?{...t,...n}:t}),0===Object.keys(t).length?null:t}function Mz(e,t){return t.map(n=>n(e))}function _z(e){return e.map(t=>function Spe(e){return!e.validate}(t)?t:n=>t.validate(n))}function $u(e){return null!=e?function bz(e){if(!e)return null;const t=e.filter(vz);return 0==t.length?null:function(n){return yz(Mz(n,t))}}(_z(e)):null}function ju(e){return null!=e?function Vz(e){if(!e)return null;const t=e.filter(vz);return 0==t.length?null:function(n){return function vpe(...e){const t=Gf(e),{args:n,keys:i}=xC(e),r=new q(s=>{const{length:a}=n;if(!a)return void s.complete();const o=new Array(a);let c=a,l=a;for(let u=0;u<a;u++){let f=!1;n1(n[u]).subscribe(Je(s,h=>{f||(f=!0,l--),o[u]=h},()=>c--,void 0,()=>{(!c||!f)&&(l||s.next(i?zC(i,o):o),s.complete())}))}});return t?r.pipe(K5(t)):r}(Mz(n,t).map(Cz)).pipe(Re(yz))}}(_z(e)):null}function Sz(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function Uu(e){return e?Array.isArray(e)?e:[e]:[]}function C6(e,t){return Array.isArray(e)?e.includes(t):e===t}function xz(e,t){const n=Uu(t);return Uu(e).forEach(r=>{C6(n,r)||n.push(r)}),n}function zz(e,t){return Uu(t).filter(n=>!C6(e,n))}class Lz{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=$u(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=ju(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,n){return!!this.control&&this.control.hasError(t,n)}getError(t,n){return this.control?this.control.getError(t,n):null}}class e1 extends Lz{get formDirective(){return null}get path(){return null}}class Ri extends Lz{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ez{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Tz=(()=>{class e extends Ez{constructor(n){super(n)}}return e.\u0275fac=function(n){return new(n||e)(re(Ri,2))},e.\u0275dir=Ue({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,i){2&n&&gs("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[xt]}),e})();const Q3="VALID",M6="INVALID",qs="PENDING",Z3="DISABLED";function _6(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class Pz{constructor(t,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Q3}get invalid(){return this.status===M6}get pending(){return this.status==qs}get disabled(){return this.status===Z3}get enabled(){return this.status!==Z3}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(xz(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(xz(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(zz(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(zz(t,this._rawAsyncValidators))}hasValidator(t){return C6(this._rawValidators,t)}hasAsyncValidator(t){return C6(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=qs,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=Z3,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:n}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=Q3,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:n}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Q3||this.status===qs)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Z3:Q3}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=qs,this._hasOwnPendingAsyncValidator=!0;const n=Cz(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(!1!==n.emitEvent)}get(t){let n=t;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((i,r)=>i&&i._find(r),this)}getError(t,n){const i=n?this.get(n):this;return i&&i.errors?i.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new pe,this.statusChanges=new pe}_calculateStatus(){return this._allControlsDisabled()?Z3:this.errors?M6:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(qs)?qs:this._anyControlsHaveStatus(M6)?M6:Q3}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){_6(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function Dpe(e){return Array.isArray(e)?$u(e):e||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function Npe(e){return Array.isArray(e)?ju(e):e||null}(this._rawAsyncValidators)}}const J3=new Pe("CallSetDisabledState",{providedIn:"root",factory:()=>Qu}),Qu="always";function ea(e,t,n=Qu){(function Zu(e,t){const n=function wz(e){return e._rawValidators}(e);null!==t.validator?e.setValidators(Sz(n,t.validator)):"function"==typeof n&&e.setValidators([n]);const i=function Hz(e){return e._rawAsyncValidators}(e);null!==t.asyncValidator?e.setAsyncValidators(Sz(i,t.asyncValidator)):"function"==typeof i&&e.setAsyncValidators([i]);const r=()=>e.updateValueAndValidity();S6(t._rawValidators,r),S6(t._rawAsyncValidators,r)})(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||"always"===n)&&t.valueAccessor.setDisabledState?.(e.disabled),function Ope(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&Oz(e,t)})}(e,t),function Ipe(e,t){const n=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function kpe(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&Oz(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function Ppe(e,t){if(t.valueAccessor.setDisabledState){const n=i=>{t.valueAccessor.setDisabledState(i)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t)}function S6(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function Oz(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Fz(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function Rz(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}const Bz=class extends Pz{constructor(t=null,n,i){super(function Yu(e){return(_6(e)?e.validators:e)||null}(n),function Ku(e,t){return(_6(t)?t.asyncValidators:e)||null}(i,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),_6(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=Rz(t)?t.value:t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Fz(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Fz(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){Rz(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},Gpe={provide:Ri,useExisting:Nt(()=>rf)},Uz=(()=>Promise.resolve())();let rf=(()=>{class e extends Ri{constructor(n,i,r,s,a,o){super(),this._changeDetectorRef=a,this.callSetDisabledState=o,this.control=new Bz,this._registered=!1,this.update=new pe,this._parent=n,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function tf(e,t){if(!t)return null;let n,i,r;return Array.isArray(t),t.forEach(s=>{s.constructor===g6?n=s:function Bpe(e){return Object.getPrototypeOf(e.constructor)===wr}(s)?i=s:r=s}),r||i||n||null}(0,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const i=n.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function ef(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ea(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){Uz.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const i=n.isDisabled.currentValue,r=0!==i&&function Vs(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}(i);Uz.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?function b6(e,t){return[...t.path,e]}(n,this._parent):[n]}}return e.\u0275fac=function(n){return new(n||e)(re(e1,9),re(U2,10),re(Fi,10),re(On,10),re(q4,8),re(J3,8))},e.\u0275dir=Ue({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ut([Gpe]),xt,_2]}),e})(),Gz=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=W2({type:e}),e.\u0275inj=A2({}),e})(),vme=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=W2({type:e}),e.\u0275inj=A2({imports:[Gz]}),e})(),uL=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:J3,useValue:n.callSetDisabledState??Qu}]}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=W2({type:e}),e.\u0275inj=A2({imports:[vme]}),e})();const fL=function(e,t){return{old:e,recent:t}};class H6{constructor(t){this.storyService=t,this.recent=!1,this.randomizeIcon=ex,this.firstnames=["Afonso","Xavier","Jo\xe3o","Ivo","Elias","Reinaldo","Marcelo","Luciano","Ricardo","Rog\xe9rio","Marta","Carla","Sandra","Ana","Marcela","Luciana","Erica","Andressa","Let\xedcia","Suzana"],this.lastnames=["Souza","Silva","Alves","Pereira","Carvalho","Jacinto","Torres","Schmidt","Weber","Abel"],this.firstName="",this.lastName="",this.randomizeFirstName(),this.randomizeLastName(),this.saveNames()}onFirstNameChange(){this.saveNames()}onLastNameChange(){this.saveNames()}randomizeFirstName(){const t=this.firstName;for(;this.firstName==t;){const n=Math.floor(Math.random()*this.firstnames.length);this.firstName=this.firstnames[n]}this.onFirstNameChange()}randomizeLastName(){const t=this.lastName;for(;this.lastName==t;){const n=Math.floor(Math.random()*this.lastnames.length);this.lastName=this.lastnames[n]}this.onLastNameChange()}saveNames(){this.storyService.call("player_set_first_name",[this.firstName]),this.storyService.call("player_set_last_name",[this.lastName])}static#e=this.\u0275fac=function(n){return new(n||H6)(re(j2))};static#t=this.\u0275cmp=Kt({type:H6,selectors:[["app-naming-menu"]],inputs:{recent:"recent"},decls:14,vars:14,consts:[["id","name-menu",3,"ngClass"],["for","firstname"],["id","firstname","type","text",3,"ngModel","disabled","ngModelChange","change"],[3,"icon","click"],["for","lastname"],["id","lastname","type","text",3,"ngModel","disabled","ngModelChange","change"],["id","old-anchor",3,"ngClass"]],template:function(n,i){1&n&&(ce(0,"div",0)(1,"p"),we(2,"Who are you?"),ae(),ce(3,"label",1),we(4,"First name:"),ae(),ce(5,"div")(6,"input",2),at("ngModelChange",function(s){return i.firstName=s})("change",function(){return i.onFirstNameChange()}),ae(),ce(7,"fa-icon",3),at("click",function(){return i.randomizeFirstName()}),ae()(),ce(8,"label",4),we(9,"Last name:"),ae(),ce(10,"div")(11,"input",5),at("ngModelChange",function(s){return i.lastName=s})("change",function(){return i.onLastNameChange()}),ae(),ce(12,"fa-icon",3),at("click",function(){return i.randomizeLastName()}),ae()(),je(13,"div",6),ae()),2&n&&(se("ngClass",c1(8,fL,!i.recent,i.recent)),ie(6),se("ngModel",i.firstName)("disabled",!i.recent),ie(1),se("icon",i.randomizeIcon),ie(4),se("ngModel",i.lastName)("disabled",!i.recent),ie(1),se("icon",i.randomizeIcon),ie(1),se("ngClass",c1(11,fL,!i.recent,i.recent)))},dependencies:[xi,Y5,g6,Tz,rf],styles:["#name-menu[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:35px;line-height:30px;color:var(--analog1);font-size:1em;font-weight:700;padding:21px;box-sizing:border-box;border-radius:4px;background-color:var(--background);border:1px solid #333;margin-bottom:10px;font-family:inherit}#name-menu[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative}#name-menu[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.9em}#name-menu[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{font-size:1.5em;cursor:pointer;position:absolute;right:10px;top:1px}#name-menu.old[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{display:none}#name-menu.old[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-color:var(--background)}"]})}function yme(e,t){if(1&e&&(ce(0,"p"),we(1),ae()),2&e){const n=t.$implicit;ie(1),p2(" ",n," ")}}function Mme(e,t){if(1&e&&(ce(0,"div",9)(1,"div",10),je(2,"img",11),ae(),ce(3,"div",12),we(4),Ct(5,"titlecase"),ae(),ce(6,"div",13),ve(7,yme,2,1,"p",6),ae()()),2&e){const n=He().$implicit;ie(2),go("src",n.imageSrc,v0),ie(2),p2(" ",yt(5,3,n.kind)," "),ie(3),se("ngForOf",n.description)}}function _me(e,t){1&e&&ve(0,Mme,8,5,"ng-template",8)}const bme=function(e,t){return{old:e,recent:t}},Vme=function(){return{clickable:!0}};var xr=(()=>{return(e=xr||(xr={})).VILITARIS="VILITARIS",e.BELLIO="BELLIO",e.NIAVIT="NIAVIT",xr;var e})();js.use([function vhe({swiper:e,extendParams:t,on:n,emit:i}){const r="swiper-pagination";t({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:g=>g,formatFractionTotal:g=>g,bulletClass:`${r}-bullet`,bulletActiveClass:`${r}-bullet-active`,modifierClass:`${r}-`,currentClass:`${r}-current`,totalClass:`${r}-total`,hiddenClass:`${r}-hidden`,progressbarFillClass:`${r}-progressbar-fill`,progressbarOppositeClass:`${r}-progressbar-opposite`,clickableClass:`${r}-clickable`,lockClass:`${r}-lock`,horizontalClass:`${r}-horizontal`,verticalClass:`${r}-vertical`,paginationDisabledClass:`${r}-disabled`}}),e.pagination={el:null,$el:null,bullets:[]};let s,a=0;function o(){return!e.params.pagination.el||!e.pagination.el||!e.pagination.$el||0===e.pagination.$el.length}function c(g,C){const{bulletActiveClass:y}=e.params.pagination;g[C]().addClass(`${y}-${C}`)[C]().addClass(`${y}-${C}-${C}`)}function l(){const g=e.rtl,C=e.params.pagination;if(o())return;const y=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,H=e.pagination.$el;let V;const b=e.params.loop?Math.ceil((y-2*e.loopedSlides)/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(V=Math.ceil((e.activeIndex-e.loopedSlides)/e.params.slidesPerGroup),V>y-1-2*e.loopedSlides&&(V-=y-2*e.loopedSlides),V>b-1&&(V-=b),V<0&&"bullets"!==e.params.paginationType&&(V=b+V)):V=typeof e.snapIndex<"u"?e.snapIndex:e.activeIndex||0,"bullets"===C.type&&e.pagination.bullets&&e.pagination.bullets.length>0){const F=e.pagination.bullets;let I,te,de;if(C.dynamicBullets&&(s=F.eq(0)[e.isHorizontal()?"outerWidth":"outerHeight"](!0),H.css(e.isHorizontal()?"width":"height",s*(C.dynamicMainBullets+4)+"px"),C.dynamicMainBullets>1&&void 0!==e.previousIndex&&(a+=V-(e.previousIndex-e.loopedSlides||0),a>C.dynamicMainBullets-1?a=C.dynamicMainBullets-1:a<0&&(a=0)),I=Math.max(V-a,0),te=I+(Math.min(F.length,C.dynamicMainBullets)-1),de=(te+I)/2),F.removeClass(["","-next","-next-next","-prev","-prev-prev","-main"].map(me=>`${C.bulletActiveClass}${me}`).join(" ")),H.length>1)F.each(me=>{const ue=Mt(me),Q=ue.index();Q===V&&ue.addClass(C.bulletActiveClass),C.dynamicBullets&&(Q>=I&&Q<=te&&ue.addClass(`${C.bulletActiveClass}-main`),Q===I&&c(ue,"prev"),Q===te&&c(ue,"next"))});else{const me=F.eq(V),ue=me.index();if(me.addClass(C.bulletActiveClass),C.dynamicBullets){const Q=F.eq(I),G=F.eq(te);for(let J=I;J<=te;J+=1)F.eq(J).addClass(`${C.bulletActiveClass}-main`);if(e.params.loop)if(ue>=F.length){for(let J=C.dynamicMainBullets;J>=0;J-=1)F.eq(F.length-J).addClass(`${C.bulletActiveClass}-main`);F.eq(F.length-C.dynamicMainBullets-1).addClass(`${C.bulletActiveClass}-prev`)}else c(Q,"prev"),c(G,"next");else c(Q,"prev"),c(G,"next")}}if(C.dynamicBullets){const me=Math.min(F.length,C.dynamicMainBullets+4),ue=(s*me-s)/2-de*s,Q=g?"right":"left";F.css(e.isHorizontal()?Q:"top",`${ue}px`)}}if("fraction"===C.type&&(H.find(Us(C.currentClass)).text(C.formatFractionCurrent(V+1)),H.find(Us(C.totalClass)).text(C.formatFractionTotal(b))),"progressbar"===C.type){let F;F=C.progressbarOpposite?e.isHorizontal()?"vertical":"horizontal":e.isHorizontal()?"horizontal":"vertical";const I=(V+1)/b;let te=1,de=1;"horizontal"===F?te=I:de=I,H.find(Us(C.progressbarFillClass)).transform(`translate3d(0,0,0) scaleX(${te}) scaleY(${de})`).transition(e.params.speed)}"custom"===C.type&&C.renderCustom?(H.html(C.renderCustom(e,V+1,b)),i("paginationRender",H[0])):i("paginationUpdate",H[0]),e.params.watchOverflow&&e.enabled&&H[e.isLocked?"addClass":"removeClass"](C.lockClass)}function u(){const g=e.params.pagination;if(o())return;const C=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,y=e.pagination.$el;let H="";if("bullets"===g.type){let V=e.params.loop?Math.ceil((C-2*e.loopedSlides)/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&!e.params.loop&&V>C&&(V=C);for(let b=0;b<V;b+=1)H+=g.renderBullet?g.renderBullet.call(e,b,g.bulletClass):`<${g.bulletElement} class="${g.bulletClass}"></${g.bulletElement}>`;y.html(H),e.pagination.bullets=y.find(Us(g.bulletClass))}"fraction"===g.type&&(H=g.renderFraction?g.renderFraction.call(e,g.currentClass,g.totalClass):`<span class="${g.currentClass}"></span> / <span class="${g.totalClass}"></span>`,y.html(H)),"progressbar"===g.type&&(H=g.renderProgressbar?g.renderProgressbar.call(e,g.progressbarFillClass):`<span class="${g.progressbarFillClass}"></span>`,y.html(H)),"custom"!==g.type&&i("paginationRender",e.pagination.$el[0])}function f(){e.params.pagination=Jx(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const g=e.params.pagination;if(!g.el)return;let C=Mt(g.el);0!==C.length&&(e.params.uniqueNavElements&&"string"==typeof g.el&&C.length>1&&(C=e.$el.find(g.el),C.length>1&&(C=C.filter(y=>Mt(y).parents(".swiper")[0]===e.el))),"bullets"===g.type&&g.clickable&&C.addClass(g.clickableClass),C.addClass(g.modifierClass+g.type),C.addClass(e.isHorizontal()?g.horizontalClass:g.verticalClass),"bullets"===g.type&&g.dynamicBullets&&(C.addClass(`${g.modifierClass}${g.type}-dynamic`),a=0,g.dynamicMainBullets<1&&(g.dynamicMainBullets=1)),"progressbar"===g.type&&g.progressbarOpposite&&C.addClass(g.progressbarOppositeClass),g.clickable&&C.on("click",Us(g.bulletClass),function(H){H.preventDefault();let V=Mt(this).index()*e.params.slidesPerGroup;e.params.loop&&(V+=e.loopedSlides),e.slideTo(V)}),Object.assign(e.pagination,{$el:C,el:C[0]}),e.enabled||C.addClass(g.lockClass))}function h(){const g=e.params.pagination;if(o())return;const C=e.pagination.$el;C.removeClass(g.hiddenClass),C.removeClass(g.modifierClass+g.type),C.removeClass(e.isHorizontal()?g.horizontalClass:g.verticalClass),e.pagination.bullets&&e.pagination.bullets.removeClass&&e.pagination.bullets.removeClass(g.bulletActiveClass),g.clickable&&C.off("click",Us(g.bulletClass))}n("init",()=>{!1===e.params.pagination.enabled?v():(f(),u(),l())}),n("activeIndexChange",()=>{(e.params.loop||typeof e.snapIndex>"u")&&l()}),n("snapIndexChange",()=>{e.params.loop||l()}),n("slidesLengthChange",()=>{e.params.loop&&(u(),l())}),n("snapGridLengthChange",()=>{e.params.loop||(u(),l())}),n("destroy",()=>{h()}),n("enable disable",()=>{const{$el:g}=e.pagination;g&&g[e.enabled?"removeClass":"addClass"](e.params.pagination.lockClass)}),n("lock unlock",()=>{l()}),n("click",(g,C)=>{const y=C.target,{$el:H}=e.pagination;if(e.params.pagination.el&&e.params.pagination.hideOnClick&&H&&H.length>0&&!Mt(y).hasClass(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&y===e.navigation.nextEl||e.navigation.prevEl&&y===e.navigation.prevEl))return;const V=H.hasClass(e.params.pagination.hiddenClass);i(!0===V?"paginationShow":"paginationHide"),H.toggleClass(e.params.pagination.hiddenClass)}});const v=()=>{e.$el.addClass(e.params.pagination.paginationDisabledClass),e.pagination.$el&&e.pagination.$el.addClass(e.params.pagination.paginationDisabledClass),h()};Object.assign(e.pagination,{enable:()=>{e.$el.removeClass(e.params.pagination.paginationDisabledClass),e.pagination.$el&&e.pagination.$el.removeClass(e.params.pagination.paginationDisabledClass),f(),u(),l()},disable:v,render:u,update:l,init:f,destroy:h})},function ghe({swiper:e,extendParams:t,on:n,emit:i}){function r(m){let v;return m&&(v=Mt(m),e.params.uniqueNavElements&&"string"==typeof m&&v.length>1&&1===e.$el.find(m).length&&(v=e.$el.find(m))),v}function s(m,v){const g=e.params.navigation;m&&m.length>0&&(m[v?"addClass":"removeClass"](g.disabledClass),m[0]&&"BUTTON"===m[0].tagName&&(m[0].disabled=v),e.params.watchOverflow&&e.enabled&&m[e.isLocked?"addClass":"removeClass"](g.lockClass))}function a(){if(e.params.loop)return;const{$nextEl:m,$prevEl:v}=e.navigation;s(v,e.isBeginning&&!e.params.rewind),s(m,e.isEnd&&!e.params.rewind)}function o(m){m.preventDefault(),(!e.isBeginning||e.params.loop||e.params.rewind)&&(e.slidePrev(),i("navigationPrev"))}function c(m){m.preventDefault(),(!e.isEnd||e.params.loop||e.params.rewind)&&(e.slideNext(),i("navigationNext"))}function l(){const m=e.params.navigation;if(e.params.navigation=Jx(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!m.nextEl&&!m.prevEl)return;const v=r(m.nextEl),g=r(m.prevEl);v&&v.length>0&&v.on("click",c),g&&g.length>0&&g.on("click",o),Object.assign(e.navigation,{$nextEl:v,nextEl:v&&v[0],$prevEl:g,prevEl:g&&g[0]}),e.enabled||(v&&v.addClass(m.lockClass),g&&g.addClass(m.lockClass))}function u(){const{$nextEl:m,$prevEl:v}=e.navigation;m&&m.length&&(m.off("click",c),m.removeClass(e.params.navigation.disabledClass)),v&&v.length&&(v.off("click",o),v.removeClass(e.params.navigation.disabledClass))}t({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,$nextEl:null,prevEl:null,$prevEl:null},n("init",()=>{!1===e.params.navigation.enabled?h():(l(),a())}),n("toEdge fromEdge lock unlock",()=>{a()}),n("destroy",()=>{u()}),n("enable disable",()=>{const{$nextEl:m,$prevEl:v}=e.navigation;m&&m[e.enabled?"removeClass":"addClass"](e.params.navigation.lockClass),v&&v[e.enabled?"removeClass":"addClass"](e.params.navigation.lockClass)}),n("click",(m,v)=>{const{$nextEl:g,$prevEl:C}=e.navigation,y=v.target;if(e.params.navigation.hideOnClick&&!Mt(y).is(C)&&!Mt(y).is(g)){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===y||e.pagination.el.contains(y)))return;let H;g?H=g.hasClass(e.params.navigation.hiddenClass):C&&(H=C.hasClass(e.params.navigation.hiddenClass)),i(!0===H?"navigationShow":"navigationHide"),g&&g.toggleClass(e.params.navigation.hiddenClass),C&&C.toggleClass(e.params.navigation.hiddenClass)}});const h=()=>{e.$el.addClass(e.params.navigation.navigationDisabledClass),u()};Object.assign(e.navigation,{enable:()=>{e.$el.removeClass(e.params.navigation.navigationDisabledClass),l(),a()},disable:h,update:a,init:l,destroy:u})}]);class x6{constructor(t){this.storyService=t,this.recent=!1,this.currentIndex=0,this.swiper=null,this.markings=[{kind:xr.VILITARIS,imageClass:"marking-vilitaris",imageSrc:"/cotm5/assets/images/items/red02.svg",description:["Powerful bodies build powerful minds, their motto and lifestyle. Mages who are looking for control in all things, internal and external, choose this Marking.","Bonus: +1 to PHYSICAL stats.","Power Player: You can't say no to any offers of power, no matter what."]},{kind:xr.BELLIO,imageClass:"marking-bellio",imageSrc:"/cotm5/assets/images/items/green02.svg",description:["There is something fundamentaly broken with the world and you will fix it. Rebels and activists, and those with drive and passion choose this Marking.","Bonus: +1 to MENTAL stats.","Savior Complex: You can't say no to helping people, and you are going to be really condescending about it."]},{kind:xr.NIAVIT,imageClass:"marking-niavit",imageSrc:"/cotm5/assets/images/items/purple02.svg",description:["What\u2019s the point of having magic if you can\u2019t have fun? Sex, drugs and alcohol are a lot more fun when there are no consequences. Those who seek hedonism choose this Marking.","Bonus: +1 to SOCIAL challenges.","Addicted: You can't say no to drinking or taking drugs, even when that's bad for you."]}]}confirmMarking(){!this.recent||this.storyService.chooseChoiceIndex(0)}onSwiper(t){if(!this.recent)return;this.swiper=t;const n=this.storyService.get("player_marking1").value,i=this.storyService.get("player_marking2").value,r=this.storyService.get("player_marking3").value;n>i&&n>r?this.currentIndex=1:i>n&&i>r?this.currentIndex=2:r>n&&r>i&&(this.currentIndex=3),console.log(n,i,r,this.currentIndex),t.activeIndex=this.currentIndex,this._setStoryValue()}onSlideChange(t){!this.recent||!this.swiper||(this.currentIndex=this.swiper.realIndex+1,this._setStoryValue())}_setStoryValue(){!this.recent||(1==this.currentIndex&&(this.storyService.call("player_set_marking1",[4]),this.storyService.call("player_set_marking2",[0]),this.storyService.call("player_set_marking3",[0])),2==this.currentIndex&&(this.storyService.call("player_set_marking1",[0]),this.storyService.call("player_set_marking2",[4]),this.storyService.call("player_set_marking3",[0])),3==this.currentIndex&&(this.storyService.call("player_set_marking1",[0]),this.storyService.call("player_set_marking2",[0]),this.storyService.call("player_set_marking3",[4])))}static#e=this.\u0275fac=function(n){return new(n||x6)(re(j2))};static#t=this.\u0275cmp=Kt({type:x6,selectors:[["app-marking-menu"]],inputs:{recent:"recent"},decls:12,vars:13,consts:[["id","marking-menu",3,"ngClass"],["id","container"],[1,"title"],[1,"description-container"],[1,"scroller"],["id","marking-swiper",3,"slidesPerView","spaceBetween","loop","pagination","enabled","navigation","swiper","slideChange"],[4,"ngFor","ngForOf"],[3,"locked","click"],["swiperSlide",""],[1,"marking"],[1,"marking-image"],[3,"src"],[1,"marking-name"],[1,"marking-text"]],template:function(n,i){1&n&&(ce(0,"div",0)(1,"div",1)(2,"div"),we(3,"You've been given a "),ce(4,"div",2),we(5,"Marking"),ae()(),ce(6,"div",3)(7,"div",4)(8,"swiper",5),at("swiper",function(s){return i.onSwiper(s)})("slideChange",function(s){return i.onSlideChange(s)}),ve(9,_me,1,0,null,6),ae()()(),ce(10,"app-continue-button",7),at("click",function(){return i.confirmMarking()}),we(11," Confirm Marking "),ae()()()),2&n&&(se("ngClass",c1(9,bme,!i.recent,i.recent)),ie(8),se("slidesPerView",1)("spaceBetween",30)("loop",!0)("pagination",y8(12,Vme))("enabled",i.recent)("navigation",!0),ie(1),se("ngForOf",i.markings),ie(1),se("locked",!i.recent))},dependencies:[xi,ni,iz,Bu,Gs,c5],styles:["#marking-menu[_ngcontent-%COMP%]{height:100%}#marking-menu[_ngcontent-%COMP%]   #container[_ngcontent-%COMP%]{max-height:100%;max-width:100%;height:100%;box-sizing:border-box;min-width:0;min-height:0;background-color:#000;background-size:100% 100%;display:flex;justify-content:space-between;align-items:center;flex-direction:column}#marking-menu[_ngcontent-%COMP%]   #container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1.4em;line-height:1.1;text-align:center}#marking-menu[_ngcontent-%COMP%]   #container[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]{flex-grow:1}#marking-menu[_ngcontent-%COMP%]   #container[_ngcontent-%COMP%]   .gameplay-container[_ngcontent-%COMP%]{flex-shrink:0;padding-bottom:10px;width:100%}#marking-menu[_ngcontent-%COMP%]   #container[_ngcontent-%COMP%]   .description-container[_ngcontent-%COMP%]{background-color:#000000bf;overflow-y:auto;display:flex;min-width:0;max-width:100%}#marking-menu[_ngcontent-%COMP%]   #container[_ngcontent-%COMP%]   .description-container[_ngcontent-%COMP%]   .scroller[_ngcontent-%COMP%]{width:100%;height:100%;overflow-y:auto;display:flex;flex-direction:column}#marking-menu[_ngcontent-%COMP%]   #container[_ngcontent-%COMP%]   .description-container[_ngcontent-%COMP%]   .scroller[_ngcontent-%COMP%]   .swiper[_ngcontent-%COMP%]{max-width:100%;max-height:100%}#marking-menu[_ngcontent-%COMP%]   #container[_ngcontent-%COMP%]   .description-container[_ngcontent-%COMP%]   .scroller[_ngcontent-%COMP%]   .marking[_ngcontent-%COMP%]{max-height:100%;max-width:100%;height:100%;box-sizing:border-box;min-width:0;min-height:0;background-color:#000;background-size:100% 100%;display:flex;justify-content:flex-start;align-items:center;flex-direction:column}#marking-menu[_ngcontent-%COMP%]   #container[_ngcontent-%COMP%]   .description-container[_ngcontent-%COMP%]   .scroller[_ngcontent-%COMP%]   .marking[_ngcontent-%COMP%]   .marking-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px}#marking-menu[_ngcontent-%COMP%]   #container[_ngcontent-%COMP%]   .description-container[_ngcontent-%COMP%]   .scroller[_ngcontent-%COMP%]   .marking[_ngcontent-%COMP%]   .marking-name[_ngcontent-%COMP%]{font-size:2.9em;line-height:1.1;text-align:center;font-family:Over the Rainbow}#marking-menu[_ngcontent-%COMP%]   #container[_ngcontent-%COMP%]   .description-container[_ngcontent-%COMP%]   .scroller[_ngcontent-%COMP%]   .marking[_ngcontent-%COMP%]   .marking-text[_ngcontent-%COMP%]{overflow-y:auto;display:flex;flex-direction:column;min-width:0;max-width:100%;margin-bottom:30px}#marking-menu[_ngcontent-%COMP%]   #container[_ngcontent-%COMP%]   .description-container[_ngcontent-%COMP%]   .scroller[_ngcontent-%COMP%]   .marking[_ngcontent-%COMP%]   .marking-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:6px 0}#marking-menu[_ngcontent-%COMP%]   #container[_ngcontent-%COMP%]   .description-container[_ngcontent-%COMP%]   .scroller[_ngcontent-%COMP%]   .marking[_ngcontent-%COMP%]   .marking-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child{margin-top:0}#marking-menu[_ngcontent-%COMP%]   #container[_ngcontent-%COMP%]   .description-container[_ngcontent-%COMP%]   .scroller[_ngcontent-%COMP%]   .marking[_ngcontent-%COMP%]   .marking-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{margin-bottom:0}"]})}function j1(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function zr(e){return e instanceof j1(e).Element||e instanceof Element}function U1(e){return e instanceof j1(e).HTMLElement||e instanceof HTMLElement}function df(e){return!(typeof ShadowRoot>"u")&&(e instanceof j1(e).ShadowRoot||e instanceof ShadowRoot)}var Lr=Math.max,z6=Math.min,Ys=Math.round;function hf(){var e=navigator.userAgentData;return null!=e&&e.brands?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function dL(){return!/^((?!chrome|android).)*safari/i.test(hf())}function Ks(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var i=e.getBoundingClientRect(),r=1,s=1;t&&U1(e)&&(r=e.offsetWidth>0&&Ys(i.width)/e.offsetWidth||1,s=e.offsetHeight>0&&Ys(i.height)/e.offsetHeight||1);var o=(zr(e)?j1(e):window).visualViewport,c=!dL()&&n,l=(i.left+(c&&o?o.offsetLeft:0))/r,u=(i.top+(c&&o?o.offsetTop:0))/s,f=i.width/r,h=i.height/s;return{width:f,height:h,top:u,right:l+f,bottom:u+h,left:l,x:l,y:u}}function pf(e){var t=j1(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function kn(e){return e?(e.nodeName||"").toLowerCase():null}function Bi(e){return((zr(e)?e.ownerDocument:e.document)||window.document).documentElement}function mf(e){return Ks(Bi(e)).left+pf(e).scrollLeft}function hi(e){return j1(e).getComputedStyle(e)}function gf(e){var t=hi(e);return/auto|scroll|overlay|hidden/.test(t.overflow+t.overflowY+t.overflowX)}function xme(e,t,n){void 0===n&&(n=!1);var i=U1(t),r=U1(t)&&function Hme(e){var t=e.getBoundingClientRect(),n=Ys(t.width)/e.offsetWidth||1,i=Ys(t.height)/e.offsetHeight||1;return 1!==n||1!==i}(t),s=Bi(t),a=Ks(e,r,n),o={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(i||!i&&!n)&&(("body"!==kn(t)||gf(s))&&(o=function wme(e){return e!==j1(e)&&U1(e)?function Sme(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}(e):pf(e)}(t)),U1(t)?((c=Ks(t,!0)).x+=t.clientLeft,c.y+=t.clientTop):s&&(c.x=mf(s))),{x:a.left+o.scrollLeft-c.x,y:a.top+o.scrollTop-c.y,width:a.width,height:a.height}}function vf(e){var t=Ks(e),n=e.offsetWidth,i=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:i}}function L6(e){return"html"===kn(e)?e:e.assignedSlot||e.parentNode||(df(e)?e.host:null)||Bi(e)}function hL(e){return["html","body","#document"].indexOf(kn(e))>=0?e.ownerDocument.body:U1(e)&&gf(e)?e:hL(L6(e))}function na(e,t){var n;void 0===t&&(t=[]);var i=hL(e),r=i===(null==(n=e.ownerDocument)?void 0:n.body),s=j1(i),a=r?[s].concat(s.visualViewport||[],gf(i)?i:[]):i,o=t.concat(a);return r?o:o.concat(na(L6(a)))}function zme(e){return["table","td","th"].indexOf(kn(e))>=0}function pL(e){return U1(e)&&"fixed"!==hi(e).position?e.offsetParent:null}function ia(e){for(var t=j1(e),n=pL(e);n&&zme(n)&&"static"===hi(n).position;)n=pL(n);return n&&("html"===kn(n)||"body"===kn(n)&&"static"===hi(n).position)?t:n||function Lme(e){var t=/firefox/i.test(hf());if(/Trident/i.test(hf())&&U1(e)&&"fixed"===hi(e).position)return null;var r=L6(e);for(df(r)&&(r=r.host);U1(r)&&["html","body"].indexOf(kn(r))<0;){var s=hi(r);if("none"!==s.transform||"none"!==s.perspective||"paint"===s.contain||-1!==["transform","perspective"].indexOf(s.willChange)||t&&"filter"===s.willChange||t&&s.filter&&"none"!==s.filter)return r;r=r.parentNode}return null}(e)||t}var d1="top",W1="bottom",G1="right",h1="left",Cf="auto",ra=[d1,W1,G1,h1],Xs="start",sa="end",mL="viewport",aa="popper",gL=ra.reduce(function(e,t){return e.concat([t+"-"+Xs,t+"-"+sa])},[]),vL=[].concat(ra,[Cf]).reduce(function(e,t){return e.concat([t,t+"-"+Xs,t+"-"+sa])},[]),Bme=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function $me(e){var t=new Map,n=new Set,i=[];function r(s){n.add(s.name),[].concat(s.requires||[],s.requiresIfExists||[]).forEach(function(o){if(!n.has(o)){var c=t.get(o);c&&r(c)}}),i.push(s)}return e.forEach(function(s){t.set(s.name,s)}),e.forEach(function(s){n.has(s.name)||r(s)}),i}function Ume(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}var CL={placement:"bottom",modifiers:[],strategy:"absolute"};function yL(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(i){return!(i&&"function"==typeof i.getBoundingClientRect)})}function Gme(e){void 0===e&&(e={});var n=e.defaultModifiers,i=void 0===n?[]:n,r=e.defaultOptions,s=void 0===r?CL:r;return function(o,c,l){void 0===l&&(l=s);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},CL,s),modifiersData:{},elements:{reference:o,popper:c},attributes:{},styles:{}},f=[],h=!1,m={state:u,setOptions:function(y){var H="function"==typeof y?y(u.options):y;g(),u.options=Object.assign({},s,u.options,H),u.scrollParents={reference:zr(o)?na(o):o.contextElement?na(o.contextElement):[],popper:na(c)};var V=function jme(e){var t=$me(e);return Bme.reduce(function(n,i){return n.concat(t.filter(function(r){return r.phase===i}))},[])}(function Wme(e){var t=e.reduce(function(n,i){var r=n[i.name];return n[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,n},{});return Object.keys(t).map(function(n){return t[n]})}([].concat(i,u.options.modifiers)));return u.orderedModifiers=V.filter(function(Q){return Q.enabled}),function v(){u.orderedModifiers.forEach(function(C){var H=C.options,b=C.effect;if("function"==typeof b){var F=b({state:u,name:C.name,instance:m,options:void 0===H?{}:H});f.push(F||function(){})}})}(),m.update()},forceUpdate:function(){if(!h){var y=u.elements,H=y.reference,V=y.popper;if(yL(H,V)){u.rects={reference:xme(H,ia(V),"fixed"===u.options.strategy),popper:vf(V)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(Q){return u.modifiersData[Q.name]=Object.assign({},Q.data)});for(var F=0;F<u.orderedModifiers.length;F++)if(!0!==u.reset){var I=u.orderedModifiers[F],te=I.fn,de=I.options;"function"==typeof te&&(u=te({state:u,options:void 0===de?{}:de,name:I.name,instance:m})||u)}else u.reset=!1,F=-1}}},update:Ume(function(){return new Promise(function(C){m.forceUpdate(),C(u)})}),destroy:function(){g(),h=!0}};if(!yL(o,c))return m;function g(){f.forEach(function(C){return C()}),f=[]}return m.setOptions(l).then(function(C){!h&&l.onFirstUpdate&&l.onFirstUpdate(C)}),m}}var E6={passive:!0};function In(e){return e.split("-")[0]}function Qs(e){return e.split("-")[1]}function yf(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function ML(e){var c,t=e.reference,n=e.element,i=e.placement,r=i?In(i):null,s=i?Qs(i):null,a=t.x+t.width/2-n.width/2,o=t.y+t.height/2-n.height/2;switch(r){case d1:c={x:a,y:t.y-n.height};break;case W1:c={x:a,y:t.y+t.height};break;case G1:c={x:t.x+t.width,y:o};break;case h1:c={x:t.x-n.width,y:o};break;default:c={x:t.x,y:t.y}}var l=r?yf(r):null;if(null!=l){var u="y"===l?"height":"width";switch(s){case Xs:c[l]=c[l]-(t[u]/2-n[u]/2);break;case sa:c[l]=c[l]+(t[u]/2-n[u]/2)}}return c}var Qme={top:"auto",right:"auto",bottom:"auto",left:"auto"};function _L(e){var t,n=e.popper,i=e.popperRect,r=e.placement,s=e.variation,a=e.offsets,o=e.position,c=e.gpuAcceleration,l=e.adaptive,u=e.roundOffsets,f=e.isFixed,h=a.x,m=void 0===h?0:h,v=a.y,g=void 0===v?0:v,C="function"==typeof u?u({x:m,y:g}):{x:m,y:g};m=C.x,g=C.y;var y=a.hasOwnProperty("x"),H=a.hasOwnProperty("y"),V=h1,b=d1,F=window;if(l){var I=ia(n),te="clientHeight",de="clientWidth";I===j1(n)&&"static"!==hi(I=Bi(n)).position&&"absolute"===o&&(te="scrollHeight",de="scrollWidth"),(r===d1||(r===h1||r===G1)&&s===sa)&&(b=W1,g-=(f&&I===F&&F.visualViewport?F.visualViewport.height:I[te])-i.height,g*=c?1:-1),r!==h1&&(r!==d1&&r!==W1||s!==sa)||(V=G1,m-=(f&&I===F&&F.visualViewport?F.visualViewport.width:I[de])-i.width,m*=c?1:-1)}var J,Q=Object.assign({position:o},l&&Qme),G=!0===u?function Zme(e){var n=e.y,r=window.devicePixelRatio||1;return{x:Ys(e.x*r)/r||0,y:Ys(n*r)/r||0}}({x:m,y:g}):{x:m,y:g};return m=G.x,g=G.y,Object.assign({},Q,c?((J={})[b]=H?"0":"",J[V]=y?"0":"",J.transform=(F.devicePixelRatio||1)<=1?"translate("+m+"px, "+g+"px)":"translate3d("+m+"px, "+g+"px, 0)",J):((t={})[b]=H?g+"px":"",t[V]=y?m+"px":"",t.transform="",t))}const bL={name:"applyStyles",enabled:!0,phase:"write",fn:function tge(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var i=t.styles[n]||{},r=t.attributes[n]||{},s=t.elements[n];!U1(s)||!kn(s)||(Object.assign(s.style,i),Object.keys(r).forEach(function(a){var o=r[a];!1===o?s.removeAttribute(a):s.setAttribute(a,!0===o?"":o)}))})},effect:function nge(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(i){var r=t.elements[i],s=t.attributes[i]||{},o=Object.keys(t.styles.hasOwnProperty(i)?t.styles[i]:n[i]).reduce(function(c,l){return c[l]="",c},{});!U1(r)||!kn(r)||(Object.assign(r.style,o),Object.keys(s).forEach(function(c){r.removeAttribute(c)}))})}},requires:["computeStyles"]};var age={left:"right",right:"left",bottom:"top",top:"bottom"};function T6(e){return e.replace(/left|right|bottom|top/g,function(t){return age[t]})}var oge={start:"end",end:"start"};function VL(e){return e.replace(/start|end/g,function(t){return oge[t]})}function SL(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&df(n)){var i=t;do{if(i&&e.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Mf(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function wL(e,t,n){return t===mL?Mf(function cge(e,t){var n=j1(e),i=Bi(e),r=n.visualViewport,s=i.clientWidth,a=i.clientHeight,o=0,c=0;if(r){s=r.width,a=r.height;var l=dL();(l||!l&&"fixed"===t)&&(o=r.offsetLeft,c=r.offsetTop)}return{width:s,height:a,x:o+mf(e),y:c}}(e,n)):zr(t)?function uge(e,t){var n=Ks(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):Mf(function lge(e){var t,n=Bi(e),i=pf(e),r=null==(t=e.ownerDocument)?void 0:t.body,s=Lr(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),a=Lr(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),o=-i.scrollLeft+mf(e),c=-i.scrollTop;return"rtl"===hi(r||n).direction&&(o+=Lr(n.clientWidth,r?r.clientWidth:0)-s),{width:s,height:a,x:o,y:c}}(Bi(e)))}function xL(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function zL(e,t){return t.reduce(function(n,i){return n[i]=e,n},{})}function oa(e,t){void 0===t&&(t={});var i=t.placement,r=void 0===i?e.placement:i,s=t.strategy,a=void 0===s?e.strategy:s,o=t.boundary,c=void 0===o?"clippingParents":o,l=t.rootBoundary,u=void 0===l?mL:l,f=t.elementContext,h=void 0===f?aa:f,m=t.altBoundary,v=void 0!==m&&m,g=t.padding,C=void 0===g?0:g,y=xL("number"!=typeof C?C:zL(C,ra)),V=e.rects.popper,b=e.elements[v?h===aa?"reference":aa:h],F=function dge(e,t,n,i){var r="clippingParents"===t?function fge(e){var t=na(L6(e)),i=["absolute","fixed"].indexOf(hi(e).position)>=0&&U1(e)?ia(e):e;return zr(i)?t.filter(function(r){return zr(r)&&SL(r,i)&&"body"!==kn(r)}):[]}(e):[].concat(t),s=[].concat(r,[n]),o=s.reduce(function(c,l){var u=wL(e,l,i);return c.top=Lr(u.top,c.top),c.right=z6(u.right,c.right),c.bottom=z6(u.bottom,c.bottom),c.left=Lr(u.left,c.left),c},wL(e,s[0],i));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}(zr(b)?b:b.contextElement||Bi(e.elements.popper),c,u,a),I=Ks(e.elements.reference),te=ML({reference:I,element:V,strategy:"absolute",placement:r}),de=Mf(Object.assign({},V,te)),me=h===aa?de:I,ue={top:F.top-me.top+y.top,bottom:me.bottom-F.bottom+y.bottom,left:F.left-me.left+y.left,right:me.right-F.right+y.right},Q=e.modifiersData.offset;if(h===aa&&Q){var G=Q[r];Object.keys(ue).forEach(function(J){var Se=[G1,W1].indexOf(J)>=0?1:-1,Ee=[d1,W1].indexOf(J)>=0?"y":"x";ue[J]+=G[Ee]*Se})}return ue}function ca(e,t,n){return Lr(e,z6(t,n))}function LL(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function EL(e){return[d1,G1,W1,h1].some(function(t){return e[t]>=0})}var xge=Gme({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function qme(e){var t=e.state,n=e.instance,i=e.options,r=i.scroll,s=void 0===r||r,a=i.resize,o=void 0===a||a,c=j1(t.elements.popper),l=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&l.forEach(function(u){u.addEventListener("scroll",n.update,E6)}),o&&c.addEventListener("resize",n.update,E6),function(){s&&l.forEach(function(u){u.removeEventListener("scroll",n.update,E6)}),o&&c.removeEventListener("resize",n.update,E6)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function Kme(e){var t=e.state;t.modifiersData[e.name]=ML({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function Jme(e){var t=e.state,n=e.options,i=n.gpuAcceleration,r=void 0===i||i,s=n.adaptive,a=void 0===s||s,o=n.roundOffsets,c=void 0===o||o,u={placement:In(t.placement),variation:Qs(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,_L(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:c})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,_L(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},bL,{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function rge(e){var t=e.state,i=e.name,r=e.options.offset,s=void 0===r?[0,0]:r,a=vL.reduce(function(u,f){return u[f]=function ige(e,t,n){var i=In(e),r=[h1,d1].indexOf(i)>=0?-1:1,s="function"==typeof n?n(Object.assign({},t,{placement:e})):n,a=s[0],o=s[1];return a=a||0,o=(o||0)*r,[h1,G1].indexOf(i)>=0?{x:o,y:a}:{x:a,y:o}}(f,t.rects,s),u},{}),o=a[t.placement],l=o.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=o.x,t.modifiersData.popperOffsets.y+=l),t.modifiersData[i]=a}},{name:"flip",enabled:!0,phase:"main",fn:function mge(e){var t=e.state,n=e.options,i=e.name;if(!t.modifiersData[i]._skip){for(var r=n.mainAxis,s=void 0===r||r,a=n.altAxis,o=void 0===a||a,c=n.fallbackPlacements,l=n.padding,u=n.boundary,f=n.rootBoundary,h=n.altBoundary,m=n.flipVariations,v=void 0===m||m,g=n.allowedAutoPlacements,C=t.options.placement,y=In(C),V=c||(y!==C&&v?function pge(e){if(In(e)===Cf)return[];var t=T6(e);return[VL(e),t,VL(t)]}(C):[T6(C)]),b=[C].concat(V).reduce(function(m1,r2){return m1.concat(In(r2)===Cf?function hge(e,t){void 0===t&&(t={});var r=t.boundary,s=t.rootBoundary,a=t.padding,o=t.flipVariations,c=t.allowedAutoPlacements,l=void 0===c?vL:c,u=Qs(t.placement),f=u?o?gL:gL.filter(function(v){return Qs(v)===u}):ra,h=f.filter(function(v){return l.indexOf(v)>=0});0===h.length&&(h=f);var m=h.reduce(function(v,g){return v[g]=oa(e,{placement:g,boundary:r,rootBoundary:s,padding:a})[In(g)],v},{});return Object.keys(m).sort(function(v,g){return m[v]-m[g]})}(t,{placement:r2,boundary:u,rootBoundary:f,padding:l,flipVariations:v,allowedAutoPlacements:g}):r2)},[]),F=t.rects.reference,I=t.rects.popper,te=new Map,de=!0,me=b[0],ue=0;ue<b.length;ue++){var Q=b[ue],G=In(Q),J=Qs(Q)===Xs,Se=[d1,W1].indexOf(G)>=0,Ee=Se?"width":"height",ee=oa(t,{placement:Q,boundary:u,rootBoundary:f,altBoundary:h,padding:l}),Me=Se?J?G1:h1:J?W1:d1;F[Ee]>I[Ee]&&(Me=T6(Me));var ye=T6(Me),Qe=[];if(s&&Qe.push(ee[G]<=0),o&&Qe.push(ee[Me]<=0,ee[ye]<=0),Qe.every(function(m1){return m1})){me=Q,de=!1;break}te.set(Q,Qe)}if(de)for(var e2=function(r2){var D2=b.find(function(pi){var Y1=te.get(pi);if(Y1)return Y1.slice(0,r2).every(function(mi){return mi})});if(D2)return me=D2,"break"},x2=v?3:1;x2>0&&"break"!==e2(x2);x2--);t.placement!==me&&(t.modifiersData[i]._skip=!0,t.placement=me,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function yge(e){var t=e.state,n=e.options,i=e.name,r=n.mainAxis,s=void 0===r||r,a=n.altAxis,o=void 0!==a&&a,h=n.tether,m=void 0===h||h,v=n.tetherOffset,g=void 0===v?0:v,C=oa(t,{boundary:n.boundary,rootBoundary:n.rootBoundary,padding:n.padding,altBoundary:n.altBoundary}),y=In(t.placement),H=Qs(t.placement),V=!H,b=yf(y),F=function vge(e){return"x"===e?"y":"x"}(b),I=t.modifiersData.popperOffsets,te=t.rects.reference,de=t.rects.popper,me="function"==typeof g?g(Object.assign({},t.rects,{placement:t.placement})):g,ue="number"==typeof me?{mainAxis:me,altAxis:me}:Object.assign({mainAxis:0,altAxis:0},me),Q=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,G={x:0,y:0};if(I){if(s){var J,Se="y"===b?d1:h1,Ee="y"===b?W1:G1,ee="y"===b?"height":"width",Me=I[b],ye=Me+C[Se],Qe=Me-C[Ee],ut=m?-de[ee]/2:0,e2=H===Xs?te[ee]:de[ee],x2=H===Xs?-de[ee]:-te[ee],q1=t.elements.arrow,m1=m&&q1?vf(q1):{width:0,height:0},r2=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},D2=r2[Se],pi=r2[Ee],Y1=ca(0,te[ee],m1[ee]),mi=V?te[ee]/2-ut-Y1-D2-ue.mainAxis:e2-Y1-D2-ue.mainAxis,mn=V?-te[ee]/2+ut+Y1+pi+ue.mainAxis:x2+Y1+pi+ue.mainAxis,gn=t.elements.arrow&&ia(t.elements.arrow),vi=null!=(J=Q?.[b])?J:0,qi=Me+mn-vi,Ci=ca(m?z6(ye,Me+mi-vi-(gn?"y"===b?gn.clientTop||0:gn.clientLeft||0:0)):ye,Me,m?Lr(Qe,qi):Qe);I[b]=Ci,G[b]=Ci-Me}if(o){var ma,yi=I[F],Yi="y"===F?"height":"width",ga=yi+C["x"===b?d1:h1],Dr=yi-C["x"===b?W1:G1],va=-1!==[d1,h1].indexOf(y),Y6=null!=(ma=Q?.[F])?ma:0,K6=va?ga:yi-te[Yi]-de[Yi]-Y6+ue.altAxis,X6=va?yi+te[Yi]+de[Yi]-Y6-ue.altAxis:Dr,Q6=m&&va?function Cge(e,t,n){var i=ca(e,t,n);return i>n?n:i}(K6,yi,X6):ca(m?K6:ga,yi,m?X6:Dr);I[F]=Q6,G[F]=Q6-yi}t.modifiersData[i]=G}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function bge(e){var t,n=e.state,i=e.name,r=e.options,s=n.elements.arrow,a=n.modifiersData.popperOffsets,o=In(n.placement),c=yf(o),u=[h1,G1].indexOf(o)>=0?"height":"width";if(s&&a){var f=function(t,n){return xL("number"!=typeof(t="function"==typeof t?t(Object.assign({},n.rects,{placement:n.placement})):t)?t:zL(t,ra))}(r.padding,n),h=vf(s),m="y"===c?d1:h1,v="y"===c?W1:G1,g=n.rects.reference[u]+n.rects.reference[c]-a[c]-n.rects.popper[u],C=a[c]-n.rects.reference[c],y=ia(s),H=y?"y"===c?y.clientHeight||0:y.clientWidth||0:0,I=H/2-h[u]/2+(g/2-C/2),te=ca(f[m],I,H-h[u]-f[v]);n.modifiersData[i]=((t={})[c]=te,t.centerOffset=te-I,t)}},effect:function Vge(e){var t=e.state,i=e.options.element,r=void 0===i?"[data-popper-arrow]":i;null!=r&&("string"==typeof r&&!(r=t.elements.popper.querySelector(r))||!SL(t.elements.popper,r)||(t.elements.arrow=r))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function wge(e){var t=e.state,n=e.name,i=t.rects.reference,r=t.rects.popper,s=t.modifiersData.preventOverflow,a=oa(t,{elementContext:"reference"}),o=oa(t,{altBoundary:!0}),c=LL(a,i),l=LL(o,r,s),u=EL(c),f=EL(l);t.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:l,isReferenceHidden:u,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":f})}}]}),TL="tippy-content",NL="tippy-arrow",AL="tippy-svg-arrow",$i={passive:!0,capture:!0},PL=function(){return document.body};function _f(e,t,n){return Array.isArray(e)?e[t]??(Array.isArray(n)?n[t]:n):e}function bf(e,t){var n={}.toString.call(e);return 0===n.indexOf("[object")&&n.indexOf(t+"]")>-1}function OL(e,t){return"function"==typeof e?e.apply(void 0,t):e}function kL(e,t){return 0===t?e:function(i){clearTimeout(n),n=setTimeout(function(){e(i)},t)};var n}function ji(e){return[].concat(e)}function IL(e,t){-1===e.indexOf(t)&&e.push(t)}function Zs(e){return[].slice.call(e)}function RL(e){return Object.keys(e).reduce(function(t,n){return void 0!==e[n]&&(t[n]=e[n]),t},{})}function Er(){return document.createElement("div")}function D6(e){return["Element","Fragment"].some(function(t){return bf(e,t)})}function wf(e,t){e.forEach(function(n){n&&(n.style.transitionDuration=t+"ms")})}function la(e,t){e.forEach(function(n){n&&n.setAttribute("data-state",t)})}function Hf(e,t,n){var i=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(r){e[i](r,n)})}function jL(e,t){for(var n=t;n;){var i;if(e.contains(n))return!0;n=null==n.getRootNode||null==(i=n.getRootNode())?void 0:i.host}return!1}var Fn={isTouch:!1},UL=0;function Pge(){Fn.isTouch||(Fn.isTouch=!0,window.performance&&document.addEventListener("mousemove",WL))}function WL(){var e=performance.now();e-UL<20&&(Fn.isTouch=!1,document.removeEventListener("mousemove",WL)),UL=e}function Oge(){var e=document.activeElement;(function BL(e){return!(!e||!e._tippy||e._tippy.reference!==e)})(e)&&e.blur&&!e._tippy.state.isVisible&&e.blur()}var Fge=!!(typeof window<"u"&&typeof document<"u")&&!!window.msCrypto,p1=Object.assign({appendTo:PL,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},{animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},{allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999}),jge=Object.keys(p1);function XL(e){var n=(e.plugins||[]).reduce(function(i,r){var o,s=r.name;return s&&(i[s]=void 0!==e[s]?e[s]:null!=(o=p1[s])?o:r.defaultValue),i},{});return Object.assign({},e,n)}function QL(e,t){var n=Object.assign({},t,{content:OL(t.content,[e])},t.ignoreAttributes?{}:function Wge(e,t){return(t?Object.keys(XL(Object.assign({},p1,{plugins:t}))):jge).reduce(function(r,s){var a=(e.getAttribute("data-tippy-"+s)||"").trim();if(!a)return r;if("content"===s)r[s]=a;else try{r[s]=JSON.parse(a)}catch{r[s]=a}return r},{})}(e,t.plugins));return n.aria=Object.assign({},p1.aria,n.aria),n.aria={expanded:"auto"===n.aria.expanded?t.interactive:n.aria.expanded,content:"auto"===n.aria.content?t.interactive?null:"describedby":n.aria.content},n}function xf(e,t){e.innerHTML=t}function ZL(e){var t=Er();return!0===e?t.className=NL:(t.className=AL,D6(e)?t.appendChild(e):xf(t,e)),t}function JL(e,t){D6(t.content)?(xf(e,""),e.appendChild(t.content)):"function"!=typeof t.content&&(t.allowHTML?xf(e,t.content):e.textContent=t.content)}function N6(e){var t=e.firstElementChild,n=Zs(t.children);return{box:t,content:n.find(function(i){return i.classList.contains(TL)}),arrow:n.find(function(i){return i.classList.contains(NL)||i.classList.contains(AL)}),backdrop:n.find(function(i){return i.classList.contains("tippy-backdrop")})}}function eE(e){var t=Er(),n=Er();n.className="tippy-box",n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var i=Er();function r(s,a){var o=N6(t),c=o.box,l=o.content,u=o.arrow;a.theme?c.setAttribute("data-theme",a.theme):c.removeAttribute("data-theme"),"string"==typeof a.animation?c.setAttribute("data-animation",a.animation):c.removeAttribute("data-animation"),a.inertia?c.setAttribute("data-inertia",""):c.removeAttribute("data-inertia"),c.style.maxWidth="number"==typeof a.maxWidth?a.maxWidth+"px":a.maxWidth,a.role?c.setAttribute("role",a.role):c.removeAttribute("role"),(s.content!==a.content||s.allowHTML!==a.allowHTML)&&JL(l,e.props),a.arrow?u?s.arrow!==a.arrow&&(c.removeChild(u),c.appendChild(ZL(a.arrow))):c.appendChild(ZL(a.arrow)):u&&c.removeChild(u)}return i.className=TL,i.setAttribute("data-state","hidden"),JL(i,e.props),t.appendChild(n),n.appendChild(i),r(e.props,e.props),{popper:t,onUpdate:r}}eE.$$tippy=!0;var qge=1,A6=[],P6=[];function Yge(e,t){var i,r,s,u,f,h,g,n=QL(e,Object.assign({},p1,XL(RL(t)))),a=!1,o=!1,c=!1,l=!1,m=[],v=kL(Gi,n.interactiveDebounce),C=qge++,H=function Tge(e){return e.filter(function(t,n){return e.indexOf(t)===n})}(n.plugins),b={id:C,reference:e,popper:Er(),popperInstance:null,props:n,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:H,clearDelayTimeouts:function K6(){clearTimeout(i),clearTimeout(r),cancelAnimationFrame(s)},setProps:function X6(he){if(!b.state.isDestroyed){ye("onBeforeUpdate",[b,he]),gi();var ke=b.props,Ze=QL(e,Object.assign({},ke,RL(he),{ignoreAttributes:!0}));b.props=Ze,gn(),ke.interactiveDebounce!==Ze.interactiveDebounce&&(e2(),v=kL(Gi,Ze.interactiveDebounce)),ke.triggerTarget&&!Ze.triggerTarget?ji(ke.triggerTarget).forEach(function(zt){zt.removeAttribute("aria-expanded")}):Ze.triggerTarget&&e.removeAttribute("aria-expanded"),ut(),Me(),te&&te(ke,Ze),b.popperInstance&&(G6(),Yi().forEach(function(zt){requestAnimationFrame(zt._tippy.popperInstance.forceUpdate)})),ye("onAfterUpdate",[b,he])}},setContent:function Q6(he){b.setProps({content:he})},show:function xCe(){var he=b.state.isVisible,ke=b.state.isDestroyed,Ze=!b.state.isEnabled,zt=Fn.isTouch&&!b.props.touch,_t=_f(b.props.duration,0,p1.duration);if(!(he||ke||Ze||zt||J().hasAttribute("disabled")||(ye("onShow",[b],!1),!1===b.props.onShow(b)))){if(b.state.isVisible=!0,G()&&(I.style.visibility="visible"),Me(),r2(),b.state.isMounted||(I.style.transition="none"),G()){var t1=Ee();wf([t1.box,t1.content],0)}h=function(){var Nr;if(b.state.isVisible&&!l){if(l=!0,I.style.transition=b.props.moveTransition,G()&&b.props.animation){var Nf=Ee(),Z6=Nf.box,e4=Nf.content;wf([Z6,e4],_t),la([Z6,e4],"visible")}Qe(),ut(),IL(P6,b),null==(Nr=b.popperInstance)||Nr.forceUpdate(),ye("onMount",[b]),b.props.animation&&G()&&function Y1(he,ke){mi(he,ke)}(_t,function(){b.state.isShown=!0,ye("onShown",[b])})}},function yi(){var ke,he=b.props.appendTo,Ze=J();(ke=b.props.interactive&&he===PL||"parent"===he?Ze.parentNode:OL(he,[Ze])).contains(I)||ke.appendChild(I),b.state.isMounted=!0,G6()}()}},hide:function zCe(){var he=!b.state.isVisible,ke=b.state.isDestroyed,Ze=!b.state.isEnabled,zt=_f(b.props.duration,1,p1.duration);if(!(he||ke||Ze)&&(ye("onHide",[b],!1),!1!==b.props.onHide(b))){if(b.state.isVisible=!1,b.state.isShown=!1,l=!1,a=!1,G()&&(I.style.visibility="hidden"),e2(),D2(),Me(!0),G()){var _t=Ee(),t1=_t.box,K1=_t.content;b.props.animation&&(wf([t1,K1],zt),la([t1,K1],"hidden"))}Qe(),ut(),b.props.animation?G()&&function pi(he,ke){mi(he,function(){!b.state.isVisible&&I.parentNode&&I.parentNode.contains(I)&&ke()})}(zt,b.unmount):b.unmount()}},hideWithInteractivity:function LCe(he){Se().addEventListener("mousemove",v),IL(A6,v),v(he)},enable:function va(){b.state.isEnabled=!0},disable:function Y6(){b.hide(),b.state.isEnabled=!1},unmount:function ECe(){b.state.isVisible&&b.hide(),b.state.isMounted&&(q6(),Yi().forEach(function(he){he._tippy.unmount()}),I.parentNode&&I.parentNode.removeChild(I),P6=P6.filter(function(he){return he!==b}),b.state.isMounted=!1,ye("onHidden",[b]))},destroy:function TCe(){b.state.isDestroyed||(b.clearDelayTimeouts(),b.unmount(),gi(),delete e._tippy,b.state.isDestroyed=!0,ye("onDestroy",[b]))}};if(!n.render)return b;var F=n.render(b),I=F.popper,te=F.onUpdate;I.setAttribute("data-tippy-root",""),I.id="tippy-"+b.id,b.popper=I,e._tippy=b,I._tippy=b;var de=H.map(function(he){return he.fn(b)}),me=e.hasAttribute("aria-expanded");return gn(),ut(),Me(),ye("onCreate",[b]),n.showOnCreate&&ga(),I.addEventListener("mouseenter",function(){b.props.interactive&&b.state.isVisible&&b.clearDelayTimeouts()}),I.addEventListener("mouseleave",function(){b.props.interactive&&b.props.trigger.indexOf("mouseenter")>=0&&Se().addEventListener("mousemove",v)}),b;function ue(){var he=b.props.touch;return Array.isArray(he)?he:[he,0]}function Q(){return"hold"===ue()[0]}function G(){var he;return!(null==(he=b.props.render)||!he.$$tippy)}function J(){return g||e}function Se(){var he=J().parentNode;return he?function $L(e){var t,i=ji(e)[0];return null!=i&&null!=(t=i.ownerDocument)&&t.body?i.ownerDocument:document}(he):document}function Ee(){return N6(I)}function ee(he){return b.state.isMounted&&!b.state.isVisible||Fn.isTouch||u&&"focus"===u.type?0:_f(b.props.delay,he?0:1,p1.delay)}function Me(he){void 0===he&&(he=!1),I.style.pointerEvents=b.props.interactive&&!he?"":"none",I.style.zIndex=""+b.props.zIndex}function ye(he,ke,Ze){var zt;void 0===Ze&&(Ze=!0),de.forEach(function(_t){_t[he]&&_t[he].apply(_t,ke)}),Ze&&(zt=b.props)[he].apply(zt,ke)}function Qe(){var he=b.props.aria;if(he.content){var ke="aria-"+he.content,Ze=I.id;ji(b.props.triggerTarget||e).forEach(function(_t){var t1=_t.getAttribute(ke);if(b.state.isVisible)_t.setAttribute(ke,t1?t1+" "+Ze:Ze);else{var K1=t1&&t1.replace(Ze,"").trim();K1?_t.setAttribute(ke,K1):_t.removeAttribute(ke)}})}}function ut(){!me&&b.props.aria.expanded&&ji(b.props.triggerTarget||e).forEach(function(ke){b.props.interactive?ke.setAttribute("aria-expanded",b.state.isVisible&&ke===J()?"true":"false"):ke.removeAttribute("aria-expanded")})}function e2(){Se().removeEventListener("mousemove",v),A6=A6.filter(function(he){return he!==v})}function x2(he){if(!Fn.isTouch||!c&&"mousedown"!==he.type){var ke=he.composedPath&&he.composedPath()[0]||he.target;if(!b.props.interactive||!jL(I,ke)){if(ji(b.props.triggerTarget||e).some(function(Ze){return jL(Ze,ke)})){if(Fn.isTouch||b.state.isVisible&&b.props.trigger.indexOf("click")>=0)return}else ye("onClickOutside",[b,he]);!0===b.props.hideOnClick&&(b.clearDelayTimeouts(),b.hide(),o=!0,setTimeout(function(){o=!1}),b.state.isMounted||D2())}}}function q1(){c=!0}function m1(){c=!1}function r2(){var he=Se();he.addEventListener("mousedown",x2,!0),he.addEventListener("touchend",x2,$i),he.addEventListener("touchstart",m1,$i),he.addEventListener("touchmove",q1,$i)}function D2(){var he=Se();he.removeEventListener("mousedown",x2,!0),he.removeEventListener("touchend",x2,$i),he.removeEventListener("touchstart",m1,$i),he.removeEventListener("touchmove",q1,$i)}function mi(he,ke){var Ze=Ee().box;function zt(_t){_t.target===Ze&&(Hf(Ze,"remove",zt),ke())}if(0===he)return ke();Hf(Ze,"remove",f),Hf(Ze,"add",zt),f=zt}function mn(he,ke,Ze){void 0===Ze&&(Ze=!1),ji(b.props.triggerTarget||e).forEach(function(_t){_t.addEventListener(he,ke,Ze),m.push({node:_t,eventType:he,handler:ke,options:Ze})})}function gn(){Q()&&(mn("touchstart",vi,{passive:!0}),mn("touchend",qi,{passive:!0})),function Ege(e){return e.split(/\s+/).filter(Boolean)}(b.props.trigger).forEach(function(he){if("manual"!==he)switch(mn(he,vi),he){case"mouseenter":mn("mouseleave",qi);break;case"focus":mn(Fge?"focusout":"blur",Ci);break;case"focusin":mn("focusout",Ci)}})}function gi(){m.forEach(function(he){he.node.removeEventListener(he.eventType,he.handler,he.options)}),m=[]}function vi(he){var ke,Ze=!1;if(b.state.isEnabled&&!ma(he)&&!o){var zt="focus"===(null==(ke=u)?void 0:ke.type);u=he,g=he.currentTarget,ut(),!b.state.isVisible&&function Sf(e){return bf(e,"MouseEvent")}(he)&&A6.forEach(function(_t){return _t(he)}),"click"===he.type&&(b.props.trigger.indexOf("mouseenter")<0||a)&&!1!==b.props.hideOnClick&&b.state.isVisible?Ze=!0:ga(he),"click"===he.type&&(a=!Ze),Ze&&!zt&&Dr(he)}}function Gi(he){var ke=he.target,Ze=J().contains(ke)||I.contains(ke);"mousemove"===he.type&&Ze||function Age(e,t){var n=t.clientX,i=t.clientY;return e.every(function(r){var s=r.popperRect,a=r.popperState,c=r.props.interactiveBorder,l=function FL(e){return e.split("-")[0]}(a.placement),u=a.modifiersData.offset;return!u||s.top-i+("bottom"===l?u.top.y:0)>c||i-s.bottom-("top"===l?u.bottom.y:0)>c||s.left-n+("right"===l?u.left.x:0)>c||n-s.right-("left"===l?u.right.x:0)>c})}(Yi().concat(I).map(function(_t){var t1,Js=null==(t1=_t._tippy.popperInstance)?void 0:t1.state;return Js?{popperRect:_t.getBoundingClientRect(),popperState:Js,props:n}:null}).filter(Boolean),he)&&(e2(),Dr(he))}function qi(he){if(!(ma(he)||b.props.trigger.indexOf("click")>=0&&a)){if(b.props.interactive)return void b.hideWithInteractivity(he);Dr(he)}}function Ci(he){b.props.trigger.indexOf("focusin")<0&&he.target!==J()||b.props.interactive&&he.relatedTarget&&I.contains(he.relatedTarget)||Dr(he)}function ma(he){return!!Fn.isTouch&&Q()!==he.type.indexOf("touch")>=0}function G6(){q6();var he=b.props,ke=he.popperOptions,Ze=he.placement,zt=he.offset,_t=he.getReferenceClientRect,t1=he.moveTransition,K1=G()?N6(I).arrow:null,Js=_t?{getBoundingClientRect:_t,contextElement:_t.contextElement||J()}:e,Nr=[{name:"offset",options:{offset:zt}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!t1}},{name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(Z6){var e4=Z6.state;if(G()){var Af=Ee().box;["placement","reference-hidden","escaped"].forEach(function(J6){"placement"===J6?Af.setAttribute("data-placement",e4.placement):e4.attributes.popper["data-popper-"+J6]?Af.setAttribute("data-"+J6,""):Af.removeAttribute("data-"+J6)}),e4.attributes.popper={}}}}];G()&&K1&&Nr.push({name:"arrow",options:{element:K1,padding:3}}),Nr.push.apply(Nr,ke?.modifiers||[]),b.popperInstance=xge(Js,I,Object.assign({},ke,{placement:Ze,onFirstUpdate:h,modifiers:Nr}))}function q6(){b.popperInstance&&(b.popperInstance.destroy(),b.popperInstance=null)}function Yi(){return Zs(I.querySelectorAll("[data-tippy-root]"))}function ga(he){b.clearDelayTimeouts(),he&&ye("onTrigger",[b,he]),r2();var ke=ee(!0),Ze=ue(),_t=Ze[1];Fn.isTouch&&"hold"===Ze[0]&&_t&&(ke=_t),ke?i=setTimeout(function(){b.show()},ke):b.show()}function Dr(he){if(b.clearDelayTimeouts(),ye("onUntrigger",[b,he]),b.state.isVisible){if(!(b.props.trigger.indexOf("mouseenter")>=0&&b.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(he.type)>=0&&a)){var ke=ee(!1);ke?r=setTimeout(function(){b.state.isVisible&&b.hide()},ke):s=requestAnimationFrame(function(){b.hide()})}}else D2()}}function Ui(e,t){void 0===t&&(t={});var n=p1.plugins.concat(t.plugins||[]);!function kge(){document.addEventListener("touchstart",Pge,$i),window.addEventListener("blur",Oge)}();var i=Object.assign({},t,{plugins:n}),o=function Nge(e){return D6(e)?[e]:function Dge(e){return bf(e,"NodeList")}(e)?Zs(e):Array.isArray(e)?e:Zs(document.querySelectorAll(e))}(e).reduce(function(c,l){var u=l&&Yge(l,i);return u&&c.push(u),c},[]);return D6(e)?o[0]:o}Ui.defaultProps=p1,Ui.setDefaultProps=function(t){Object.keys(t).forEach(function(i){p1[i]=t[i]})},Ui.currentInput=Fn,Object.assign({},bL,{effect:function(t){var n=t.state,i={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(n.elements.popper.style,i.popper),n.styles=i,n.elements.arrow&&Object.assign(n.elements.arrow.style,i.arrow)}}),Ui.setDefaultProps({render:eE});const nve=Ui;function ave(e,t=yu){return function ive(e){return bt((t,n)=>{let i=!1,r=null,s=null,a=!1;const o=()=>{if(s?.unsubscribe(),s=null,i){i=!1;const l=r;r=null,n.next(l)}a&&n.complete()},c=()=>{s=null,a&&n.complete()};t.subscribe(Je(n,l=>{i=!0,r=l,s||n1(e(l)).subscribe(s=Je(n,o,c))},()=>{a=!0,(!i||!s||s.closed)&&n.complete()}))})}(()=>function sve(e=0,t,n=Lue){let i=-1;return null!=t&&(Wf(t)?n=t:i=t),new q(r=>{let s=function rve(e){return e instanceof Date&&!isNaN(e)}(e)?+e-n.now():e;s<0&&(s=0);let a=0;return n.schedule(function(){r.closed||(r.next(a++),0<=i?this.schedule(void 0,i):r.complete())},s)})}(e,t))}function iE(e){return e instanceof O1}function Lf(e){return"function"==typeof e}function k6(e){return"string"==typeof e}class ove{constructor(t){this.args=t,this.wrapper=null,this.args.vcr?(this.viewRef=this.args.vcr.createEmbeddedView(this.args.tpl,this.args.context||{}),this.viewRef.detectChanges()):(this.viewRef=this.args.tpl.createEmbeddedView(this.args.context||{}),this.viewRef.detectChanges(),this.args.appRef.attachView(this.viewRef))}detectChanges(){this.viewRef.detectChanges()}getElement(){const t=this.viewRef.rootNodes;return 1===t.length&&t[0]===Node.ELEMENT_NODE?this.element=t[0]:(this.element=document.createElement("div"),this.element.append(...t)),this.element}destroy(){1!==this.viewRef.rootNodes[0]&&(this.element?.parentNode.removeChild(this.element),this.element=null),this.args.vcr||this.args.appRef.detachView(this.viewRef),this.viewRef.destroy(),this.viewRef=null}}class cve{constructor(t){this.value=t}getElement(){return this.value}detectChanges(){}destroy(){}}class lve{constructor(t){if(this.options=t,t.vcr)this.compRef=t.vcr.createComponent(t.component,{index:t.vcr.length,injector:t.injector||t.vcr.injector});else{const n=t.resolver.resolveComponentFactory(t.component);this.compRef=n.create(t.injector),t.appRef.attachView(this.compRef.hostView)}}get ref(){return this.compRef}setInput(t,n){return this.compRef.instance[t]=n,this}setInputs(t){return Object.keys(t).forEach(n=>{this.compRef.instance[n]=t[n]}),this}detectChanges(){return this.compRef.hostView.detectChanges(),this}appendTo(t){return t.appendChild(this.getElement()),this}removeFrom(t){return t.removeChild(this.getElement()),this}getRawContent(){return this.getElement().outerHTML}getElement(){return this.compRef.location.nativeElement}destroy(){this.compRef.destroy(),!this.options.vcr&&this.options.appRef.detachView(this.compRef.hostView),this.compRef=null}}let uve=(()=>{class e{constructor(n,i,r){this.resolver=n,this.injector=i,this.appRef=r}createComponent(n,i={}){return new lve({component:n,vcr:i.vcr,injector:i.injector||this.injector,appRef:this.appRef,resolver:this.resolver})}createTemplate(n,i={}){return new ove({vcr:i.vcr,appRef:this.appRef,tpl:n,context:i.context})}createView(n,i={}){if(iE(n))return this.createTemplate(n,i);if(Lf(n))return this.createComponent(n,i);if(k6(n))return new cve(n);throw"Type of content is not supported"}}return e.\u0275fac=function(n){return new(n||e)(Ae(es),Ae(b2),Ae(bs))},e.\u0275prov=Ie({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const rE=new Pe("Tippy config",{providedIn:"root",factory:()=>({})}),fve=new Pe("TIPPY_REF");function sE(e){return e instanceof s2?e.nativeElement:e}let aE=!1,oE=!1;function cE(e,t={root:null,threshold:.3}){const n=sE(e);return new q(i=>{if(!aE)return i.next(),void i.complete();const r=new IntersectionObserver(s=>{s[s.length-1].isIntersecting&&(i.next(),i.complete())},t);return r.observe(n),()=>r.disconnect()})}function lE(e){const t=sE(e);return uE(t).pipe(ave(150),Re(()=>function dve(e){const t=e.offsetWidth;return t>e.parentElement.offsetWidth||t<e.scrollWidth}(t)))}function uE(e){return function hve(e){return new q(t=>{if(!oE)return t.next(),void t.complete();const n=new ResizeObserver(()=>t.next(!0));return n.observe(e),()=>n.disconnect()})}(e)}function Ef(e){const t={},n=["variations","useHostWidth","defaultVariation","beforeRender","lazy","variation","isEnabled","className","onlyTextOverflow","data","content","context","hideOnEscape","customHost","injector","preserveView","vcr"],i=["onShow","onHidden","onCreate"];return Object.keys(e).forEach(r=>{!n.includes(r)&&!i.includes(r)&&(t[r]=e[r])}),t}typeof window<"u"&&(aE="IntersectionObserver"in window,oE="ResizeObserver"in window);let gve=(()=>{class e{constructor(n,i,r,s,a,o,c){this.platformId=n,this.globalConfig=i,this.injector=r,this.viewService=s,this.vcr=a,this.zone=o,this.hostRef=c,this.onlyTextOverflow=!1,this.useHostWidth=!1,this.hideOnEscape=!1,this.detectChangesComponent=!0,this.visible=new pe,this.isVisible=!1,this.destroyed=new $e,this.enabled=!0,this.variationDefined=!1}ngOnChanges(n){if(tv(this.platformId))return;let r,i=Object.keys(n).reduce((s,a)=>("isVisible"===a||(s[a]=n[a].currentValue),s),{});Tf("variation",n)?(r=n.variation.currentValue,this.variationDefined=!0):this.variationDefined||(r=this.globalConfig.defaultVariation,this.variationDefined=!0),r&&(i={...this.globalConfig.variations[r],...i}),Tf("isEnabled",n)&&(this.enabled=n.isEnabled.currentValue,this.setStatus()),Tf("isVisible",n)&&(this.isVisible?this.show():this.hide()),this.setProps({...this.props,...i})}ngOnInit(){this.useHostWidth&&(this.props.maxWidth=this.hostWidth)}ngAfterViewInit(){tv(this.platformId)||this.zone.runOutsideAngular(()=>{this.lazy?this.onlyTextOverflow?cE(this.host).pipe(R1(()=>lE(this.host)),dn(this.destroyed)).subscribe(n=>{this.checkOverflow(n)}):cE(this.host).pipe(dn(this.destroyed)).subscribe(()=>{this.createInstance()}):this.onlyTextOverflow?lE(this.host).pipe(dn(this.destroyed)).subscribe(n=>{this.checkOverflow(n)}):this.createInstance()})}ngOnDestroy(){this.destroyed.next(),this.instance?.destroy(),this.destroyView()}destroyView(){this.viewOptions$=null,this.viewRef?.destroy(),this.viewRef=null}show(){this.instance?.show()}hide(){this.instance?.hide()}enable(){this.instance?.enable()}disable(){this.instance?.disable()}setProps(n){this.props=n,this.instance?.setProps(Ef(n))}setStatus(){this.enabled?this.instance?.enable():this.instance?.disable()}get host(){return this.customHost||this.hostRef.nativeElement}get hostWidth(){return`${this.host.getBoundingClientRect().width}px`}createInstance(){null!=this.content&&this.zone.runOutsideAngular(()=>{this.instance=nve(this.host,{allowHTML:!0,appendTo:document.body,...Ef(this.globalConfig),...Ef(this.props),onMount:n=>{this.zone.run(()=>{this.isVisible=!0,this.visible.next(!0)}),this.useHostWidth&&this.listenToHostResize(),this.globalConfig.onMount?.(n)},onCreate:n=>{if(this.className)for(const i of function pve(e){return(function mve(e){return"string"==typeof e}(e)?e.split(" "):e).map(n=>n?.trim()).filter(Boolean)}(this.className))n.popper.classList.add(i);this.globalConfig.onCreate?.(n),!0===this.isVisible&&n.show()},onShow:n=>{if(this.zone.run(()=>{const i=this.resolveContent();k6(i)&&n.setProps({allowHTML:!1}),n.setContent(i),this.hideOnEscape&&this.handleEscapeButton()}),this.useHostWidth){const i=this.hostWidth;n.popper.style.width=i,n.popper.style.maxWidth=i,n.popper.firstElementChild.style.maxWidth=i}this.globalConfig.onShow?.(n)},onHidden:n=>{this.destroyView(),this.zone.run(()=>{this.isVisible=!1,this.visible.next(!1)}),this.globalConfig.onHidden?.(n)}}),this.setStatus(),this.setProps(this.props),"contextMenu"===this.variation&&this.handleContextMenu()})}resolveContent(){!this.viewOptions$&&!k6(this.content)&&(Lf(this.content)?(this.instance.data=this.data,this.viewOptions$={injector:b2.create({providers:[{provide:fve,useValue:this.instance}],parent:this.injector})}):iE(this.content)&&(this.viewOptions$={context:{$implicit:this.hide.bind(this),data:this.data}})),this.viewRef=this.viewService.createView(this.content,{vcr:this.vcr,...this.viewOptions$}),this.detectChangesComponent&&Lf(this.content)&&this.viewRef.detectChanges();let n=this.viewRef.getElement();return k6(n)&&this.globalConfig.beforeRender&&(n=this.globalConfig.beforeRender(n)),n}handleContextMenu(){Nn(this.host,"contextmenu").pipe(dn(this.destroyed)).subscribe(n=>{n.preventDefault(),this.instance.setProps({getReferenceClientRect:()=>({width:0,height:0,top:n.clientY,bottom:n.clientY,left:n.clientX,right:n.clientX})}),this.instance.show()})}handleEscapeButton(){this.pressButton$(document.body,"Escape").pipe(dn(r4(this.destroyed,this.visible.pipe(S2(n=>!n))))).subscribe(()=>this.hide())}pressButton$(n,i){return Nn(n,"keydown").pipe(S2(({code:r})=>i===r))}checkOverflow(n){n?this.instance?this.instance.enable():this.createInstance():this.instance?.disable()}listenToHostResize(){uE(this.host).pipe(dn(r4(this.destroyed,this.visible))).subscribe(()=>{this.instance.popper.style.width=this.hostWidth})}}return e.\u0275fac=function(n){return new(n||e)(re(Lo),re(rE),re(b2),re(uve),re(k1),re(Gt),re(s2))},e.\u0275dir=Ue({type:e,selectors:[["","tippy",""]],inputs:{appendTo:"appendTo",delay:"delay",duration:"duration",hideOnClick:"hideOnClick",interactive:"interactive",interactiveBorder:"interactiveBorder",maxWidth:"maxWidth",offset:"offset",placement:"placement",popperOptions:"popperOptions",showOnCreate:"showOnCreate",trigger:"trigger",triggerTarget:"triggerTarget",zIndex:"zIndex",lazy:"lazy",variation:"variation",isEnabled:"isEnabled",className:"className",onlyTextOverflow:"onlyTextOverflow",data:"data",useHostWidth:"useHostWidth",hideOnEscape:"hideOnEscape",detectChangesComponent:"detectChangesComponent",content:["tippy","content"],customHost:["tippyHost","customHost"],isVisible:"isVisible"},outputs:{visible:"visible"},exportAs:["tippy"],standalone:!0,features:[_2]}),e})();function Tf(e,t){return e in t}const vve={theme:null,arrow:!1,animation:"scale",trigger:"mouseenter",offset:[0,5]},Cve={theme:"light",arrow:!0,offset:[0,10],animation:null,trigger:"click",interactive:!0};function yve(e={}){return{provide:rE,useValue:e}}class fa{transform(t){return t.kind==Fe.GENERIC?t.name:`${t.kind}`}static#e=this.\u0275fac=function(n){return new(n||fa)};static#t=this.\u0275pipe=l2({name:"getKindOrName",type:fa,pure:!0})}class Tr{constructor(t){this._storyService=t,this.knownNpcs={Strenght:"THE CHARIOT",Control:"THE EMPEROR",Sleight:"THE FOOL",Perception:"THE MOON",Intuition:"THE HIGH PRIESTESS",Knowledge:"THE HERMIT",Confidence:"THE MAGICIAN",Manipulation:"THE DEVIL",Charisma:"THE STAR",Player:"YOU"}}getFirstName(t){return{voice:this._storyService.call("npc_first_name_str",[t],!0).returned??"",className:t}}getFullName(t){if(t in this.knownNpcs)return{voice:this.knownNpcs[t]??t,className:t};const n=this._storyService.call("npc_first_name_str",[t],!0).returned??"",i=this._storyService.call("npc_last_name_str",[t],!0).returned??"";return this.knownNpcs[t]=`${n} ${i}`.trim(),{voice:this.knownNpcs[t],className:t}}static#e=this.\u0275fac=function(n){return new(n||Tr)(Ae(j2))};static#t=this.\u0275prov=Ie({token:Tr,factory:Tr.\u0275fac,providedIn:"root"})}class da{constructor(t){this._npcService=t}transform(t){return this._npcService.getFullName(t).voice}static#e=this.\u0275fac=function(n){return new(n||da)(re(Tr,16))};static#t=this.\u0275pipe=l2({name:"getFullName",type:da,pure:!0})}class I6{constructor(t){this._npcService=t}transform(t){return this._npcService.getFirstName(t).voice}static#e=this.\u0275fac=function(n){return new(n||I6)(re(Tr,16))};static#t=this.\u0275pipe=l2({name:"getFirstName",type:I6,pure:!0})}class F6{constructor(t){this._inventoryService=t}transform(t){return this._inventoryService.getItemName(t)}static#e=this.\u0275fac=function(n){return new(n||F6)(re(An,16))};static#t=this.\u0275pipe=l2({name:"getItemName",type:F6,pure:!0})}const Mve=function(e,t){return{old:e,"alert-recent":t}},_ve=function(e,t){return{line:e,page:t}};function bve(e,t){if(1&e&&(ce(0,"p",32),Ft(1,33),ae()),2&e){const n=t.$implicit,i=t.index,r=He(2).$implicit;He(2);const s=Lt(10);se("ngClass",c1(3,Mve,r.old||0===i&&"Player"===n.voice,n.alertsWhenRecent)),ie(1),se("ngTemplateOutlet",s)("ngTemplateOutletContext",c1(6,_ve,n,r))}}const Vve=function(e,t){return{locked:e,visited:t}},Sve=function(e){return{choice:e}};function wve(e,t){if(1&e){const n=z1();ce(0,"p",36),at("click",function(){const s=I2(n).$implicit;return F2(He(5).choose(s))}),Ft(1,33),ae()}if(2&e){const n=t.$implicit;He(5);const i=Lt(12);se("hidden",n.hidden)("ngClass",c1(4,Vve,n.locked,n.visited&&"Explore"===n.actID)),ie(1),se("ngTemplateOutlet",i)("ngTemplateOutletContext",Et(7,Sve,n))}}function Hve(e,t){if(1&e&&(a1(0),ve(1,wve,2,9,"p",34),je(2,"div",35),o1()),2&e){const n=He(2).$implicit;ie(1),se("ngForOf",n.choices)}}function xve(e,t){if(1&e&&(ce(0,"div",29),ve(1,bve,2,9,"p",30),ve(2,Hve,3,1,"ng-container",31),ae()),2&e){const n=He().$implicit;ie(1),se("ngForOf",n.lines),ie(1),se("ngIf",!n.old&&!n.hideChoices)}}function zve(e,t){if(1&e&&(a1(0),ve(1,xve,3,2,"div",28),o1()),2&e){const n=t.$implicit;ie(1),se("ngIf",n.visible)}}function Lve(e,t){if(1&e&&(ce(0,"div",24)(1,"div",25),je(2,"img",26),ae(),ve(3,zve,2,1,"ng-container",27),Ct(4,"async"),ae()),2&e){const n=He();ie(3),se("ngForOf",yt(4,2,n.page$))("ngForTrackBy",n.trackById)}}function Eve(e,t){if(1&e&&(ce(0,"div",37),je(1,"fa-icon",38),ae()),2&e){const n=He();ie(1),se("icon",n.iconScrollWarnArrow)}}function Tve(e,t){1&e&&(Ft(0,40),Ct(1,"getKindOrName")),2&e&&se("ngSwitch",yt(1,1,t.$implicit))}function Dve(e,t){1&e&&ve(0,Tve,2,3,"ng-container",39),2&e&&se("ngForOf",t.list)}const Wi=function(e){return{el:e}};function Nve(e,t){if(1&e&&Ft(0,33),2&e){const n=He().$implicit;He(2),se("ngTemplateOutlet",Lt(34))("ngTemplateOutletContext",Et(2,Wi,n))}}function Ave(e,t){if(1&e&&Ft(0,33),2&e){const n=He().$implicit;He(2),se("ngTemplateOutlet",Lt(30))("ngTemplateOutletContext",Et(2,Wi,n))}}const Df=function(e){return{old:e}};function Pve(e,t){if(1&e&&Ft(0,33),2&e){const n=He(2).page;He(),se("ngTemplateOutlet",Lt(42))("ngTemplateOutletContext",Et(2,Df,n.old))}}function Ove(e,t){if(1&e&&Ft(0,33),2&e){const n=He(2).page;He(),se("ngTemplateOutlet",Lt(44))("ngTemplateOutletContext",Et(2,Df,n.old))}}function kve(e,t){if(1&e&&Ft(0,33),2&e){const n=He(2).page;He(),se("ngTemplateOutlet",Lt(46))("ngTemplateOutletContext",Et(2,Df,n.old))}}function Ive(e,t){if(1&e&&Ft(0,33),2&e){const n=He().$implicit;He(2),se("ngTemplateOutlet",Lt(16))("ngTemplateOutletContext",Et(2,Wi,n))}}const R6=function(e,t){return{el:e,renderNext:t}};function Fve(e,t){if(1&e&&Ft(0,33),2&e){const n=He().$implicit;He(2);const i=Lt(28),r=Lt(8);se("ngTemplateOutlet",i)("ngTemplateOutletContext",c1(2,R6,n,r))}}function Rve(e,t){if(1&e&&Ft(0,33),2&e){const n=He().$implicit;He(2);const i=Lt(32),r=Lt(8);se("ngTemplateOutlet",i)("ngTemplateOutletContext",c1(2,R6,n,r))}}function Bve(e,t){if(1&e&&Ft(0,33),2&e){const n=He().$implicit;He(2),se("ngTemplateOutlet",Lt(22))("ngTemplateOutletContext",Et(2,Wi,n))}}function $ve(e,t){if(1&e&&Ft(0,33),2&e){const n=He().$implicit;He(2),se("ngTemplateOutlet",Lt(24))("ngTemplateOutletContext",Et(2,Wi,n))}}function jve(e,t){if(1&e&&Ft(0,33),2&e){const n=He().$implicit;He(2);const i=Lt(18),r=Lt(8);se("ngTemplateOutlet",i)("ngTemplateOutletContext",c1(2,R6,n,r))}}function Uve(e,t){1&e&&(a1(0,40),Ct(1,"getKindOrName"),ve(2,Nve,1,4,"ng-container",41),ve(3,Ave,1,4,"ng-container",41),ve(4,Pve,1,4,"ng-container",41),ve(5,Ove,1,4,"ng-container",41),ve(6,kve,1,4,"ng-container",41),ve(7,Ive,1,4,"ng-container",41),ve(8,Fve,1,5,"ng-container",41),ve(9,Rve,1,5,"ng-container",41),ve(10,Bve,1,4,"ng-container",41),ve(11,$ve,1,4,"ng-container",41),ve(12,jve,1,5,"ng-container",41),o1()),2&e&&(se("ngSwitch",yt(1,12,t.$implicit)),ie(2),se("ngSwitchCase","divider"),ie(1),se("ngSwitchCase","tutorial"),ie(1),se("ngSwitchCase","stats-menu"),ie(1),se("ngSwitchCase","naming-menu"),ie(1),se("ngSwitchCase","marking-menu"),ie(1),se("ngSwitchCase","#text"),ie(1),se("ngSwitchCase","tip"),ie(1),se("ngSwitchCase","strong"),ie(1),se("ngSwitchCase","mood"),ie(1),se("ngSwitchCase","item"),ie(1),se("ngSwitchCase","objective"))}function Wve(e,t){1&e&&ve(0,Uve,13,14,"ng-container",39),2&e&&se("ngForOf",t.list)}function Gve(e,t){if(1&e&&(ce(0,"span"),we(1),Ct(2,"getFullName"),ae()),2&e){const n=He().line;X2("voice ",n.voice,""),ie(1),h2(yt(2,4,n.voice))}}function qve(e,t){if(1&e&&(ce(0,"span"),we(1," ["),ce(2,"span",43),we(3),ae(),we(4,"] "),ae()),2&e){const n=He().line;ie(2),vo("tippy","Required: ",n.passiveResult.requiredStat," | Your stat: ",n.passiveResult.playerStat,""),ie(1),vs("",n.passiveResult.difficulty,": ",n.passiveResult.result?"Success":"Failure","")}}function Yve(e,t){if(1&e&&(ce(0,"span"),we(1," ["),ce(2,"span",43),we(3),ae(),we(4,"] "),ae()),2&e){const n=He().line;ie(2),vo("tippy","Required: ",n.activeResult.requiredStat," | Your stat: ",n.activeResult.playerStat,""),ie(1),vs("",n.activeResult.difficulty,": ",n.activeResult.result?"Success":"Failure","")}}function Kve(e,t){1&e&&(ce(0,"span"),we(1," - "),ae())}const Xve=function(e,t){return{list:e,page:t}};function Qve(e,t){if(1&e&&(ce(0,"span"),ve(1,Gve,3,6,"span",42),ve(2,qve,5,4,"span",31),ve(3,Yve,5,4,"span",31),ve(4,Kve,2,0,"span",31),Ft(5,33),ae()),2&e){const n=t.line,i=t.page;He();const r=Lt(8);ie(1),se("ngIf",n.voice),ie(1),se("ngIf",n.passiveResult),ie(1),se("ngIf",n.activeResult),ie(1),se("ngIf",n.voice||n.passiveResult),ie(1),se("ngTemplateOutlet",r)("ngTemplateOutletContext",c1(6,Xve,n.elements,i))}}function Zve(e,t){if(1&e&&(ce(0,"span",46)(1,"app-continue-button"),je(2,"fa-icon",38)(3,"fa-icon",38)(4,"fa-icon",38)(5,"fa-icon",38),ae()()),2&e){const n=He(2);ie(2),se("icon",n.continueIcon),ie(1),se("icon",n.continueIcon),ie(1),se("icon",n.continueIcon),ie(1),se("icon",n.continueIcon)}}function Jve(e,t){1&e&&je(0,"app-choice-ui-icon",54)}const eCe=function(e,t){return{positive:e,negative:t}};function tCe(e,t){if(1&e&&(a1(0),ce(1,"span",55),we(2),ae(),o1()),2&e){const n=t.$implicit;ie(1),se("ngClass",c1(2,eCe,n.direction>0,n.direction<0)),ie(1),h2(n.text)}}const B6=function(e){return{list:e}};function nCe(e,t){if(1&e&&(ce(0,"span",46)(1,"span",47),je(2,"app-choice-ui-icon",48),ve(3,Jve,1,0,"app-choice-ui-icon",49),ae(),ce(4,"span",50),Ft(5,33),ce(6,"span",51),ve(7,tCe,3,5,"ng-container",52),ae()(),je(8,"span",53),ae()),2&e){const n=He().choice;He();const i=Lt(14);O4(n.recentlyUnlocked?"recently-unlocked":""),ie(2),go("iconName",n.actID),ie(1),se("ngIf",n.locked),ie(2),se("ngTemplateOutlet",i)("ngTemplateOutletContext",Et(8,B6,n.text.elements)),ie(2),se("ngForOf",n.reasons)}}function iCe(e,t){if(1&e&&(ve(0,Zve,6,4,"span",44),ve(1,nCe,9,10,"span",45)),2&e){const n=t.choice;se("ngIf",n.isContinue),ie(1),se("ngIf",!n.isContinue)}}function rCe(e,t){if(1&e&&Ft(0,33),2&e){const n=He().$implicit;He(2),se("ngTemplateOutlet",Lt(40))("ngTemplateOutletContext",Et(2,Wi,n))}}function sCe(e,t){if(1&e&&Ft(0,33),2&e){const n=He().$implicit;He(2),se("ngTemplateOutlet",Lt(16))("ngTemplateOutletContext",Et(2,Wi,n))}}function aCe(e,t){if(1&e&&Ft(0,33),2&e){const n=He().$implicit;He(2);const i=Lt(32),r=Lt(14);se("ngTemplateOutlet",i)("ngTemplateOutletContext",c1(2,R6,n,r))}}function oCe(e,t){if(1&e&&Ft(0,33),2&e){const n=He().$implicit;He(2),se("ngTemplateOutlet",Lt(20))("ngTemplateOutletContext",Et(2,Wi,n))}}function cCe(e,t){1&e&&(a1(0,40),Ct(1,"getKindOrName"),ve(2,rCe,1,4,"ng-container",41),ve(3,sCe,1,4,"ng-container",41),ve(4,aCe,1,5,"ng-container",41),ve(5,oCe,1,4,"ng-container",41),o1()),2&e&&(se("ngSwitch",yt(1,5,t.$implicit)),ie(2),se("ngSwitchCase","active-check"),ie(1),se("ngSwitchCase","#text"),ie(1),se("ngSwitchCase","strong"),ie(1),se("ngSwitchCase","stat-box"))}function lCe(e,t){1&e&&ve(0,cCe,6,7,"ng-container",39),2&e&&se("ngForOf",t.list)}function uCe(e,t){if(1&e&&(ce(0,"span"),we(1),ae()),2&e){const n=t.el;ie(1),h2(n.value)}}function fCe(e,t){if(1&e&&(ce(0,"span",56)(1,"strong"),we(2,"QUEST UPDATED"),ae(),we(3,": "),Ft(4,33),we(5,". "),ae()),2&e){const n=t.el,i=t.renderNext;ie(4),se("ngTemplateOutlet",i)("ngTemplateOutletContext",Et(2,B6,n.childNodes))}}function dCe(e,t){if(1&e&&(ce(0,"span"),we(1),Ct(2,"getFullName"),ae()),2&e){const n=t.el;X2("stat-box ",n.stat,""),ie(1),vs("",yt(2,5,n.stat),"",n.extra,"")}}function hCe(e,t){if(1&e&&(ce(0,"span"),we(1),Ct(2,"getFirstName"),ae()),2&e){const n=t.el;X2("mood ",n.positive?"positive":"negative",""),ie(1),vs("",yt(2,5,n.npc)," ","+"==n.moodKind||"++"==n.moodKind?"liked":"disliked"," that")}}function pCe(e,t){if(1&e&&(ce(0,"span",57)(1,"strong"),we(2,"ITEM GAINED"),ae(),we(3),Ct(4,"getItemName"),ae()),2&e){const n=t.el;ie(3),p2(": ",yt(4,1,n.id),". ")}}function mCe(e,t){if(1&e&&(ce(0,"span"),we(1),Ct(2,"getFullName"),ae()),2&e){const n=t.el;X2("voice ",n.voiceName,""),ie(1),p2("",yt(2,4,n.voiceName)," - ")}}function gCe(e,t){if(1&e&&(ce(0,"strong",58),Ft(1,33),ae()),2&e){const n=t.el,i=t.renderNext;ie(1),se("ngTemplateOutlet",i)("ngTemplateOutletContext",Et(2,B6,n.childNodes))}}function vCe(e,t){1&e&&je(0,"app-tutorial-blurb",59),2&e&&se("tutorialID",t.el.tutorialID)}function CCe(e,t){if(1&e&&(ce(0,"strong"),Ft(1,33),ae()),2&e){const n=t.el,i=t.renderNext;ie(1),se("ngTemplateOutlet",i)("ngTemplateOutletContext",Et(2,B6,n.childNodes))}}function yCe(e,t){1&e&&(ce(0,"div",60),je(1,"div",47)(2,"div",61)(3,"div",53),ae())}function MCe(e,t){1&e&&je(0,"app-choice-ui-icon",62),2&e&&se("iconName",t.el.actID)}function _Ce(e,t){}function bCe(e,t){if(1&e&&(ce(0,"span"),we(1,"["),ce(2,"span"),we(3),Ct(4,"getFullName"),ae(),we(5),ae()),2&e){const n=t.el;ie(2),O4(n.stat),ie(1),p2("",yt(4,5,n.stat),":"),ie(2),p2(" ",n.odds,"%] ")}}function VCe(e,t){if(1&e){const n=z1();ce(0,"div")(1,"app-tarot-table",63),at("confirm",function(){return I2(n),F2(He().onStatMenuConfirm())}),ae()()}if(2&e){const n=t.old;X2("view-constrained scroll-focus ",n?"old":"",""),ie(1),se("inline",!0)("recent",!n)("defaultFlipStatus",!1)}}function SCe(e,t){if(1&e&&(ce(0,"div",64),je(1,"app-naming-menu",65),ae()),2&e){const n=t.old;ie(1),se("recent",!n)}}function wCe(e,t){if(1&e&&(ce(0,"div"),je(1,"app-marking-menu",65),ae()),2&e){const n=t.old;X2("view-constrained scroll-focus ",n?"old":"",""),ie(1),se("recent",!n)}}class ha{constructor(t,n,i,r,s,a,o){this.storyService=t,this._renderablePageStore=n,this._messageService=i,this._inventoryService=r,this._statsService=s,this._soundService=a,this._dialogService=o,this.title="cotm",this.showScrollWarn=!1,this.bgClass="",this.iconScrollWarnArrow=Dw,this.continueIcon=xw,this._storyFullyLoaded=!1,this._lastAddedPage=null,this._scrollEventSubscription=Nn(window,"scroll").pipe(function Eue(e,t=yu){return bt((n,i)=>{let r=null,s=null,a=null;const o=()=>{if(r){r.unsubscribe(),r=null;const l=s;s=null,i.next(l)}};function c(){const l=a+e,u=t.now();if(u<l)return r=this.schedule(void 0,l-u),void i.add(r);o()}n.subscribe(Je(i,l=>{s=l,a=t.now(),r||(r=t.schedule(c,e),i.add(r))},()=>{o(),i.complete()},void 0,()=>{s=r=null}))})}(100),w2(c=>this.onScroll(c))).subscribe(),this.page$=n.all$.pipe(Re((c,l)=>c)),this._storyGroupSubscription=n.added$.subscribe(c=>this.onPageAdded(c)),this._postLoadSubscription=t.postLoad$.subscribe(()=>{this._storyFullyLoaded=!0}),t.loadOrContinue().then(()=>{console.log("load complete",i)}),a.register("check-start",$s.Effect,{src:["/cotm5/assets/sounds/check-start.wav"],loop:!1,volume:1}),a.register("check-failure",$s.Effect,{src:["/cotm5/assets/sounds/check-failure.wav"],loop:!1,volume:1}),a.register("check-success",$s.Effect,{src:["/cotm5/assets/sounds/check-success.wav"],loop:!1,volume:1.5})}choose(t){t.locked||this.storyService.chooseChoiceIndex(t.index)}onPageAdded(t){var n=this;return Sr(function*(){n._hideOldPages(),yield n.onGroupAdded(t)})()}onGroupAdded(t){var n=this;return Sr(function*(){n._lastAddedPage=t;let i=0,r=null;for(const s of t.lines){s.activeResult&&n._storyFullyLoaded&&(i||(i=900,n.bgClass="tot",r=s.activeResult.result));for(const a of s.elements)a.kind==Fe.TOT&&(n.bgClass=a.opening?"tot":"")}i&&n._storyFullyLoaded?(n._soundService.play("check-start"),yield Mu(i),r?(n._soundService.play("check-success"),n.bgClass="success"):(n._soundService.play("check-failure"),n.bgClass="failure"),n._showLatestPage(t),n._scrollToLatest(),yield Mu(800),n.bgClass=""):(n._showLatestPage(t),n._scrollToLatest())})()}trackById(t,n){return n&&n.id}onScroll(t){this.showScrollWarn=!(document.documentElement.scrollHeight<window.pageYOffset+window.innerHeight+90)}onStatMenuConfirm(){if(!this._lastAddedPage)throw new Error("[AppComponent::onStatMenuConfirm] lastAddedPage is null");this.choose(this._lastAddedPage.choices[0])}showItemDescription(t){this._dialogService.open(F3,{data:{itemId:t},windowClass:"petite"}),this._inventoryService.syncInventory()}_hideOldPages(){this._renderablePageStore.updateAllGroups(t=>({...t,old:!0}))}_showLatestPage(t){this._renderablePageStore.updateGroup(t.id,n=>({...n,visible:!0,old:!1}))}_scrollToLatest(){let t=25;window.screen.width<=750&&(t=60),window.setTimeout(()=>{const n=Array.from(document.querySelectorAll(".old")).reverse(),i=Array.from(document.querySelectorAll(".scroll-focus:not(.old)"));let r=n;i.length>0&&(r=i,t=0);for(const s of r){let a;a=t>0?s.getBoundingClientRect().bottom:s.getBoundingClientRect().top,a-=t,window.scrollTo({top:window.scrollY+a,behavior:"smooth"});break}},0)}static#e=this.\u0275fac=function(n){return new(n||ha)(re(j2),re(U3),re(fi),re(An),re(Pn),re(B3),re(I3))};static#t=this.\u0275cmp=Kt({type:ha,selectors:[["app-root"]],decls:47,vars:7,consts:[["id","app"],["id","story-container",4,"ngIf"],["id","scroll-warn",4,"ngIf"],["renderCommandElements",""],["renderTextElements",""],["renderTextLine",""],["renderChoice",""],["renderChoiceElements",""],["textTemplate",""],["objectiveTemplate",""],["statBoxTemplate",""],["moodTemplate",""],["itemTemplate",""],["voiceTemplate",""],["tipTemplate",""],["tutorialTemplate",""],["strongTemplate",""],["dividerTemplate",""],["actTemplate",""],["passiveCheckTemplate",""],["activeCheckTemplate",""],["statsMenuTemplate",""],["namingMenuTemplate",""],["markingMenuTemplate",""],["id","story-container"],["id","story-name"],["src","/cotm5/assets/images/ui/logo.svg"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","page",4,"ngIf"],[1,"page"],["class","text-line",3,"ngClass",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"text-line",3,"ngClass"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","choice",3,"hidden","ngClass","click",4,"ngFor","ngForOf"],[2,"height","60px"],[1,"choice",3,"hidden","ngClass","click"],["id","scroll-warn"],[3,"icon"],[3,"ngSwitch",4,"ngFor","ngForOf"],[3,"ngSwitch"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngSwitchCase"],[3,"class",4,"ngIf"],[1,"tip",3,"tippy"],["class","choice-inner",4,"ngIf"],["class","choice-inner",3,"class",4,"ngIf"],[1,"choice-inner"],[1,"left"],[1,"act",3,"iconName"],["class","lock","iconName","Lock",4,"ngIf"],[1,"middle"],[1,"bottom"],[4,"ngFor","ngForOf"],[1,"right"],["iconName","Lock",1,"lock"],[1,"reason",3,"ngClass"],[1,"objective"],[1,"item"],[1,"tip"],[3,"tutorialID"],[1,"divider"],[1,"mid"],[3,"iconName"],[3,"inline","recent","defaultFlipStatus","confirm"],[1,""],[3,"recent"]],template:function(n,i){1&n&&(ce(0,"div",0),je(1,"app-side-menu"),ve(2,Lve,5,4,"div",1),Ct(3,"async"),ve(4,Eve,2,1,"div",2),ae(),ve(5,Dve,1,1,"ng-template",null,3,Rt),ve(7,Wve,1,1,"ng-template",null,4,Rt),ve(9,Qve,6,9,"ng-template",null,5,Rt),ve(11,iCe,2,2,"ng-template",null,6,Rt),ve(13,lCe,1,1,"ng-template",null,7,Rt),ve(15,uCe,2,1,"ng-template",null,8,Rt),ve(17,fCe,6,4,"ng-template",null,9,Rt),ve(19,dCe,3,7,"ng-template",null,10,Rt),ve(21,hCe,3,7,"ng-template",null,11,Rt),ve(23,pCe,5,3,"ng-template",null,12,Rt),ve(25,mCe,3,6,"ng-template",null,13,Rt),ve(27,gCe,2,4,"ng-template",null,14,Rt),ve(29,vCe,1,1,"ng-template",null,15,Rt),ve(31,CCe,2,4,"ng-template",null,16,Rt),ve(33,yCe,4,0,"ng-template",null,17,Rt),ve(35,MCe,1,1,"ng-template",null,18,Rt),ve(37,_Ce,0,0,"ng-template",null,19,Rt),ve(39,bCe,6,7,"ng-template",null,20,Rt),ve(41,VCe,2,6,"ng-template",null,21,Rt),ve(43,SCe,2,1,"ng-template",null,22,Rt),ve(45,wCe,2,4,"ng-template",null,23,Rt)),2&n&&(O4(i.bgClass),ie(2),se("ngIf",!1===yt(3,5,i.storyService.loading$)),ie(2),se("ngIf",i.showScrollWarn))},dependencies:[xi,ni,En,o5,Q4,a5,r6,hn,m6,X3,H6,x6,Gs,Y5,gve,hr,fa,da,I6,F6],styles:['@charset "UTF-8";app-marking-menu[_ngcontent-%COMP%]{width:100%;height:100%;overflow:hidden;display:block}#app[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;transition:background-color .2s ease-in}#app.tot[_ngcontent-%COMP%]{background-color:gray}#app.success[_ngcontent-%COMP%]{background-color:var(--success)}#app.failure[_ngcontent-%COMP%]{background-color:var(--failure)}#app[_ngcontent-%COMP%]   app-side-menu[_ngcontent-%COMP%]{width:100%;max-width:600px;position:inline-block}#app[_ngcontent-%COMP%]   .view-constrained[_ngcontent-%COMP%]{height:100vh;overflow:hidden;padding:30px 0;box-sizing:border-box}#app[_ngcontent-%COMP%]   .view-constrained[_ngcontent-%COMP%]   app-tarot-table[_ngcontent-%COMP%]{width:100%;height:100%}#app[_ngcontent-%COMP%]   #story-name[_ngcontent-%COMP%]{width:100%;text-align:center;padding-top:40px}#app[_ngcontent-%COMP%]   #story-name[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:190px}#app[_ngcontent-%COMP%]   #story-container[_ngcontent-%COMP%]{max-width:min(600px,88%);width:100%;min-height:100vh;padding:5px 12px;box-sizing:border-box;background-color:var(--background)}#app[_ngcontent-%COMP%]   .old[_ngcontent-%COMP%]{opacity:.5}#app[_ngcontent-%COMP%]   .text-line[_ngcontent-%COMP%]{position:relative}#app[_ngcontent-%COMP%]   .text-line.alert-recent[_ngcontent-%COMP%]:before{content:"";display:block;width:6px;height:6px;border-radius:6px;background-color:#ffffffbf;position:absolute;left:-10px;top:10px}#app[_ngcontent-%COMP%]   .text-line.old[_ngcontent-%COMP%]:before{display:none}#app[_ngcontent-%COMP%]   .choice[_ngcontent-%COMP%]{font-weight:600;cursor:pointer;user-select:none;-webkit-user-select:none;-ms-user-select:none;-webkit-touch-callout:none;-o-user-select:none;-moz-user-select:none;touch-action:manipulation}#app[_ngcontent-%COMP%]   .choice[_ngcontent-%COMP%]   app-choice-ui-icon[_ngcontent-%COMP%]{margin-right:5px;display:inline-block;vertical-align:bottom}#app[_ngcontent-%COMP%]   .choice[_ngcontent-%COMP%]   .choice-inner[_ngcontent-%COMP%]{display:flex;align-items:center;position:relative}#app[_ngcontent-%COMP%]   .choice[_ngcontent-%COMP%]   .choice-inner.recently-unlocked[_ngcontent-%COMP%]:before{content:"";display:block;width:6px;height:6px;border-radius:6px;background-color:#ffffffbf;position:absolute;left:-10px;top:10px}#app[_ngcontent-%COMP%]   .choice[_ngcontent-%COMP%]   .choice-inner[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{display:flex;flex-direction:column}#app[_ngcontent-%COMP%]   .choice.locked[_ngcontent-%COMP%]{color:var(--secondary-text);opacity:.5;cursor:not-allowed}#app[_ngcontent-%COMP%]   .choice.visited[_ngcontent-%COMP%]{opacity:.8}#app[_ngcontent-%COMP%]   .choice[_ngcontent-%COMP%]   .reason[_ngcontent-%COMP%]{display:block;font-size:.9em;padding-left:8px;font-weight:300;min-width:100%;box-sizing:border-box}#app[_ngcontent-%COMP%]   .choice[_ngcontent-%COMP%]   .reason.positive[_ngcontent-%COMP%]{color:var(--success)}#app[_ngcontent-%COMP%]   .choice[_ngcontent-%COMP%]   .reason.negative[_ngcontent-%COMP%]{color:var(--failure)}@keyframes _ngcontent-%COMP%_bounce{0%{bottom:0}50%{bottom:2.5%}to{bottom:0}}#app[_ngcontent-%COMP%]   #scroll-warn[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;width:100%;text-align:center;animation-name:_ngcontent-%COMP%_bounce;animation-duration:1s;animation-iteration-count:infinite;z-index:11}#app[_ngcontent-%COMP%]   .voice[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:700}#app[_ngcontent-%COMP%]   .tip[_ngcontent-%COMP%]{text-decoration:underline;text-decoration-style:dotted;text-underline-offset:2px;text-decoration-color:#96bbff;margin-left:2px;margin-right:2px;cursor:pointer}#app[_ngcontent-%COMP%]   .stat-box[_ngcontent-%COMP%]{border:1px solid gray;color:#000;border-radius:10px;font-size:.9em;padding:0 6px;margin-right:8px}#app[_ngcontent-%COMP%]   .mood[_ngcontent-%COMP%]{font-size:.9em;border:1px solid gray;padding:0 6px;border-radius:10px}#app[_ngcontent-%COMP%]   .mood[_ngcontent-%COMP%]:before{margin-right:6px}#app[_ngcontent-%COMP%]   .mood.positive[_ngcontent-%COMP%]:before{font-family:"Noto Emoji";color:var(--success);content:"\\2764\\fe0f"}#app[_ngcontent-%COMP%]   .mood.negative[_ngcontent-%COMP%]:before{font-family:"Noto Emoji";color:var(--failure);content:"\\1f494"}#app[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{display:block;width:100%;background-color:#fff;color:#000;padding:6px 12px;border-radius:10px;box-sizing:border-box}#app[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:700;cursor:pointer}#app[_ngcontent-%COMP%]   .objective[_ngcontent-%COMP%]{display:block;width:100%;background-color:#fff;color:#000;padding:6px 12px;border-radius:10px;box-sizing:border-box;border-left:8px solid var(--success)}#app[_ngcontent-%COMP%]   .Strenght[_ngcontent-%COMP%]{color:var(--strenght)}#app[_ngcontent-%COMP%]   .Control[_ngcontent-%COMP%]{color:var(--control)}#app[_ngcontent-%COMP%]   .Sleight[_ngcontent-%COMP%]{color:var(--sleight)}#app[_ngcontent-%COMP%]   .Perception[_ngcontent-%COMP%]{color:var(--perception)}#app[_ngcontent-%COMP%]   .Intuition[_ngcontent-%COMP%]{color:var(--intuition)}#app[_ngcontent-%COMP%]   .Knowledge[_ngcontent-%COMP%]{color:var(--knowledge)}#app[_ngcontent-%COMP%]   .Confidence[_ngcontent-%COMP%]{color:var(--confidence)}#app[_ngcontent-%COMP%]   .Manipulation[_ngcontent-%COMP%]{color:var(--manipulation)}#app[_ngcontent-%COMP%]   .Charisma[_ngcontent-%COMP%]{color:var(--charisma)}']})}const HCe=[{path:"",redirectTo:"cotm5",pathMatch:"full"},{path:"cotm5",component:ha}];class $6{static#e=this.\u0275fac=function(n){return new(n||$6)};static#t=this.\u0275mod=W2({type:$6});static#n=this.\u0275inj=A2({imports:[$y.forRoot(HCe),$y]})}class pa{static#e=this.\u0275fac=function(n){return new(n||pa)};static#t=this.\u0275mod=W2({type:pa});static#n=this.\u0275inj=A2({providers:[fa,da,q3],imports:[pr]})}class j6{static#e=this.\u0275fac=function(n){return new(n||j6)};static#t=this.\u0275mod=W2({type:j6});static#n=this.\u0275inj=A2({imports:[pr,HC,pa,Yhe,uL]})}class U6{static#e=this.\u0275fac=function(n){return new(n||U6)};static#t=this.\u0275mod=W2({type:U6});static#n=this.\u0275inj=A2({providers:[j2,Tr,fi,An,Pn],imports:[pr]})}class W6{static#e=this.\u0275fac=function(n){return new(n||W6)};static#t=this.\u0275mod=W2({type:W6,bootstrap:[ha]});static#n=this.\u0275inj=A2({providers:[yve({defaultVariation:"tooltip",variations:{tooltip:vve,popper:Cve}}),Mfe({closeButton:!1,enableClose:!0,backdrop:!0,resizable:!1,draggable:!1,dragConstraint:"none",size:"fullscreen",windowClass:""})],imports:[pr,yB,$6,U6,pa,j6,HC,uL]})}CB().bootstrapModule(W6).catch(e=>console.error(e))},461:(rt,U)=>{var D;!function(){"use strict";var A=function(){this.init()};A.prototype={init:function(){var d=this||S;return d._counter=1e3,d._html5AudioPool=[],d.html5PoolSize=10,d._codecs={},d._howls=[],d._muted=!1,d._volume=1,d._canPlayEvent="canplaythrough",d._navigator=typeof window<"u"&&window.navigator?window.navigator:null,d.masterGain=null,d.noAudio=!1,d.usingWebAudio=!0,d.autoSuspend=!0,d.ctx=null,d.autoUnlock=!0,d._setup(),d},volume:function(d){var p=this||S;if(d=parseFloat(d),p.ctx||K(),typeof d<"u"&&d>=0&&d<=1){if(p._volume=d,p._muted)return p;p.usingWebAudio&&p.masterGain.gain.setValueAtTime(d,S.ctx.currentTime);for(var _=0;_<p._howls.length;_++)if(!p._howls[_]._webAudio)for(var T=p._howls[_]._getSoundIds(),W=0;W<T.length;W++){var k=p._howls[_]._soundById(T[W]);k&&k._node&&(k._node.volume=k._volume*d)}return p}return p._volume},mute:function(d){var p=this||S;p.ctx||K(),p._muted=d,p.usingWebAudio&&p.masterGain.gain.setValueAtTime(d?0:p._volume,S.ctx.currentTime);for(var _=0;_<p._howls.length;_++)if(!p._howls[_]._webAudio)for(var T=p._howls[_]._getSoundIds(),W=0;W<T.length;W++){var k=p._howls[_]._soundById(T[W]);k&&k._node&&(k._node.muted=!!d||k._muted)}return p},stop:function(){for(var d=this||S,p=0;p<d._howls.length;p++)d._howls[p].stop();return d},unload:function(){for(var d=this||S,p=d._howls.length-1;p>=0;p--)d._howls[p].unload();return d.usingWebAudio&&d.ctx&&typeof d.ctx.close<"u"&&(d.ctx.close(),d.ctx=null,K()),d},codecs:function(d){return(this||S)._codecs[d.replace(/^x-/,"")]},_setup:function(){var d=this||S;if(d.state=d.ctx&&d.ctx.state||"suspended",d._autoSuspend(),!d.usingWebAudio)if(typeof Audio<"u")try{typeof(new Audio).oncanplaythrough>"u"&&(d._canPlayEvent="canplay")}catch{d.noAudio=!0}else d.noAudio=!0;try{(new Audio).muted&&(d.noAudio=!0)}catch{}return d.noAudio||d._setupCodecs(),d},_setupCodecs:function(){var d=this||S,p=null;try{p=typeof Audio<"u"?new Audio:null}catch{return d}if(!p||"function"!=typeof p.canPlayType)return d;var _=p.canPlayType("audio/mpeg;").replace(/^no$/,""),T=d._navigator?d._navigator.userAgent:"",W=T.match(/OPR\/([0-6].)/g),k=W&&parseInt(W[0].split("/")[1],10)<33,O=-1!==T.indexOf("Safari")&&-1===T.indexOf("Chrome"),Z=T.match(/Version\/(.*?) /),_e=O&&Z&&parseInt(Z[1],10)<15;return d._codecs={mp3:!(k||!_&&!p.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!_,opus:!!p.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!p.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!p.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(p.canPlayType('audio/wav; codecs="1"')||p.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!p.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!p.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(p.canPlayType("audio/x-m4a;")||p.canPlayType("audio/m4a;")||p.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(p.canPlayType("audio/x-m4b;")||p.canPlayType("audio/m4b;")||p.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(p.canPlayType("audio/x-mp4;")||p.canPlayType("audio/mp4;")||p.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!(_e||!p.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!(_e||!p.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!p.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(p.canPlayType("audio/x-flac;")||p.canPlayType("audio/flac;")).replace(/^no$/,"")},d},_unlockAudio:function(){var d=this||S;if(!d._audioUnlocked&&d.ctx){d._audioUnlocked=!1,d.autoUnlock=!1,!d._mobileUnloaded&&44100!==d.ctx.sampleRate&&(d._mobileUnloaded=!0,d.unload()),d._scratchBuffer=d.ctx.createBuffer(1,1,22050);var p=function(_){for(;d._html5AudioPool.length<d.html5PoolSize;)try{var T=new Audio;T._unlocked=!0,d._releaseHtml5Audio(T)}catch{d.noAudio=!0;break}for(var W=0;W<d._howls.length;W++)if(!d._howls[W]._webAudio)for(var k=d._howls[W]._getSoundIds(),O=0;O<k.length;O++){var Z=d._howls[W]._soundById(k[O]);Z&&Z._node&&!Z._node._unlocked&&(Z._node._unlocked=!0,Z._node.load())}d._autoResume();var _e=d.ctx.createBufferSource();_e.buffer=d._scratchBuffer,_e.connect(d.ctx.destination),typeof _e.start>"u"?_e.noteOn(0):_e.start(0),"function"==typeof d.ctx.resume&&d.ctx.resume(),_e.onended=function(){_e.disconnect(0),d._audioUnlocked=!0,document.removeEventListener("touchstart",p,!0),document.removeEventListener("touchend",p,!0),document.removeEventListener("click",p,!0),document.removeEventListener("keydown",p,!0);for(var Te=0;Te<d._howls.length;Te++)d._howls[Te]._emit("unlock")}};return document.addEventListener("touchstart",p,!0),document.addEventListener("touchend",p,!0),document.addEventListener("click",p,!0),document.addEventListener("keydown",p,!0),d}},_obtainHtml5Audio:function(){var d=this||S;if(d._html5AudioPool.length)return d._html5AudioPool.pop();var p=(new Audio).play();return p&&typeof Promise<"u"&&(p instanceof Promise||"function"==typeof p.then)&&p.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(d){var p=this||S;return d._unlocked&&p._html5AudioPool.push(d),p},_autoSuspend:function(){var d=this;if(d.autoSuspend&&d.ctx&&!(typeof d.ctx.suspend>"u")&&S.usingWebAudio){for(var p=0;p<d._howls.length;p++)if(d._howls[p]._webAudio)for(var _=0;_<d._howls[p]._sounds.length;_++)if(!d._howls[p]._sounds[_]._paused)return d;return d._suspendTimer&&clearTimeout(d._suspendTimer),d._suspendTimer=setTimeout(function(){if(d.autoSuspend){d._suspendTimer=null,d.state="suspending";var T=function(){d.state="suspended",d._resumeAfterSuspend&&(delete d._resumeAfterSuspend,d._autoResume())};d.ctx.suspend().then(T,T)}},3e4),d}},_autoResume:function(){var d=this;if(d.ctx&&!(typeof d.ctx.resume>"u")&&S.usingWebAudio)return"running"===d.state&&"interrupted"!==d.ctx.state&&d._suspendTimer?(clearTimeout(d._suspendTimer),d._suspendTimer=null):"suspended"===d.state||"running"===d.state&&"interrupted"===d.ctx.state?(d.ctx.resume().then(function(){d.state="running";for(var p=0;p<d._howls.length;p++)d._howls[p]._emit("resume")}),d._suspendTimer&&(clearTimeout(d._suspendTimer),d._suspendTimer=null)):"suspending"===d.state&&(d._resumeAfterSuspend=!0),d}};var S=new A,x=function(d){d.src&&0!==d.src.length?this.init(d):console.error("An array of source files must be passed with any new Howl.")};x.prototype={init:function(d){var p=this;return S.ctx||K(),p._autoplay=d.autoplay||!1,p._format="string"!=typeof d.format?d.format:[d.format],p._html5=d.html5||!1,p._muted=d.mute||!1,p._loop=d.loop||!1,p._pool=d.pool||5,p._preload="boolean"!=typeof d.preload&&"metadata"!==d.preload||d.preload,p._rate=d.rate||1,p._sprite=d.sprite||{},p._src="string"!=typeof d.src?d.src:[d.src],p._volume=void 0!==d.volume?d.volume:1,p._xhr={method:d.xhr&&d.xhr.method?d.xhr.method:"GET",headers:d.xhr&&d.xhr.headers?d.xhr.headers:null,withCredentials:!(!d.xhr||!d.xhr.withCredentials)&&d.xhr.withCredentials},p._duration=0,p._state="unloaded",p._sounds=[],p._endTimers={},p._queue=[],p._playLock=!1,p._onend=d.onend?[{fn:d.onend}]:[],p._onfade=d.onfade?[{fn:d.onfade}]:[],p._onload=d.onload?[{fn:d.onload}]:[],p._onloaderror=d.onloaderror?[{fn:d.onloaderror}]:[],p._onplayerror=d.onplayerror?[{fn:d.onplayerror}]:[],p._onpause=d.onpause?[{fn:d.onpause}]:[],p._onplay=d.onplay?[{fn:d.onplay}]:[],p._onstop=d.onstop?[{fn:d.onstop}]:[],p._onmute=d.onmute?[{fn:d.onmute}]:[],p._onvolume=d.onvolume?[{fn:d.onvolume}]:[],p._onrate=d.onrate?[{fn:d.onrate}]:[],p._onseek=d.onseek?[{fn:d.onseek}]:[],p._onunlock=d.onunlock?[{fn:d.onunlock}]:[],p._onresume=[],p._webAudio=S.usingWebAudio&&!p._html5,typeof S.ctx<"u"&&S.ctx&&S.autoUnlock&&S._unlockAudio(),S._howls.push(p),p._autoplay&&p._queue.push({event:"play",action:function(){p.play()}}),p._preload&&"none"!==p._preload&&p.load(),p},load:function(){var d=this,p=null;if(S.noAudio)d._emit("loaderror",null,"No audio support.");else{"string"==typeof d._src&&(d._src=[d._src]);for(var _=0;_<d._src.length;_++){var T,W;if(d._format&&d._format[_])T=d._format[_];else{if("string"!=typeof(W=d._src[_])){d._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(T=/^data:audio\/([^;,]+);/i.exec(W))||(T=/\.([^.]+)$/.exec(W.split("?",1)[0])),T&&(T=T[1].toLowerCase())}if(T||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),T&&S.codecs(T)){p=d._src[_];break}}if(p)return d._src=p,d._state="loading","https:"===window.location.protocol&&"http:"===p.slice(0,5)&&(d._html5=!0,d._webAudio=!1),new M(d),d._webAudio&&P(d),d;d._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(d,p){var _=this,T=null;if("number"==typeof d)T=d,d=null;else{if("string"==typeof d&&"loaded"===_._state&&!_._sprite[d])return null;if(typeof d>"u"&&(d="__default",!_._playLock)){for(var W=0,k=0;k<_._sounds.length;k++)_._sounds[k]._paused&&!_._sounds[k]._ended&&(W++,T=_._sounds[k]._id);1===W?d=null:T=null}}var O=T?_._soundById(T):_._inactiveSound();if(!O)return null;if(T&&!d&&(d=O._sprite||"__default"),"loaded"!==_._state){O._sprite=d,O._ended=!1;var Z=O._id;return _._queue.push({event:"play",action:function(){_.play(Z)}}),Z}if(T&&!O._paused)return p||_._loadQueue("play"),O._id;_._webAudio&&S._autoResume();var _e=Math.max(0,O._seek>0?O._seek:_._sprite[d][0]/1e3),Te=Math.max(0,(_._sprite[d][0]+_._sprite[d][1])/1e3-_e),X=1e3*Te/Math.abs(O._rate),oe=_._sprite[d][0]/1e3,le=(_._sprite[d][0]+_._sprite[d][1])/1e3;O._sprite=d,O._ended=!1;var L=function(){O._paused=!1,O._seek=_e,O._start=oe,O._stop=le,O._loop=!(!O._loop&&!_._sprite[d][2])};if(!(_e>=le)){var B=O._node;if(_._webAudio){var fe=function(){_._playLock=!1,L(),_._refreshBuffer(O),B.gain.setValueAtTime(O._muted||_._muted?0:O._volume,S.ctx.currentTime),O._playStart=S.ctx.currentTime,typeof B.bufferSource.start>"u"?B.bufferSource.noteGrainOn(0,_e,O._loop?86400:Te):B.bufferSource.start(0,_e,O._loop?86400:Te),X!==1/0&&(_._endTimers[O._id]=setTimeout(_._ended.bind(_,O),X)),p||setTimeout(function(){_._emit("play",O._id),_._loadQueue()},0)};"running"===S.state&&"interrupted"!==S.ctx.state?fe():(_._playLock=!0,_.once("resume",fe),_._clearTimer(O._id))}else{var xe=function(){B.currentTime=_e,B.muted=O._muted||_._muted||S._muted||B.muted,B.volume=O._volume*S.volume(),B.playbackRate=O._rate;try{var E=B.play();if(E&&typeof Promise<"u"&&(E instanceof Promise||"function"==typeof E.then)?(_._playLock=!0,L(),E.then(function(){_._playLock=!1,B._unlocked=!0,p?_._loadQueue():_._emit("play",O._id)}).catch(function(){_._playLock=!1,_._emit("playerror",O._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),O._ended=!0,O._paused=!0})):p||(_._playLock=!1,L(),_._emit("play",O._id)),B.playbackRate=O._rate,B.paused)return void _._emit("playerror",O._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==d||O._loop?_._endTimers[O._id]=setTimeout(_._ended.bind(_,O),X):(_._endTimers[O._id]=function(){_._ended(O),B.removeEventListener("ended",_._endTimers[O._id],!1)},B.addEventListener("ended",_._endTimers[O._id],!1))}catch(j){_._emit("playerror",O._id,j)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===B.src&&(B.src=_._src,B.load());var Ve=window&&window.ejecta||!B.readyState&&S._navigator.isCocoonJS;if(B.readyState>=3||Ve)xe();else{_._playLock=!0,_._state="loading";var Ye=function(){_._state="loaded",xe(),B.removeEventListener(S._canPlayEvent,Ye,!1)};B.addEventListener(S._canPlayEvent,Ye,!1),_._clearTimer(O._id)}}return O._id}_._ended(O)},pause:function(d){var p=this;if("loaded"!==p._state||p._playLock)return p._queue.push({event:"pause",action:function(){p.pause(d)}}),p;for(var _=p._getSoundIds(d),T=0;T<_.length;T++){p._clearTimer(_[T]);var W=p._soundById(_[T]);if(W&&!W._paused&&(W._seek=p.seek(_[T]),W._rateSeek=0,W._paused=!0,p._stopFade(_[T]),W._node))if(p._webAudio){if(!W._node.bufferSource)continue;typeof W._node.bufferSource.stop>"u"?W._node.bufferSource.noteOff(0):W._node.bufferSource.stop(0),p._cleanBuffer(W._node)}else(!isNaN(W._node.duration)||W._node.duration===1/0)&&W._node.pause();arguments[1]||p._emit("pause",W?W._id:null)}return p},stop:function(d,p){var _=this;if("loaded"!==_._state||_._playLock)return _._queue.push({event:"stop",action:function(){_.stop(d)}}),_;for(var T=_._getSoundIds(d),W=0;W<T.length;W++){_._clearTimer(T[W]);var k=_._soundById(T[W]);k&&(k._seek=k._start||0,k._rateSeek=0,k._paused=!0,k._ended=!0,_._stopFade(T[W]),k._node&&(_._webAudio?k._node.bufferSource&&(typeof k._node.bufferSource.stop>"u"?k._node.bufferSource.noteOff(0):k._node.bufferSource.stop(0),_._cleanBuffer(k._node)):(!isNaN(k._node.duration)||k._node.duration===1/0)&&(k._node.currentTime=k._start||0,k._node.pause(),k._node.duration===1/0&&_._clearSound(k._node))),p||_._emit("stop",k._id))}return _},mute:function(d,p){var _=this;if("loaded"!==_._state||_._playLock)return _._queue.push({event:"mute",action:function(){_.mute(d,p)}}),_;if(typeof p>"u"){if("boolean"!=typeof d)return _._muted;_._muted=d}for(var T=_._getSoundIds(p),W=0;W<T.length;W++){var k=_._soundById(T[W]);k&&(k._muted=d,k._interval&&_._stopFade(k._id),_._webAudio&&k._node?k._node.gain.setValueAtTime(d?0:k._volume,S.ctx.currentTime):k._node&&(k._node.muted=!!S._muted||d),_._emit("mute",k._id))}return _},volume:function(){var _,T,O,d=this,p=arguments;if(0===p.length)return d._volume;if(1===p.length||2===p.length&&typeof p[1]>"u"){var W=d._getSoundIds(),k=W.indexOf(p[0]);k>=0?T=parseInt(p[0],10):_=parseFloat(p[0])}else p.length>=2&&(_=parseFloat(p[0]),T=parseInt(p[1],10));if(!(typeof _<"u"&&_>=0&&_<=1))return(O=T?d._soundById(T):d._sounds[0])?O._volume:0;if("loaded"!==d._state||d._playLock)return d._queue.push({event:"volume",action:function(){d.volume.apply(d,p)}}),d;typeof T>"u"&&(d._volume=_),T=d._getSoundIds(T);for(var Z=0;Z<T.length;Z++)(O=d._soundById(T[Z]))&&(O._volume=_,p[2]||d._stopFade(T[Z]),d._webAudio&&O._node&&!O._muted?O._node.gain.setValueAtTime(_,S.ctx.currentTime):O._node&&!O._muted&&(O._node.volume=_*S.volume()),d._emit("volume",O._id));return d},fade:function(d,p,_,T){var W=this;if("loaded"!==W._state||W._playLock)return W._queue.push({event:"fade",action:function(){W.fade(d,p,_,T)}}),W;d=Math.min(Math.max(0,parseFloat(d)),1),p=Math.min(Math.max(0,parseFloat(p)),1),_=parseFloat(_),W.volume(d,T);for(var k=W._getSoundIds(T),O=0;O<k.length;O++){var Z=W._soundById(k[O]);if(Z){if(T||W._stopFade(k[O]),W._webAudio&&!Z._muted){var _e=S.ctx.currentTime,Te=_e+_/1e3;Z._volume=d,Z._node.gain.setValueAtTime(d,_e),Z._node.gain.linearRampToValueAtTime(p,Te)}W._startFadeInterval(Z,d,p,_,k[O],typeof T>"u")}}return W},_startFadeInterval:function(d,p,_,T,W,k){var O=this,Z=p,_e=_-p,Te=Math.abs(_e/.01),X=Math.max(4,Te>0?T/Te:T),oe=Date.now();d._fadeTo=_,d._interval=setInterval(function(){var le=(Date.now()-oe)/T;oe=Date.now(),Z+=_e*le,Z=Math.round(100*Z)/100,Z=_e<0?Math.max(_,Z):Math.min(_,Z),O._webAudio?d._volume=Z:O.volume(Z,d._id,!0),k&&(O._volume=Z),(_<p&&Z<=_||_>p&&Z>=_)&&(clearInterval(d._interval),d._interval=null,d._fadeTo=null,O.volume(_,d._id),O._emit("fade",d._id))},X)},_stopFade:function(d){var p=this,_=p._soundById(d);return _&&_._interval&&(p._webAudio&&_._node.gain.cancelScheduledValues(S.ctx.currentTime),clearInterval(_._interval),_._interval=null,p.volume(_._fadeTo,d),_._fadeTo=null,p._emit("fade",d)),p},loop:function(){var _,T,W,d=this,p=arguments;if(0===p.length)return d._loop;if(1===p.length){if("boolean"!=typeof p[0])return!!(W=d._soundById(parseInt(p[0],10)))&&W._loop;d._loop=_=p[0]}else 2===p.length&&(_=p[0],T=parseInt(p[1],10));for(var k=d._getSoundIds(T),O=0;O<k.length;O++)(W=d._soundById(k[O]))&&(W._loop=_,d._webAudio&&W._node&&W._node.bufferSource&&(W._node.bufferSource.loop=_,_&&(W._node.bufferSource.loopStart=W._start||0,W._node.bufferSource.loopEnd=W._stop,d.playing(k[O])&&(d.pause(k[O],!0),d.play(k[O],!0)))));return d},rate:function(){var _,T,O,d=this,p=arguments;if(0===p.length)T=d._sounds[0]._id;else if(1===p.length){var W=d._getSoundIds(),k=W.indexOf(p[0]);k>=0?T=parseInt(p[0],10):_=parseFloat(p[0])}else 2===p.length&&(_=parseFloat(p[0]),T=parseInt(p[1],10));if("number"!=typeof _)return(O=d._soundById(T))?O._rate:d._rate;if("loaded"!==d._state||d._playLock)return d._queue.push({event:"rate",action:function(){d.rate.apply(d,p)}}),d;typeof T>"u"&&(d._rate=_),T=d._getSoundIds(T);for(var Z=0;Z<T.length;Z++)if(O=d._soundById(T[Z])){d.playing(T[Z])&&(O._rateSeek=d.seek(T[Z]),O._playStart=d._webAudio?S.ctx.currentTime:O._playStart),O._rate=_,d._webAudio&&O._node&&O._node.bufferSource?O._node.bufferSource.playbackRate.setValueAtTime(_,S.ctx.currentTime):O._node&&(O._node.playbackRate=_);var _e=d.seek(T[Z]),Te=(d._sprite[O._sprite][0]+d._sprite[O._sprite][1])/1e3-_e,X=1e3*Te/Math.abs(O._rate);(d._endTimers[T[Z]]||!O._paused)&&(d._clearTimer(T[Z]),d._endTimers[T[Z]]=setTimeout(d._ended.bind(d,O),X)),d._emit("rate",O._id)}return d},seek:function(){var _,T,d=this,p=arguments;if(0===p.length)d._sounds.length&&(T=d._sounds[0]._id);else if(1===p.length){var W=d._getSoundIds(),k=W.indexOf(p[0]);k>=0?T=parseInt(p[0],10):d._sounds.length&&(T=d._sounds[0]._id,_=parseFloat(p[0]))}else 2===p.length&&(_=parseFloat(p[0]),T=parseInt(p[1],10));if(typeof T>"u")return 0;if("number"==typeof _&&("loaded"!==d._state||d._playLock))return d._queue.push({event:"seek",action:function(){d.seek.apply(d,p)}}),d;var O=d._soundById(T);if(O){if(!("number"==typeof _&&_>=0)){if(d._webAudio){var X=d.playing(T)?S.ctx.currentTime-O._playStart:0,oe=O._rateSeek?O._rateSeek-O._seek:0;return O._seek+(oe+X*Math.abs(O._rate))}return O._node.currentTime}var Z=d.playing(T);Z&&d.pause(T,!0),O._seek=_,O._ended=!1,d._clearTimer(T),!d._webAudio&&O._node&&!isNaN(O._node.duration)&&(O._node.currentTime=_);var _e=function(){Z&&d.play(T,!0),d._emit("seek",T)};if(Z&&!d._webAudio){var Te=function(){d._playLock?setTimeout(Te,0):_e()};setTimeout(Te,0)}else _e()}return d},playing:function(d){var p=this;if("number"==typeof d){var _=p._soundById(d);return!!_&&!_._paused}for(var T=0;T<p._sounds.length;T++)if(!p._sounds[T]._paused)return!0;return!1},duration:function(d){var p=this,_=p._duration,T=p._soundById(d);return T&&(_=p._sprite[T._sprite][1]/1e3),_},state:function(){return this._state},unload:function(){for(var d=this,p=d._sounds,_=0;_<p.length;_++)p[_]._paused||d.stop(p[_]._id),d._webAudio||(d._clearSound(p[_]._node),p[_]._node.removeEventListener("error",p[_]._errorFn,!1),p[_]._node.removeEventListener(S._canPlayEvent,p[_]._loadFn,!1),p[_]._node.removeEventListener("ended",p[_]._endFn,!1),S._releaseHtml5Audio(p[_]._node)),delete p[_]._node,d._clearTimer(p[_]._id);var T=S._howls.indexOf(d);T>=0&&S._howls.splice(T,1);var W=!0;for(_=0;_<S._howls.length;_++)if(S._howls[_]._src===d._src||d._src.indexOf(S._howls[_]._src)>=0){W=!1;break}return z&&W&&delete z[d._src],S.noAudio=!1,d._state="unloaded",d._sounds=[],d=null,null},on:function(d,p,_,T){return"function"==typeof p&&this["_on"+d].push(T?{id:_,fn:p,once:T}:{id:_,fn:p}),this},off:function(d,p,_){var T=this,W=T["_on"+d],k=0;if("number"==typeof p&&(_=p,p=null),p||_)for(k=0;k<W.length;k++){var O=_===W[k].id;if(p===W[k].fn&&O||!p&&O){W.splice(k,1);break}}else if(d)T["_on"+d]=[];else{var Z=Object.keys(T);for(k=0;k<Z.length;k++)0===Z[k].indexOf("_on")&&Array.isArray(T[Z[k]])&&(T[Z[k]]=[])}return T},once:function(d,p,_){return this.on(d,p,_,1),this},_emit:function(d,p,_){for(var T=this,W=T["_on"+d],k=W.length-1;k>=0;k--)(!W[k].id||W[k].id===p||"load"===d)&&(setTimeout(function(O){O.call(this,p,_)}.bind(T,W[k].fn),0),W[k].once&&T.off(d,W[k].fn,W[k].id));return T._loadQueue(d),T},_loadQueue:function(d){var p=this;if(p._queue.length>0){var _=p._queue[0];_.event===d&&(p._queue.shift(),p._loadQueue()),d||_.action()}return p},_ended:function(d){var p=this,_=d._sprite;if(!p._webAudio&&d._node&&!d._node.paused&&!d._node.ended&&d._node.currentTime<d._stop)return setTimeout(p._ended.bind(p,d),100),p;var T=!(!d._loop&&!p._sprite[_][2]);if(p._emit("end",d._id),!p._webAudio&&T&&p.stop(d._id,!0).play(d._id),p._webAudio&&T){p._emit("play",d._id),d._seek=d._start||0,d._rateSeek=0,d._playStart=S.ctx.currentTime;var W=1e3*(d._stop-d._start)/Math.abs(d._rate);p._endTimers[d._id]=setTimeout(p._ended.bind(p,d),W)}return p._webAudio&&!T&&(d._paused=!0,d._ended=!0,d._seek=d._start||0,d._rateSeek=0,p._clearTimer(d._id),p._cleanBuffer(d._node),S._autoSuspend()),!p._webAudio&&!T&&p.stop(d._id,!0),p},_clearTimer:function(d){var p=this;if(p._endTimers[d]){if("function"!=typeof p._endTimers[d])clearTimeout(p._endTimers[d]);else{var _=p._soundById(d);_&&_._node&&_._node.removeEventListener("ended",p._endTimers[d],!1)}delete p._endTimers[d]}return p},_soundById:function(d){for(var p=this,_=0;_<p._sounds.length;_++)if(d===p._sounds[_]._id)return p._sounds[_];return null},_inactiveSound:function(){var d=this;d._drain();for(var p=0;p<d._sounds.length;p++)if(d._sounds[p]._ended)return d._sounds[p].reset();return new M(d)},_drain:function(){var d=this,p=d._pool,_=0,T=0;if(!(d._sounds.length<p)){for(T=0;T<d._sounds.length;T++)d._sounds[T]._ended&&_++;for(T=d._sounds.length-1;T>=0;T--){if(_<=p)return;d._sounds[T]._ended&&(d._webAudio&&d._sounds[T]._node&&d._sounds[T]._node.disconnect(0),d._sounds.splice(T,1),_--)}}},_getSoundIds:function(d){if(typeof d>"u"){for(var _=[],T=0;T<this._sounds.length;T++)_.push(this._sounds[T]._id);return _}return[d]},_refreshBuffer:function(d){return d._node.bufferSource=S.ctx.createBufferSource(),d._node.bufferSource.buffer=z[this._src],d._node.bufferSource.connect(d._panner?d._panner:d._node),d._node.bufferSource.loop=d._loop,d._loop&&(d._node.bufferSource.loopStart=d._start||0,d._node.bufferSource.loopEnd=d._stop||0),d._node.bufferSource.playbackRate.setValueAtTime(d._rate,S.ctx.currentTime),this},_cleanBuffer:function(d){var _=S._navigator&&S._navigator.vendor.indexOf("Apple")>=0;if(S._scratchBuffer&&d.bufferSource&&(d.bufferSource.onended=null,d.bufferSource.disconnect(0),_))try{d.bufferSource.buffer=S._scratchBuffer}catch{}return d.bufferSource=null,this},_clearSound:function(d){/MSIE |Trident\//.test(S._navigator&&S._navigator.userAgent)||(d.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var M=function(d){this._parent=d,this.init()};M.prototype={init:function(){var d=this,p=d._parent;return d._muted=p._muted,d._loop=p._loop,d._volume=p._volume,d._rate=p._rate,d._seek=0,d._paused=!0,d._ended=!0,d._sprite="__default",d._id=++S._counter,p._sounds.push(d),d.create(),d},create:function(){var d=this,p=d._parent,_=S._muted||d._muted||d._parent._muted?0:d._volume;return p._webAudio?(d._node=typeof S.ctx.createGain>"u"?S.ctx.createGainNode():S.ctx.createGain(),d._node.gain.setValueAtTime(_,S.ctx.currentTime),d._node.paused=!0,d._node.connect(S.masterGain)):S.noAudio||(d._node=S._obtainHtml5Audio(),d._errorFn=d._errorListener.bind(d),d._node.addEventListener("error",d._errorFn,!1),d._loadFn=d._loadListener.bind(d),d._node.addEventListener(S._canPlayEvent,d._loadFn,!1),d._endFn=d._endListener.bind(d),d._node.addEventListener("ended",d._endFn,!1),d._node.src=p._src,d._node.preload=!0===p._preload?"auto":p._preload,d._node.volume=_*S.volume(),d._node.load()),d},reset:function(){var d=this,p=d._parent;return d._muted=p._muted,d._loop=p._loop,d._volume=p._volume,d._rate=p._rate,d._seek=0,d._rateSeek=0,d._paused=!0,d._ended=!0,d._sprite="__default",d._id=++S._counter,d},_errorListener:function(){var d=this;d._parent._emit("loaderror",d._id,d._node.error?d._node.error.code:0),d._node.removeEventListener("error",d._errorFn,!1)},_loadListener:function(){var d=this,p=d._parent;p._duration=Math.ceil(10*d._node.duration)/10,0===Object.keys(p._sprite).length&&(p._sprite={__default:[0,1e3*p._duration]}),"loaded"!==p._state&&(p._state="loaded",p._emit("load"),p._loadQueue()),d._node.removeEventListener(S._canPlayEvent,d._loadFn,!1)},_endListener:function(){var d=this,p=d._parent;p._duration===1/0&&(p._duration=Math.ceil(10*d._node.duration)/10,p._sprite.__default[1]===1/0&&(p._sprite.__default[1]=1e3*p._duration),p._ended(d)),d._node.removeEventListener("ended",d._endFn,!1)}};var z={},P=function(d){var p=d._src;if(z[p])return d._duration=z[p].duration,void w(d);if(/^data:[^;]+;base64,/.test(p)){for(var _=atob(p.split(",")[1]),T=new Uint8Array(_.length),W=0;W<_.length;++W)T[W]=_.charCodeAt(W);Y(T.buffer,d)}else{var k=new XMLHttpRequest;k.open(d._xhr.method,p,!0),k.withCredentials=d._xhr.withCredentials,k.responseType="arraybuffer",d._xhr.headers&&Object.keys(d._xhr.headers).forEach(function(O){k.setRequestHeader(O,d._xhr.headers[O])}),k.onload=function(){var O=(k.status+"")[0];"0"===O||"2"===O||"3"===O?Y(k.response,d):d._emit("loaderror",null,"Failed loading audio file with status: "+k.status+".")},k.onerror=function(){d._webAudio&&(d._html5=!0,d._webAudio=!1,d._sounds=[],delete z[p],d.load())},N(k)}},N=function(d){try{d.send()}catch{d.onerror()}},Y=function(d,p){var _=function(){p._emit("loaderror",null,"Decoding audio data failed.")},T=function(W){W&&p._sounds.length>0?(z[p._src]=W,w(p,W)):_()};typeof Promise<"u"&&1===S.ctx.decodeAudioData.length?S.ctx.decodeAudioData(d).then(T).catch(_):S.ctx.decodeAudioData(d,T,_)},w=function(d,p){p&&!d._duration&&(d._duration=p.duration),0===Object.keys(d._sprite).length&&(d._sprite={__default:[0,1e3*d._duration]}),"loaded"!==d._state&&(d._state="loaded",d._emit("load"),d._loadQueue())},K=function(){if(S.usingWebAudio){try{typeof AudioContext<"u"?S.ctx=new AudioContext:typeof webkitAudioContext<"u"?S.ctx=new webkitAudioContext:S.usingWebAudio=!1}catch{S.usingWebAudio=!1}S.ctx||(S.usingWebAudio=!1);var d=/iP(hone|od|ad)/.test(S._navigator&&S._navigator.platform),p=S._navigator&&S._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),_=p?parseInt(p[1],10):null;if(d&&_&&_<9){var T=/safari/.test(S._navigator&&S._navigator.userAgent.toLowerCase());S._navigator&&!T&&(S.usingWebAudio=!1)}S.usingWebAudio&&(S.masterGain=typeof S.ctx.createGain>"u"?S.ctx.createGainNode():S.ctx.createGain(),S.masterGain.gain.setValueAtTime(S._muted?0:S._volume,S.ctx.currentTime),S.masterGain.connect(S.ctx.destination)),S._setup()}};void 0!==(D=function(){return{Howler:S,Howl:x}}.apply(U,[]))&&(rt.exports=D),U.Howler=S,U.Howl=x,typeof global<"u"?(global.HowlerGlobal=A,global.Howler=S,global.Howl=x,global.Sound=M):typeof window<"u"&&(window.HowlerGlobal=A,window.Howler=S,window.Howl=x,window.Sound=M)}(),function(){"use strict";var S;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(S){var x=this;if(!x.ctx||!x.ctx.listener)return x;for(var M=x._howls.length-1;M>=0;M--)x._howls[M].stereo(S);return x},HowlerGlobal.prototype.pos=function(S,x,M){var z=this;return z.ctx&&z.ctx.listener?"number"!=typeof S?z._pos:(z._pos=[S,x="number"!=typeof x?z._pos[1]:x,M="number"!=typeof M?z._pos[2]:M],typeof z.ctx.listener.positionX<"u"?(z.ctx.listener.positionX.setTargetAtTime(z._pos[0],Howler.ctx.currentTime,.1),z.ctx.listener.positionY.setTargetAtTime(z._pos[1],Howler.ctx.currentTime,.1),z.ctx.listener.positionZ.setTargetAtTime(z._pos[2],Howler.ctx.currentTime,.1)):z.ctx.listener.setPosition(z._pos[0],z._pos[1],z._pos[2]),z):z},HowlerGlobal.prototype.orientation=function(S,x,M,z,P,N){var Y=this;if(!Y.ctx||!Y.ctx.listener)return Y;var w=Y._orientation;return"number"!=typeof S?w:(Y._orientation=[S,x="number"!=typeof x?w[1]:x,M="number"!=typeof M?w[2]:M,z="number"!=typeof z?w[3]:z,P="number"!=typeof P?w[4]:P,N="number"!=typeof N?w[5]:N],typeof Y.ctx.listener.forwardX<"u"?(Y.ctx.listener.forwardX.setTargetAtTime(S,Howler.ctx.currentTime,.1),Y.ctx.listener.forwardY.setTargetAtTime(x,Howler.ctx.currentTime,.1),Y.ctx.listener.forwardZ.setTargetAtTime(M,Howler.ctx.currentTime,.1),Y.ctx.listener.upX.setTargetAtTime(z,Howler.ctx.currentTime,.1),Y.ctx.listener.upY.setTargetAtTime(P,Howler.ctx.currentTime,.1),Y.ctx.listener.upZ.setTargetAtTime(N,Howler.ctx.currentTime,.1)):Y.ctx.listener.setOrientation(S,x,M,z,P,N),Y)},Howl.prototype.init=(S=Howl.prototype.init,function(x){var M=this;return M._orientation=x.orientation||[1,0,0],M._stereo=x.stereo||null,M._pos=x.pos||null,M._pannerAttr={coneInnerAngle:typeof x.coneInnerAngle<"u"?x.coneInnerAngle:360,coneOuterAngle:typeof x.coneOuterAngle<"u"?x.coneOuterAngle:360,coneOuterGain:typeof x.coneOuterGain<"u"?x.coneOuterGain:0,distanceModel:typeof x.distanceModel<"u"?x.distanceModel:"inverse",maxDistance:typeof x.maxDistance<"u"?x.maxDistance:1e4,panningModel:typeof x.panningModel<"u"?x.panningModel:"HRTF",refDistance:typeof x.refDistance<"u"?x.refDistance:1,rolloffFactor:typeof x.rolloffFactor<"u"?x.rolloffFactor:1},M._onstereo=x.onstereo?[{fn:x.onstereo}]:[],M._onpos=x.onpos?[{fn:x.onpos}]:[],M._onorientation=x.onorientation?[{fn:x.onorientation}]:[],S.call(this,x)}),Howl.prototype.stereo=function(S,x){var M=this;if(!M._webAudio)return M;if("loaded"!==M._state)return M._queue.push({event:"stereo",action:function(){M.stereo(S,x)}}),M;var z=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof x>"u"){if("number"!=typeof S)return M._stereo;M._stereo=S,M._pos=[S,0,0]}for(var P=M._getSoundIds(x),N=0;N<P.length;N++){var Y=M._soundById(P[N]);if(Y){if("number"!=typeof S)return Y._stereo;Y._stereo=S,Y._pos=[S,0,0],Y._node&&(Y._pannerAttr.panningModel="equalpower",(!Y._panner||!Y._panner.pan)&&A(Y,z),"spatial"===z?typeof Y._panner.positionX<"u"?(Y._panner.positionX.setValueAtTime(S,Howler.ctx.currentTime),Y._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),Y._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):Y._panner.setPosition(S,0,0):Y._panner.pan.setValueAtTime(S,Howler.ctx.currentTime)),M._emit("stereo",Y._id)}}return M},Howl.prototype.pos=function(S,x,M,z){var P=this;if(!P._webAudio)return P;if("loaded"!==P._state)return P._queue.push({event:"pos",action:function(){P.pos(S,x,M,z)}}),P;if(x="number"!=typeof x?0:x,M="number"!=typeof M?-.5:M,typeof z>"u"){if("number"!=typeof S)return P._pos;P._pos=[S,x,M]}for(var N=P._getSoundIds(z),Y=0;Y<N.length;Y++){var w=P._soundById(N[Y]);if(w){if("number"!=typeof S)return w._pos;w._pos=[S,x,M],w._node&&((!w._panner||w._panner.pan)&&A(w,"spatial"),typeof w._panner.positionX<"u"?(w._panner.positionX.setValueAtTime(S,Howler.ctx.currentTime),w._panner.positionY.setValueAtTime(x,Howler.ctx.currentTime),w._panner.positionZ.setValueAtTime(M,Howler.ctx.currentTime)):w._panner.setPosition(S,x,M)),P._emit("pos",w._id)}}return P},Howl.prototype.orientation=function(S,x,M,z){var P=this;if(!P._webAudio)return P;if("loaded"!==P._state)return P._queue.push({event:"orientation",action:function(){P.orientation(S,x,M,z)}}),P;if(x="number"!=typeof x?P._orientation[1]:x,M="number"!=typeof M?P._orientation[2]:M,typeof z>"u"){if("number"!=typeof S)return P._orientation;P._orientation=[S,x,M]}for(var N=P._getSoundIds(z),Y=0;Y<N.length;Y++){var w=P._soundById(N[Y]);if(w){if("number"!=typeof S)return w._orientation;w._orientation=[S,x,M],w._node&&(w._panner||(w._pos||(w._pos=P._pos||[0,0,-.5]),A(w,"spatial")),typeof w._panner.orientationX<"u"?(w._panner.orientationX.setValueAtTime(S,Howler.ctx.currentTime),w._panner.orientationY.setValueAtTime(x,Howler.ctx.currentTime),w._panner.orientationZ.setValueAtTime(M,Howler.ctx.currentTime)):w._panner.setOrientation(S,x,M)),P._emit("orientation",w._id)}}return P},Howl.prototype.pannerAttr=function(){var M,z,P,S=this,x=arguments;if(!S._webAudio)return S;if(0===x.length)return S._pannerAttr;if(1===x.length){if("object"!=typeof x[0])return(P=S._soundById(parseInt(x[0],10)))?P._pannerAttr:S._pannerAttr;M=x[0],typeof z>"u"&&(M.pannerAttr||(M.pannerAttr={coneInnerAngle:M.coneInnerAngle,coneOuterAngle:M.coneOuterAngle,coneOuterGain:M.coneOuterGain,distanceModel:M.distanceModel,maxDistance:M.maxDistance,refDistance:M.refDistance,rolloffFactor:M.rolloffFactor,panningModel:M.panningModel}),S._pannerAttr={coneInnerAngle:typeof M.pannerAttr.coneInnerAngle<"u"?M.pannerAttr.coneInnerAngle:S._coneInnerAngle,coneOuterAngle:typeof M.pannerAttr.coneOuterAngle<"u"?M.pannerAttr.coneOuterAngle:S._coneOuterAngle,coneOuterGain:typeof M.pannerAttr.coneOuterGain<"u"?M.pannerAttr.coneOuterGain:S._coneOuterGain,distanceModel:typeof M.pannerAttr.distanceModel<"u"?M.pannerAttr.distanceModel:S._distanceModel,maxDistance:typeof M.pannerAttr.maxDistance<"u"?M.pannerAttr.maxDistance:S._maxDistance,refDistance:typeof M.pannerAttr.refDistance<"u"?M.pannerAttr.refDistance:S._refDistance,rolloffFactor:typeof M.pannerAttr.rolloffFactor<"u"?M.pannerAttr.rolloffFactor:S._rolloffFactor,panningModel:typeof M.pannerAttr.panningModel<"u"?M.pannerAttr.panningModel:S._panningModel})}else 2===x.length&&(M=x[0],z=parseInt(x[1],10));for(var N=S._getSoundIds(z),Y=0;Y<N.length;Y++)if(P=S._soundById(N[Y])){var w=P._pannerAttr;w={coneInnerAngle:typeof M.coneInnerAngle<"u"?M.coneInnerAngle:w.coneInnerAngle,coneOuterAngle:typeof M.coneOuterAngle<"u"?M.coneOuterAngle:w.coneOuterAngle,coneOuterGain:typeof M.coneOuterGain<"u"?M.coneOuterGain:w.coneOuterGain,distanceModel:typeof M.distanceModel<"u"?M.distanceModel:w.distanceModel,maxDistance:typeof M.maxDistance<"u"?M.maxDistance:w.maxDistance,refDistance:typeof M.refDistance<"u"?M.refDistance:w.refDistance,rolloffFactor:typeof M.rolloffFactor<"u"?M.rolloffFactor:w.rolloffFactor,panningModel:typeof M.panningModel<"u"?M.panningModel:w.panningModel};var K=P._panner;K?(K.coneInnerAngle=w.coneInnerAngle,K.coneOuterAngle=w.coneOuterAngle,K.coneOuterGain=w.coneOuterGain,K.distanceModel=w.distanceModel,K.maxDistance=w.maxDistance,K.refDistance=w.refDistance,K.rolloffFactor=w.rolloffFactor,K.panningModel=w.panningModel):(P._pos||(P._pos=S._pos||[0,0,-.5]),A(P,"spatial"))}return S},Sound.prototype.init=function(S){return function(){var x=this,M=x._parent;x._orientation=M._orientation,x._stereo=M._stereo,x._pos=M._pos,x._pannerAttr=M._pannerAttr,S.call(this),x._stereo?M.stereo(x._stereo):x._pos&&M.pos(x._pos[0],x._pos[1],x._pos[2],x._id)}}(Sound.prototype.init),Sound.prototype.reset=function(S){return function(){var x=this,M=x._parent;return x._orientation=M._orientation,x._stereo=M._stereo,x._pos=M._pos,x._pannerAttr=M._pannerAttr,x._stereo?M.stereo(x._stereo):x._pos?M.pos(x._pos[0],x._pos[1],x._pos[2],x._id):x._panner&&(x._panner.disconnect(0),x._panner=void 0,M._refreshBuffer(x)),S.call(this)}}(Sound.prototype.reset);var A=function(S,x){"spatial"===(x=x||"spatial")?(S._panner=Howler.ctx.createPanner(),S._panner.coneInnerAngle=S._pannerAttr.coneInnerAngle,S._panner.coneOuterAngle=S._pannerAttr.coneOuterAngle,S._panner.coneOuterGain=S._pannerAttr.coneOuterGain,S._panner.distanceModel=S._pannerAttr.distanceModel,S._panner.maxDistance=S._pannerAttr.maxDistance,S._panner.refDistance=S._pannerAttr.refDistance,S._panner.rolloffFactor=S._pannerAttr.rolloffFactor,S._panner.panningModel=S._pannerAttr.panningModel,typeof S._panner.positionX<"u"?(S._panner.positionX.setValueAtTime(S._pos[0],Howler.ctx.currentTime),S._panner.positionY.setValueAtTime(S._pos[1],Howler.ctx.currentTime),S._panner.positionZ.setValueAtTime(S._pos[2],Howler.ctx.currentTime)):S._panner.setPosition(S._pos[0],S._pos[1],S._pos[2]),typeof S._panner.orientationX<"u"?(S._panner.orientationX.setValueAtTime(S._orientation[0],Howler.ctx.currentTime),S._panner.orientationY.setValueAtTime(S._orientation[1],Howler.ctx.currentTime),S._panner.orientationZ.setValueAtTime(S._orientation[2],Howler.ctx.currentTime)):S._panner.setOrientation(S._orientation[0],S._orientation[1],S._orientation[2])):(S._panner=Howler.ctx.createStereoPanner(),S._panner.pan.setValueAtTime(S._stereo,Howler.ctx.currentTime)),S._panner.connect(S._node),S._paused||S._parent.pause(S._id,!0).play(S._id,!0)}}()},169:(rt,U,R)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.CallStack=void 0;const D=R(336),A=R(783),S=R(467),x=R(976),M=R(464),z=R(855),P=R(667),N=R(731),Y=R(953),w=R(233);class K{constructor(){if(this._threadCounter=0,this._startOfRoot=P.Pointer.Null,arguments[0]instanceof S.Story)this._startOfRoot=P.Pointer.StartOf(arguments[0].rootContentContainer),this.Reset();else{let p=arguments[0];this._threads=[];for(let _ of p._threads)this._threads.push(_.Copy());this._threadCounter=p._threadCounter,this._startOfRoot=p._startOfRoot.copy()}}get elements(){return this.callStack}get depth(){return this.elements.length}get currentElement(){let _=this._threads[this._threads.length-1].callstack;return _[_.length-1]}get currentElementIndex(){return this.callStack.length-1}get currentThread(){return this._threads[this._threads.length-1]}set currentThread(p){N.Debug.Assert(1==this._threads.length,"Shouldn't be directly setting the current thread when we have a stack of them"),this._threads.length=0,this._threads.push(p)}get canPop(){return this.callStack.length>1}Reset(){this._threads=[],this._threads.push(new K.Thread),this._threads[0].callstack.push(new K.Element(D.PushPopType.Tunnel,this._startOfRoot))}SetJsonToken(p,_){this._threads.length=0;let T=p.threads;for(let W of T){let O=new K.Thread(W,_);this._threads.push(O)}this._threadCounter=parseInt(p.threadCounter),this._startOfRoot=P.Pointer.StartOf(_.rootContentContainer)}WriteJson(p){p.WriteObject(_=>{_.WritePropertyStart("threads"),_.WriteArrayStart();for(let T of this._threads)T.WriteJson(_);_.WriteArrayEnd(),_.WritePropertyEnd(),_.WritePropertyStart("threadCounter"),_.WriteInt(this._threadCounter),_.WritePropertyEnd()})}PushThread(){let p=this.currentThread.Copy();this._threadCounter++,p.threadIndex=this._threadCounter,this._threads.push(p)}ForkThread(){let p=this.currentThread.Copy();return this._threadCounter++,p.threadIndex=this._threadCounter,p}PopThread(){if(!this.canPopThread)throw new Error("Can't pop thread");this._threads.splice(this._threads.indexOf(this.currentThread),1)}get canPopThread(){return this._threads.length>1&&!this.elementIsEvaluateFromGame}get elementIsEvaluateFromGame(){return this.currentElement.type==D.PushPopType.FunctionEvaluationFromGame}Push(p,_=0,T=0){let W=new K.Element(p,this.currentElement.currentPointer,!1);W.evaluationStackHeightWhenPushed=_,W.functionStartInOutputStream=T,this.callStack.push(W)}CanPop(p=null){return!!this.canPop&&(null==p||this.currentElement.type==p)}Pop(p=null){if(!this.CanPop(p))throw new Error("Mismatched push/pop in Callstack");this.callStack.pop()}GetTemporaryVariableWithName(p,_=-1){-1==_&&(_=this.currentElementIndex+1);let W=Y.tryGetValueFromMap(this.callStack[_-1].temporaryVariables,p,null);return W.exists?W.result:null}SetTemporaryVariable(p,_,T,W=-1){-1==W&&(W=this.currentElementIndex+1);let k=this.callStack[W-1];if(!T&&!k.temporaryVariables.get(p))throw new Error("Could not find temporary variable to set: "+p);let O=Y.tryGetValueFromMap(k.temporaryVariables,p,null);O.exists&&M.ListValue.RetainListOriginsForAssignment(O.result,_),k.temporaryVariables.set(p,_)}ContextForVariableNamed(p){return this.currentElement.temporaryVariables.get(p)?this.currentElementIndex+1:0}ThreadWithIndex(p){let _=this._threads.filter(T=>{if(T.threadIndex==p)return T});return _.length>0?_[0]:null}get callStack(){return this.currentThread.callstack}get callStackTrace(){let p=new z.StringBuilder;for(let _=0;_<this._threads.length;_++){let T=this._threads[_];p.AppendFormat("=== THREAD {0}/{1} {2}===\n",_+1,this._threads.length,_==this._threads.length-1?"(current) ":"");for(let k=0;k<T.callstack.length;k++){p.Append(T.callstack[k].type==D.PushPopType.Function?"  [FUNCTION] ":"  [TUNNEL] ");let O=T.callstack[k].currentPointer;if(!O.isNull){if(p.Append("<SOMEWHERE IN "),null===O.container)return w.throwNullException("pointer.container");p.Append(O.container.path.toString()),p.AppendLine(">")}}}return p.toString()}}U.CallStack=K,function(d){class p{constructor(W,k,O=!1){this.evaluationStackHeightWhenPushed=0,this.functionStartInOutputStream=0,this.currentPointer=k.copy(),this.inExpressionEvaluation=O,this.temporaryVariables=new Map,this.type=W}Copy(){let W=new p(this.type,this.currentPointer,this.inExpressionEvaluation);return W.temporaryVariables=new Map(this.temporaryVariables),W.evaluationStackHeightWhenPushed=this.evaluationStackHeightWhenPushed,W.functionStartInOutputStream=this.functionStartInOutputStream,W}}d.Element=p;class _{constructor(){if(this.threadIndex=0,this.previousPointer=P.Pointer.Null,this.callstack=[],arguments[0]&&arguments[1]){let W=arguments[0],k=arguments[1];this.threadIndex=parseInt(W.threadIndex);let O=W.callstack;for(let _e of O){let le,Te=_e,X=parseInt(Te.type),oe=P.Pointer.Null,L=Te.cPath;if(typeof L<"u"){le=L.toString();let Ve=k.ContentAtPath(new A.Path(le));if(oe.container=Ve.container,oe.index=parseInt(Te.idx),null==Ve.obj)throw new Error("When loading state, internal story location couldn't be found: "+le+". Has the story changed since this save data was created?");if(Ve.approximate){if(null===oe.container)return w.throwNullException("pointer.container");k.Warning("When loading state, exact internal story location couldn't be found: '"+le+"', so it was approximated to '"+oe.container.path.toString()+"' to recover. Has the story changed since this save data was created?")}}let fe=new p(X,oe,!!Te.exp),xe=Te.temp;typeof xe<"u"?fe.temporaryVariables=x.JsonSerialisation.JObjectToDictionaryRuntimeObjs(xe):fe.temporaryVariables.clear(),this.callstack.push(fe)}let Z=W.previousContentObject;if(typeof Z<"u"){let _e=new A.Path(Z.toString());this.previousPointer=k.PointerAtPath(_e)}}}Copy(){let W=new _;W.threadIndex=this.threadIndex;for(let k of this.callstack)W.callstack.push(k.Copy());return W.previousPointer=this.previousPointer.copy(),W}WriteJson(W){W.WriteObjectStart(),W.WritePropertyStart("callstack"),W.WriteArrayStart();for(let k of this.callstack){if(W.WriteObjectStart(),!k.currentPointer.isNull){if(null===k.currentPointer.container)return w.throwNullException("el.currentPointer.container");W.WriteProperty("cPath",k.currentPointer.container.path.componentsString),W.WriteIntProperty("idx",k.currentPointer.index)}W.WriteProperty("exp",k.inExpressionEvaluation),W.WriteIntProperty("type",k.type),k.temporaryVariables.size>0&&(W.WritePropertyStart("temp"),x.JsonSerialisation.WriteDictionaryRuntimeObjs(W,k.temporaryVariables),W.WritePropertyEnd()),W.WriteObjectEnd()}if(W.WriteArrayEnd(),W.WritePropertyEnd(),W.WriteIntProperty("threadIndex",this.threadIndex),!this.previousPointer.isNull){let k=this.previousPointer.Resolve();if(null===k)return w.throwNullException("this.previousPointer.Resolve()");W.WriteProperty("previousContentObject",k.path.toString())}W.WriteObjectEnd()}}d.Thread=_}(K=U.CallStack||(U.CallStack={}))},934:(rt,U,R)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.Choice=void 0;const D=R(783),A=R(233),S=R(9);U.Choice=class x extends S.InkObject{constructor(){super(...arguments),this.text="",this.index=0,this.threadAtGeneration=null,this.sourcePath="",this.targetPath=null,this.isInvisibleDefault=!1,this.tags=null,this.originalThreadIndex=0}get pathStringOnChoice(){return null===this.targetPath?A.throwNullException("Choice.targetPath"):this.targetPath.toString()}set pathStringOnChoice(z){this.targetPath=new D.Path(z)}}},366:(rt,U,R)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.ChoicePoint=void 0;const D=R(9),A=R(783),S=R(233);U.ChoicePoint=class x extends D.InkObject{constructor(z=!0){super(),this._pathOnChoice=null,this.hasCondition=!1,this.hasStartContent=!1,this.hasChoiceOnlyContent=!1,this.isInvisibleDefault=!1,this.onceOnly=!0,this.onceOnly=z}get pathOnChoice(){if(null!=this._pathOnChoice&&this._pathOnChoice.isRelative){let z=this.choiceTarget;z&&(this._pathOnChoice=z.path)}return this._pathOnChoice}set pathOnChoice(z){this._pathOnChoice=z}get choiceTarget(){return null===this._pathOnChoice?S.throwNullException("ChoicePoint._pathOnChoice"):this.ResolvePath(this._pathOnChoice).container}get pathStringOnChoice(){return null===this.pathOnChoice?S.throwNullException("ChoicePoint.pathOnChoice"):this.CompactPathString(this.pathOnChoice)}set pathStringOnChoice(z){this.pathOnChoice=new A.Path(z)}get flags(){let z=0;return this.hasCondition&&(z|=1),this.hasStartContent&&(z|=2),this.hasChoiceOnlyContent&&(z|=4),this.isInvisibleDefault&&(z|=8),this.onceOnly&&(z|=16),z}set flags(z){this.hasCondition=(1&z)>0,this.hasStartContent=(2&z)>0,this.hasChoiceOnlyContent=(4&z)>0,this.isInvisibleDefault=(8&z)>0,this.onceOnly=(16&z)>0}toString(){if(null===this.pathOnChoice)return S.throwNullException("ChoicePoint.pathOnChoice");return"Choice: -> "+this.pathOnChoice.toString()}}},570:(rt,U,R)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.Container=void 0;const D=R(464),A=R(233),S=R(855),x=R(9),M=R(946),z=R(783),P=R(731),N=R(953),Y=R(774);class w extends x.InkObject{constructor(){super(...arguments),this.name=null,this._content=[],this.namedContent=new Map,this.visitsShouldBeCounted=!1,this.turnIndexShouldBeCounted=!1,this.countingAtStartOnly=!1,this._pathToFirstLeafContent=null}get hasValidName(){return null!=this.name&&this.name.length>0}get content(){return this._content}set content(d){this.AddContent(d)}get namedOnlyContent(){let d=new Map;for(let[p,_]of this.namedContent){let T=Y.asOrThrows(_,x.InkObject);d.set(p,T)}for(let p of this.content){let _=Y.asINamedContentOrNull(p);null!=_&&_.hasValidName&&d.delete(_.name)}return 0==d.size&&(d=null),d}set namedOnlyContent(d){let p=this.namedOnlyContent;if(null!=p)for(let[_]of p)this.namedContent.delete(_);if(null!=d)for(let[,_]of d){let T=Y.asINamedContentOrNull(_);null!=T&&this.AddToNamedContentOnly(T)}}get countFlags(){let d=0;return this.visitsShouldBeCounted&&(d|=w.CountFlags.Visits),this.turnIndexShouldBeCounted&&(d|=w.CountFlags.Turns),this.countingAtStartOnly&&(d|=w.CountFlags.CountStartOnly),d==w.CountFlags.CountStartOnly&&(d=0),d}set countFlags(d){let p=d;(p&w.CountFlags.Visits)>0&&(this.visitsShouldBeCounted=!0),(p&w.CountFlags.Turns)>0&&(this.turnIndexShouldBeCounted=!0),(p&w.CountFlags.CountStartOnly)>0&&(this.countingAtStartOnly=!0)}get pathToFirstLeafContent(){return null==this._pathToFirstLeafContent&&(this._pathToFirstLeafContent=this.path.PathByAppendingPath(this.internalPathToFirstLeafContent)),this._pathToFirstLeafContent}get internalPathToFirstLeafContent(){let d=[],p=this;for(;p instanceof w;)p.content.length>0&&(d.push(new z.Path.Component(0)),p=p.content[0]);return new z.Path(d)}AddContent(d){if(d instanceof Array){let p=d;for(let _ of p)this.AddContent(_)}else{let p=d;if(this._content.push(p),p.parent)throw new Error("content is already in "+p.parent);p.parent=this,this.TryAddNamedContent(p)}}TryAddNamedContent(d){let p=Y.asINamedContentOrNull(d);null!=p&&p.hasValidName&&this.AddToNamedContentOnly(p)}AddToNamedContentOnly(d){if(P.Debug.AssertType(d,x.InkObject,"Can only add Runtime.Objects to a Runtime.Container"),Y.asOrThrows(d,x.InkObject).parent=this,null===d.name)return A.throwNullException("namedContentObj.name");this.namedContent.set(d.name,d)}ContentAtPath(d,p=0,_=-1){-1==_&&(_=d.length);let T=new M.SearchResult;T.approximate=!1;let W=this,k=this;for(let O=p;O<_;++O){let Z=d.GetComponent(O);if(null==W){T.approximate=!0;break}let _e=W.ContentWithPathComponent(Z);if(null==_e){T.approximate=!0;break}k=_e,W=Y.asOrNull(_e,w)}return T.obj=k,T}InsertContent(d,p){if(this.content.splice(p,0,d),d.parent)throw new Error("content is already in "+d.parent);d.parent=this,this.TryAddNamedContent(d)}AddContentsOfContainer(d){this.content.push(...d.content);for(let p of d.content)p.parent=this,this.TryAddNamedContent(p)}ContentWithPathComponent(d){if(d.isIndex)return d.index>=0&&d.index<this.content.length?this.content[d.index]:null;if(d.isParent)return this.parent;{if(null===d.name)return A.throwNullException("component.name");let p=N.tryGetValueFromMap(this.namedContent,d.name,null);return p.exists?Y.asOrThrows(p.result,x.InkObject):null}}BuildStringOfHierarchy(){let d;if(0==arguments.length)return d=new S.StringBuilder,this.BuildStringOfHierarchy(d,0,null),d.toString();d=arguments[0];let p=arguments[1],_=arguments[2];function T(){for(let O=0;O<4*p;++O)d.Append(" ")}T(),d.Append("["),this.hasValidName&&d.AppendFormat(" ({0})",this.name),this==_&&d.Append("  <---"),d.AppendLine(),p++;for(let k=0;k<this.content.length;++k){let O=this.content[k];O instanceof w?O.BuildStringOfHierarchy(d,p,_):(T(),O instanceof D.StringValue?(d.Append('"'),d.Append(O.toString().replace("\n","\\n")),d.Append('"')):d.Append(O.toString())),k!=this.content.length-1&&d.Append(","),!(O instanceof w)&&O==_&&d.Append("  <---"),d.AppendLine()}let W=new Map;for(let[k,O]of this.namedContent)this.content.indexOf(Y.asOrThrows(O,x.InkObject))>=0||W.set(k,O);if(W.size>0){T(),d.AppendLine("-- named: --");for(let[,k]of W)P.Debug.AssertType(k,w,"Can only print out named Containers"),k.BuildStringOfHierarchy(d,p,_),d.AppendLine()}p--,T(),d.Append("]")}}U.Container=w,function(K){let d;var p;(p=d=K.CountFlags||(K.CountFlags={}))[p.Visits=1]="Visits",p[p.Turns=2]="Turns",p[p.CountStartOnly=4]="CountStartOnly"}(w=U.Container||(U.Container={}))},566:(rt,U,R)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.ControlCommand=void 0;const D=R(9);class A extends D.InkObject{constructor(x=A.CommandType.NotSet){super(),this._commandType=x}get commandType(){return this._commandType}Copy(){return new A(this.commandType)}static EvalStart(){return new A(A.CommandType.EvalStart)}static EvalOutput(){return new A(A.CommandType.EvalOutput)}static EvalEnd(){return new A(A.CommandType.EvalEnd)}static Duplicate(){return new A(A.CommandType.Duplicate)}static PopEvaluatedValue(){return new A(A.CommandType.PopEvaluatedValue)}static PopFunction(){return new A(A.CommandType.PopFunction)}static PopTunnel(){return new A(A.CommandType.PopTunnel)}static BeginString(){return new A(A.CommandType.BeginString)}static EndString(){return new A(A.CommandType.EndString)}static NoOp(){return new A(A.CommandType.NoOp)}static ChoiceCount(){return new A(A.CommandType.ChoiceCount)}static Turns(){return new A(A.CommandType.Turns)}static TurnsSince(){return new A(A.CommandType.TurnsSince)}static ReadCount(){return new A(A.CommandType.ReadCount)}static Random(){return new A(A.CommandType.Random)}static SeedRandom(){return new A(A.CommandType.SeedRandom)}static VisitIndex(){return new A(A.CommandType.VisitIndex)}static SequenceShuffleIndex(){return new A(A.CommandType.SequenceShuffleIndex)}static StartThread(){return new A(A.CommandType.StartThread)}static Done(){return new A(A.CommandType.Done)}static End(){return new A(A.CommandType.End)}static ListFromInt(){return new A(A.CommandType.ListFromInt)}static ListRange(){return new A(A.CommandType.ListRange)}static ListRandom(){return new A(A.CommandType.ListRandom)}static BeginTag(){return new A(A.CommandType.BeginTag)}static EndTag(){return new A(A.CommandType.EndTag)}toString(){return this.commandType.toString()}}U.ControlCommand=A,function(S){let x;var M;(M=x=S.CommandType||(S.CommandType={}))[M.NotSet=-1]="NotSet",M[M.EvalStart=0]="EvalStart",M[M.EvalOutput=1]="EvalOutput",M[M.EvalEnd=2]="EvalEnd",M[M.Duplicate=3]="Duplicate",M[M.PopEvaluatedValue=4]="PopEvaluatedValue",M[M.PopFunction=5]="PopFunction",M[M.PopTunnel=6]="PopTunnel",M[M.BeginString=7]="BeginString",M[M.EndString=8]="EndString",M[M.NoOp=9]="NoOp",M[M.ChoiceCount=10]="ChoiceCount",M[M.Turns=11]="Turns",M[M.TurnsSince=12]="TurnsSince",M[M.ReadCount=13]="ReadCount",M[M.Random=14]="Random",M[M.SeedRandom=15]="SeedRandom",M[M.VisitIndex=16]="VisitIndex",M[M.SequenceShuffleIndex=17]="SequenceShuffleIndex",M[M.StartThread=18]="StartThread",M[M.Done=19]="Done",M[M.End=20]="End",M[M.ListFromInt=21]="ListFromInt",M[M.ListRange=22]="ListRange",M[M.ListRandom=23]="ListRandom",M[M.BeginTag=24]="BeginTag",M[M.EndTag=25]="EndTag",M[M.TOTAL_VALUES=26]="TOTAL_VALUES"}(A=U.ControlCommand||(U.ControlCommand={}))},731:(rt,U)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.Debug=void 0,function(D){function S(x,M){if(!x)throw typeof M<"u"&&console.warn(M),console.trace&&console.trace(),new Error("")}D.AssertType=function A(x,M,z){S(x instanceof M,z)},D.Assert=S}(U.Debug||(U.Debug={}))},43:(rt,U,R)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.Divert=void 0;const D=R(783),A=R(336),S=R(855),x=R(9),M=R(667),z=R(570),P=R(233);class N extends x.InkObject{constructor(w){super(),this._targetPath=null,this._targetPointer=M.Pointer.Null,this.variableDivertName=null,this.pushesToStack=!1,this.stackPushType=0,this.isExternal=!1,this.externalArgs=0,this.isConditional=!1,this.pushesToStack=!1,typeof w<"u"&&(this.pushesToStack=!0,this.stackPushType=w)}get targetPath(){if(null!=this._targetPath&&this._targetPath.isRelative){let w=this.targetPointer.Resolve();w&&(this._targetPath=w.path)}return this._targetPath}set targetPath(w){this._targetPath=w,this._targetPointer=M.Pointer.Null}get targetPointer(){if(this._targetPointer.isNull){let w=this.ResolvePath(this._targetPath).obj;if(null===this._targetPath)return P.throwNullException("this._targetPath");if(null===this._targetPath.lastComponent)return P.throwNullException("this._targetPath.lastComponent");if(this._targetPath.lastComponent.isIndex){if(null===w)return P.throwNullException("targetObj");this._targetPointer.container=w.parent instanceof z.Container?w.parent:null,this._targetPointer.index=this._targetPath.lastComponent.index}else this._targetPointer=M.Pointer.StartOf(w instanceof z.Container?w:null)}return this._targetPointer.copy()}get targetPathString(){return null==this.targetPath?null:this.CompactPathString(this.targetPath)}set targetPathString(w){this.targetPath=null==w?null:new D.Path(w)}get hasVariableTarget(){return null!=this.variableDivertName}Equals(w){let K=w;return K instanceof N&&this.hasVariableTarget==K.hasVariableTarget&&(this.hasVariableTarget?this.variableDivertName==K.variableDivertName:null===this.targetPath?P.throwNullException("this.targetPath"):this.targetPath.Equals(K.targetPath))}toString(){if(this.hasVariableTarget)return"Divert(variable: "+this.variableDivertName+")";if(null==this.targetPath)return"Divert(null)";{let w=new S.StringBuilder,K=this.targetPath.toString(),d=null;return null!=d&&(K="line "+d),w.Append("Divert"),this.isConditional&&w.Append("?"),this.pushesToStack&&w.Append(this.stackPushType==A.PushPopType.Function?" function":" tunnel"),w.Append(" -> "),w.Append(this.targetPathString),w.Append(" ("),w.Append(K),w.Append(")"),w.toString()}}}U.Divert=N},710:(rt,U)=>{"use strict";var D;Object.defineProperty(U,"__esModule",{value:!0}),U.ErrorType=void 0,(D=U.ErrorType||(U.ErrorType={}))[D.Author=0]="Author",D[D.Warning=1]="Warning",D[D.Error=2]="Error"},22:(rt,U,R)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.Flow=void 0;const D=R(169),A=R(976),S=R(233);U.Flow=class x{constructor(){let P=arguments[1];if(this.name=arguments[0],this.callStack=new D.CallStack(P),arguments[2]){let N=arguments[2];this.callStack.SetJsonToken(N.callstack,P),this.outputStream=A.JsonSerialisation.JArrayToRuntimeObjList(N.outputStream),this.currentChoices=A.JsonSerialisation.JArrayToRuntimeObjList(N.currentChoices);let Y=N.choiceThreads;typeof Y<"u"&&this.LoadFlowChoiceThreads(Y,P)}else this.outputStream=[],this.currentChoices=[]}WriteJson(z){z.WriteObjectStart(),z.WriteProperty("callstack",N=>this.callStack.WriteJson(N)),z.WriteProperty("outputStream",N=>A.JsonSerialisation.WriteListRuntimeObjs(N,this.outputStream));let P=!1;for(let N of this.currentChoices){if(null===N.threadAtGeneration)return S.throwNullException("c.threadAtGeneration");N.originalThreadIndex=N.threadAtGeneration.threadIndex,null===this.callStack.ThreadWithIndex(N.originalThreadIndex)&&(P||(P=!0,z.WritePropertyStart("choiceThreads"),z.WriteObjectStart()),z.WritePropertyStart(N.originalThreadIndex),N.threadAtGeneration.WriteJson(z),z.WritePropertyEnd())}P&&(z.WriteObjectEnd(),z.WritePropertyEnd()),z.WriteProperty("currentChoices",N=>{N.WriteArrayStart();for(let Y of this.currentChoices)A.JsonSerialisation.WriteChoice(N,Y);N.WriteArrayEnd()}),z.WriteObjectEnd()}LoadFlowChoiceThreads(z,P){for(let N of this.currentChoices){let Y=this.callStack.ThreadWithIndex(N.originalThreadIndex);N.threadAtGeneration=null!==Y?Y.Copy():new D.CallStack.Thread(z[`${N.originalThreadIndex}`],P)}}}},871:(rt,U,R)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.Glue=void 0;const D=R(9);U.Glue=class A extends D.InkObject{toString(){return"Glue"}}},781:(rt,U,R)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.InkList=U.InkListItem=void 0;const D=R(233),A=R(855);class S{constructor(){if(this.originName=null,this.itemName=null,typeof arguments[1]<"u"){let P=arguments[1];this.originName=arguments[0],this.itemName=P}else if(arguments[0]){let P=arguments[0].toString().split(".");this.originName=P[0],this.itemName=P[1]}}static get Null(){return new S(null,null)}get isNull(){return null==this.originName&&null==this.itemName}get fullName(){return(null!==this.originName?this.originName:"?")+"."+this.itemName}toString(){return this.fullName}Equals(z){if(z instanceof S){let P=z;return P.itemName==this.itemName&&P.originName==this.originName}return!1}copy(){return new S(this.originName,this.itemName)}serialized(){return JSON.stringify({originName:this.originName,itemName:this.itemName})}static fromSerializedKey(z){let P=JSON.parse(z);return S.isLikeInkListItem(P)?new S(P.originName,P.itemName):S.Null}static isLikeInkListItem(z){return!("object"!=typeof z||!z.hasOwnProperty("originName")||!z.hasOwnProperty("itemName")||"string"!=typeof z.originName&&null!==typeof z.originName||"string"!=typeof z.itemName&&null!==typeof z.itemName)}}U.InkListItem=S;class x extends Map{constructor(){if(super(arguments[0]instanceof x?arguments[0]:[]),this.origins=null,this._originNames=[],arguments[0]instanceof x){let z=arguments[0],P=z.originNames;null!==P&&(this._originNames=P.slice()),null!==z.origins&&(this.origins=z.origins.slice())}else if("string"==typeof arguments[0]){let z=arguments[0],P=arguments[1];if(this.SetInitialOriginName(z),null===P.listDefinitions)return D.throwNullException("originStory.listDefinitions");let N=P.listDefinitions.TryListGetDefinition(z,null);if(!N.exists)throw new Error("InkList origin could not be found in story when constructing new list: "+z);if(null===N.result)return D.throwNullException("def.result");this.origins=[N.result]}else if("object"==typeof arguments[0]&&arguments[0].hasOwnProperty("Key")&&arguments[0].hasOwnProperty("Value")){let z=arguments[0];this.Add(z.Key,z.Value)}}static FromString(z,P){var N;let Y=null===(N=P.listDefinitions)||void 0===N?void 0:N.FindSingleItemListWithName(z);if(Y)return null===Y.value?D.throwNullException("listValue.value"):new x(Y.value);throw new Error("Could not find the InkListItem from the string '"+z+"' to create an InkList because it doesn't exist in the original list definition in ink.")}AddItem(z){if(z instanceof S){let P=z;if(null==P.originName)return void this.AddItem(P.itemName);if(null===this.origins)return D.throwNullException("this.origins");for(let N of this.origins)if(N.name==P.originName){let Y=N.TryGetValueForItem(P,0);if(Y.exists)return void this.Add(P,Y.result);throw new Error("Could not add the item "+P+" to this list because it doesn't exist in the original list definition in ink.")}throw new Error("Failed to add item to list because the item was from a new list definition that wasn't previously known to this list. Only items from previously known lists can be used, so that the int value can be found.")}{let P=z,N=null;if(null===this.origins)return D.throwNullException("this.origins");for(let K of this.origins){if(null===P)return D.throwNullException("itemName");if(K.ContainsItemWithName(P)){if(null!=N)throw new Error("Could not add the item "+P+" to this list because it could come from either "+K.name+" or "+N.name);N=K}}if(null==N)throw new Error("Could not add the item "+P+" to this list because it isn't known to any list definitions previously associated with this list.");let Y=new S(N.name,P),w=N.ValueForItem(Y);this.Add(Y,w)}}ContainsItemNamed(z){for(let[P]of this)if(S.fromSerializedKey(P).itemName==z)return!0;return!1}ContainsKey(z){return this.has(z.serialized())}Add(z,P){let N=z.serialized();if(this.has(N))throw new Error(`The Map already contains an entry for ${z}`);this.set(N,P)}Remove(z){return this.delete(z.serialized())}get Count(){return this.size}get originOfMaxItem(){if(null==this.origins)return null;let z=this.maxItem.Key.originName,P=null;return this.origins.every(N=>N.name!=z||(P=N,!1)),P}get originNames(){if(this.Count>0){null==this._originNames&&this.Count>0?this._originNames=[]:(this._originNames||(this._originNames=[]),this._originNames.length=0);for(let[z]of this){let P=S.fromSerializedKey(z);if(null===P.originName)return D.throwNullException("item.originName");this._originNames.push(P.originName)}}return this._originNames}SetInitialOriginName(z){this._originNames=[z]}SetInitialOriginNames(z){this._originNames=null==z?null:z.slice()}get maxItem(){let z={Key:S.Null,Value:0};for(let[P,N]of this){let Y=S.fromSerializedKey(P);(z.Key.isNull||N>z.Value)&&(z={Key:Y,Value:N})}return z}get minItem(){let z={Key:S.Null,Value:0};for(let[P,N]of this){let Y=S.fromSerializedKey(P);(z.Key.isNull||N<z.Value)&&(z={Key:Y,Value:N})}return z}get inverse(){let z=new x;if(null!=this.origins)for(let P of this.origins)for(let[N,Y]of P.items){let w=S.fromSerializedKey(N);this.ContainsKey(w)||z.Add(w,Y)}return z}get all(){let z=new x;if(null!=this.origins)for(let P of this.origins)for(let[N,Y]of P.items){let w=S.fromSerializedKey(N);z.set(w.serialized(),Y)}return z}Union(z){let P=new x(this);for(let[N,Y]of z)P.set(N,Y);return P}Intersect(z){let P=new x;for(let[N,Y]of this)z.has(N)&&P.set(N,Y);return P}HasIntersection(z){for(let[P]of this)if(z.has(P))return!0;return!1}Without(z){let P=new x(this);for(let[N]of z)P.delete(N);return P}Contains(z){if("string"==typeof z)return this.ContainsItemNamed(z);const P=z;if(0==P.size||0==this.size)return!1;for(let[N]of P)if(!this.has(N))return!1;return!0}GreaterThan(z){return 0!=this.Count&&(0==z.Count||this.minItem.Value>z.maxItem.Value)}GreaterThanOrEquals(z){return 0!=this.Count&&(0==z.Count||this.minItem.Value>=z.minItem.Value&&this.maxItem.Value>=z.maxItem.Value)}LessThan(z){return 0!=z.Count&&(0==this.Count||this.maxItem.Value<z.minItem.Value)}LessThanOrEquals(z){return 0!=z.Count&&(0==this.Count||this.maxItem.Value<=z.maxItem.Value&&this.minItem.Value<=z.minItem.Value)}MaxAsList(){return this.Count>0?new x(this.maxItem):new x}MinAsList(){return this.Count>0?new x(this.minItem):new x}ListWithSubRange(z,P){if(0==this.Count)return new x;let N=this.orderedItems,Y=0,w=Number.MAX_SAFE_INTEGER;Number.isInteger(z)?Y=z:z instanceof x&&z.Count>0&&(Y=z.minItem.Value),Number.isInteger(P)?w=P:z instanceof x&&z.Count>0&&(w=P.maxItem.Value);let K=new x;K.SetInitialOriginNames(this.originNames);for(let d of N)d.Value>=Y&&d.Value<=w&&K.Add(d.Key,d.Value);return K}Equals(z){if(!(z instanceof x)||z.Count!=this.Count)return!1;for(let[P]of this)if(!z.has(P))return!1;return!0}get orderedItems(){let z=new Array;for(let[P,N]of this){let Y=S.fromSerializedKey(P);z.push({Key:Y,Value:N})}return z.sort((P,N)=>null===P.Key.originName?D.throwNullException("x.Key.originName"):null===N.Key.originName?D.throwNullException("y.Key.originName"):P.Value==N.Value?P.Key.originName.localeCompare(N.Key.originName):P.Value<N.Value?-1:P.Value>N.Value?1:0),z}toString(){let z=this.orderedItems,P=new A.StringBuilder;for(let N=0;N<z.length;N++){N>0&&P.Append(", ");let Y=z[N].Key;if(null===Y.itemName)return D.throwNullException("item.itemName");P.Append(Y.itemName)}return P.toString()}valueOf(){return NaN}}U.InkList=x},976:(rt,U,R)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.JsonSerialisation=void 0;const D=R(570),A=R(464),S=R(871),x=R(566),M=R(336),z=R(43),P=R(366),N=R(520),Y=R(114),w=R(322),K=R(914),d=R(339),p=R(783),_=R(934),T=R(978),W=R(65),k=R(781),O=R(774),Z=R(233);class _e{static JArrayToRuntimeObjList(X,oe=!1){let le=X.length;oe&&le--;let L=[];for(let B=0;B<le;B++){let xe=this.JTokenToRuntimeObject(X[B]);if(null===xe)return Z.throwNullException("runtimeObj");L.push(xe)}return L}static WriteDictionaryRuntimeObjs(X,oe){X.WriteObjectStart();for(let[le,L]of oe)X.WritePropertyStart(le),this.WriteRuntimeObject(X,L),X.WritePropertyEnd();X.WriteObjectEnd()}static WriteListRuntimeObjs(X,oe){X.WriteArrayStart();for(let le of oe)this.WriteRuntimeObject(X,le);X.WriteArrayEnd()}static WriteIntDictionary(X,oe){X.WriteObjectStart();for(let[le,L]of oe)X.WriteIntProperty(le,L);X.WriteObjectEnd()}static WriteRuntimeObject(X,oe){let le=O.asOrNull(oe,D.Container);if(le)return void this.WriteRuntimeContainer(X,le);let L=O.asOrNull(oe,z.Divert);if(L){let Yt,Je="->";return L.isExternal?Je="x()":L.pushesToStack&&(L.stackPushType==M.PushPopType.Function?Je="f()":L.stackPushType==M.PushPopType.Tunnel&&(Je="->t->")),Yt=L.hasVariableTarget?L.variableDivertName:L.targetPathString,X.WriteObjectStart(),X.WriteProperty(Je,Yt),L.hasVariableTarget&&X.WriteProperty("var",!0),L.isConditional&&X.WriteProperty("c",!0),L.externalArgs>0&&X.WriteIntProperty("exArgs",L.externalArgs),void X.WriteObjectEnd()}let B=O.asOrNull(oe,P.ChoicePoint);if(B)return X.WriteObjectStart(),X.WriteProperty("*",B.pathStringOnChoice),X.WriteIntProperty("flg",B.flags),void X.WriteObjectEnd();let fe=O.asOrNull(oe,A.BoolValue);if(fe)return void X.WriteBool(fe.value);let xe=O.asOrNull(oe,A.IntValue);if(xe)return void X.WriteInt(xe.value);let Ve=O.asOrNull(oe,A.FloatValue);if(Ve)return void X.WriteFloat(Ve.value);let Ye=O.asOrNull(oe,A.StringValue);if(Ye)return void(Ye.isNewline?X.Write("\n",!1):(X.WriteStringStart(),X.WriteStringInner("^"),X.WriteStringInner(Ye.value),X.WriteStringEnd()));let E=O.asOrNull(oe,A.ListValue);if(E)return void this.WriteInkList(X,E);let j=O.asOrNull(oe,A.DivertTargetValue);if(j)return X.WriteObjectStart(),null===j.value?Z.throwNullException("divTargetVal.value"):(X.WriteProperty("^->",j.value.componentsString),void X.WriteObjectEnd());let q=O.asOrNull(oe,A.VariablePointerValue);if(q)return X.WriteObjectStart(),X.WriteProperty("^var",q.value),X.WriteIntProperty("ci",q.contextIndex),void X.WriteObjectEnd();if(O.asOrNull(oe,S.Glue))return void X.Write("<>");let ge=O.asOrNull(oe,x.ControlCommand);if(ge)return void X.Write(_e._controlCommandNames[ge.commandType]);let Ne=O.asOrNull(oe,w.NativeFunctionCall);if(Ne){let Je=Ne.name;return"^"==Je&&(Je="L^"),void X.Write(Je)}let Xe=O.asOrNull(oe,N.VariableReference);if(Xe){X.WriteObjectStart();let Je=Xe.pathStringForCount;return null!=Je?X.WriteProperty("CNT?",Je):X.WriteProperty("VAR?",Xe.name),void X.WriteObjectEnd()}let $e=O.asOrNull(oe,Y.VariableAssignment);if($e)return X.WriteObjectStart(),X.WriteProperty($e.isGlobal?"VAR=":"temp=",$e.variableName),$e.isNewDeclaration||X.WriteProperty("re",!0),void X.WriteObjectEnd();if(O.asOrNull(oe,K.Void))return void X.Write("void");let g1=O.asOrNull(oe,d.Tag);if(g1)return X.WriteObjectStart(),X.WriteProperty("#",g1.text),void X.WriteObjectEnd();let bt=O.asOrNull(oe,_.Choice);if(!bt)throw new Error("Failed to convert runtime object to Json token: "+oe);this.WriteChoice(X,bt)}static JObjectToDictionaryRuntimeObjs(X){let oe=new Map;for(let le in X)if(X.hasOwnProperty(le)){let L=this.JTokenToRuntimeObject(X[le]);if(null===L)return Z.throwNullException("inkObject");oe.set(le,L)}return oe}static JObjectToIntDictionary(X){let oe=new Map;for(let le in X)X.hasOwnProperty(le)&&oe.set(le,parseInt(X[le]));return oe}static JTokenToRuntimeObject(X){if("number"==typeof X&&!isNaN(X)||"boolean"==typeof X)return A.Value.Create(X);if("string"==typeof X){let oe=X.toString(),le=oe[0];if("^"==le)return new A.StringValue(oe.substring(1));if("\n"==le&&1==oe.length)return new A.StringValue("\n");if("<>"==oe)return new S.Glue;for(let L=0;L<_e._controlCommandNames.length;++L)if(oe==_e._controlCommandNames[L])return new x.ControlCommand(L);if("L^"==oe&&(oe="^"),w.NativeFunctionCall.CallExistsWithName(oe))return w.NativeFunctionCall.CallWithName(oe);if("->->"==oe)return x.ControlCommand.PopTunnel();if("~ret"==oe)return x.ControlCommand.PopFunction();if("void"==oe)return new K.Void}if("object"==typeof X&&!Array.isArray(X)){let le,oe=X;if(oe["^->"])return le=oe["^->"],new A.DivertTargetValue(new p.Path(le.toString()));if(oe["^var"]){le=oe["^var"];let E=new A.VariablePointerValue(le.toString());return"ci"in oe&&(le=oe.ci,E.contextIndex=parseInt(le)),E}let L=!1,B=!1,fe=M.PushPopType.Function,xe=!1;if((le=oe["->"])?L=!0:(le=oe["f()"])?(L=!0,B=!0,fe=M.PushPopType.Function):(le=oe["->t->"])?(L=!0,B=!0,fe=M.PushPopType.Tunnel):(le=oe["x()"])&&(L=!0,xe=!0,B=!1,fe=M.PushPopType.Function),L){let E=new z.Divert;E.pushesToStack=B,E.stackPushType=fe,E.isExternal=xe;let j=le.toString();return(le=oe.var)?E.variableDivertName=j:E.targetPathString=j,E.isConditional=!!oe.c,xe&&(le=oe.exArgs)&&(E.externalArgs=parseInt(le)),E}if(le=oe["*"]){let E=new P.ChoicePoint;return E.pathStringOnChoice=le.toString(),(le=oe.flg)&&(E.flags=parseInt(le)),E}if(le=oe["VAR?"])return new N.VariableReference(le.toString());if(le=oe["CNT?"]){let E=new N.VariableReference;return E.pathStringForCount=le.toString(),E}let Ve=!1,Ye=!1;if((le=oe["VAR="])?(Ve=!0,Ye=!0):(le=oe["temp="])&&(Ve=!0,Ye=!1),Ve){let E=le.toString(),q=new Y.VariableAssignment(E,!oe.re);return q.isGlobal=Ye,q}if(void 0!==oe["#"])return le=oe["#"],new d.Tag(le.toString());if(le=oe.list){let E=le,j=new k.InkList;(le=oe.origins)&&j.SetInitialOriginNames(le);for(let q in E)if(E.hasOwnProperty(q)){let ne=E[q],ge=new k.InkListItem(q),Ne=parseInt(ne);j.Add(ge,Ne)}return new A.ListValue(j)}if(null!=oe.originalChoicePath)return this.JObjectToChoice(oe)}if(Array.isArray(X))return this.JArrayToContainer(X);if(null==X)return null;throw new Error("Failed to convert token to runtime object: "+this.toJson(X,["parent"]))}static toJson(X,oe,le){return JSON.stringify(X,(L,B)=>oe?.some(fe=>fe===L)?void 0:B,le)}static WriteRuntimeContainer(X,oe,le=!1){if(X.WriteArrayStart(),null===oe)return Z.throwNullException("container");for(let Ve of oe.content)this.WriteRuntimeObject(X,Ve);let L=oe.namedOnlyContent,B=oe.countFlags,fe=null!=oe.name&&!le,xe=null!=L||B>0||fe;if(xe&&X.WriteObjectStart(),null!=L)for(let[Ve,Ye]of L){let E=Ve,j=O.asOrNull(Ye,D.Container);X.WritePropertyStart(E),this.WriteRuntimeContainer(X,j,!0),X.WritePropertyEnd()}B>0&&X.WriteIntProperty("#f",B),fe&&X.WriteProperty("#n",oe.name),xe?X.WriteObjectEnd():X.WriteNull(),X.WriteArrayEnd()}static JArrayToContainer(X){let oe=new D.Container;oe.content=this.JArrayToRuntimeObjList(X,!0);let le=X[X.length-1];if(null!=le){let L=new Map;for(let B in le)if("#f"==B)oe.countFlags=parseInt(le[B]);else if("#n"==B)oe.name=le[B].toString();else{let fe=this.JTokenToRuntimeObject(le[B]),xe=O.asOrNull(fe,D.Container);xe&&(xe.name=B),L.set(B,fe)}oe.namedOnlyContent=L}return oe}static JObjectToChoice(X){let oe=new _.Choice;return oe.text=X.text.toString(),oe.index=parseInt(X.index),oe.sourcePath=X.originalChoicePath.toString(),oe.originalThreadIndex=parseInt(X.originalThreadIndex),oe.pathStringOnChoice=X.targetPath.toString(),oe}static WriteChoice(X,oe){X.WriteObjectStart(),X.WriteProperty("text",oe.text),X.WriteIntProperty("index",oe.index),X.WriteProperty("originalChoicePath",oe.sourcePath),X.WriteIntProperty("originalThreadIndex",oe.originalThreadIndex),X.WriteProperty("targetPath",oe.pathStringOnChoice),X.WriteObjectEnd()}static WriteInkList(X,oe){let le=oe.value;if(null===le)return Z.throwNullException("rawList");X.WriteObjectStart(),X.WritePropertyStart("list"),X.WriteObjectStart();for(let[L,B]of le){let fe=k.InkListItem.fromSerializedKey(L),xe=B;if(null===fe.itemName)return Z.throwNullException("item.itemName");X.WritePropertyNameStart(),X.WritePropertyNameInner(fe.originName?fe.originName:"?"),X.WritePropertyNameInner("."),X.WritePropertyNameInner(fe.itemName),X.WritePropertyNameEnd(),X.Write(xe),X.WritePropertyEnd()}if(X.WriteObjectEnd(),X.WritePropertyEnd(),0==le.Count&&null!=le.originNames&&le.originNames.length>0){X.WritePropertyStart("origins"),X.WriteArrayStart();for(let L of le.originNames)X.Write(L);X.WriteArrayEnd(),X.WritePropertyEnd()}X.WriteObjectEnd()}static ListDefinitionsToJToken(X){let oe={};for(let le of X.lists){let L={};for(let[B,fe]of le.items){let xe=k.InkListItem.fromSerializedKey(B);if(null===xe.itemName)return Z.throwNullException("item.itemName");L[xe.itemName]=fe}oe[le.name]=L}return oe}static JTokenToListDefinitions(X){let oe=X,le=[];for(let L in oe)if(oe.hasOwnProperty(L)){let B=L.toString(),fe=oe[L],xe=new Map;for(let Ye in fe)oe.hasOwnProperty(L)&&xe.set(Ye,parseInt(fe[Ye]));let Ve=new T.ListDefinition(B,xe);le.push(Ve)}return new W.ListDefinitionsOrigin(le)}}U.JsonSerialisation=_e,_e._controlCommandNames=(()=>{let Te=[];Te[x.ControlCommand.CommandType.EvalStart]="ev",Te[x.ControlCommand.CommandType.EvalOutput]="out",Te[x.ControlCommand.CommandType.EvalEnd]="/ev",Te[x.ControlCommand.CommandType.Duplicate]="du",Te[x.ControlCommand.CommandType.PopEvaluatedValue]="pop",Te[x.ControlCommand.CommandType.PopFunction]="~ret",Te[x.ControlCommand.CommandType.PopTunnel]="->->",Te[x.ControlCommand.CommandType.BeginString]="str",Te[x.ControlCommand.CommandType.EndString]="/str",Te[x.ControlCommand.CommandType.NoOp]="nop",Te[x.ControlCommand.CommandType.ChoiceCount]="choiceCnt",Te[x.ControlCommand.CommandType.Turns]="turn",Te[x.ControlCommand.CommandType.TurnsSince]="turns",Te[x.ControlCommand.CommandType.ReadCount]="readc",Te[x.ControlCommand.CommandType.Random]="rnd",Te[x.ControlCommand.CommandType.SeedRandom]="srnd",Te[x.ControlCommand.CommandType.VisitIndex]="visit",Te[x.ControlCommand.CommandType.SequenceShuffleIndex]="seq",Te[x.ControlCommand.CommandType.StartThread]="thread",Te[x.ControlCommand.CommandType.Done]="done",Te[x.ControlCommand.CommandType.End]="end",Te[x.ControlCommand.CommandType.ListFromInt]="listInt",Te[x.ControlCommand.CommandType.ListRange]="range",Te[x.ControlCommand.CommandType.ListRandom]="lrnd",Te[x.ControlCommand.CommandType.BeginTag]="#",Te[x.ControlCommand.CommandType.EndTag]="/#";for(let X=0;X<x.ControlCommand.CommandType.TOTAL_VALUES;++X)if(null==Te[X])throw new Error("Control command not accounted for in serialisation");return Te})()},978:(rt,U,R)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.ListDefinition=void 0;const D=R(781);U.ListDefinition=class A{constructor(x,M){this._name=x||"",this._items=null,this._itemNameToValues=M||new Map}get name(){return this._name}get items(){if(null==this._items){this._items=new Map;for(let[x,M]of this._itemNameToValues){let z=new D.InkListItem(this.name,x);this._items.set(z.serialized(),M)}}return this._items}ValueForItem(x){if(!x.itemName)return 0;let M=this._itemNameToValues.get(x.itemName);return typeof M<"u"?M:0}ContainsItem(x){return!(!x.itemName||x.originName!=this.name)&&this._itemNameToValues.has(x.itemName)}ContainsItemWithName(x){return this._itemNameToValues.has(x)}TryGetItemWithValue(x,M){for(let[z,P]of this._itemNameToValues)if(P==x)return{result:new D.InkListItem(this.name,z),exists:!0};return{result:D.InkListItem.Null,exists:!1}}TryGetValueForItem(x,M){if(!x.itemName)return{result:0,exists:!1};let z=this._itemNameToValues.get(x.itemName);return z?{result:z,exists:!0}:{result:0,exists:!1}}}},65:(rt,U,R)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.ListDefinitionsOrigin=void 0;const D=R(781),A=R(464),S=R(233);U.ListDefinitionsOrigin=class x{constructor(z){this._lists=new Map,this._allUnambiguousListValueCache=new Map;for(let P of z){this._lists.set(P.name,P);for(let[N,Y]of P.items){let w=D.InkListItem.fromSerializedKey(N),K=new A.ListValue(w,Y);if(!w.itemName)throw new Error("item.itemName is null or undefined.");this._allUnambiguousListValueCache.set(w.itemName,K),this._allUnambiguousListValueCache.set(w.fullName,K)}}}get lists(){let z=[];for(let[,P]of this._lists)z.push(P);return z}TryListGetDefinition(z,P){if(null===z)return{result:P,exists:!1};let N=this._lists.get(z);return N?{result:N,exists:!0}:{result:P,exists:!1}}FindSingleItemListWithName(z){if(null===z)return S.throwNullException("name");let P=this._allUnambiguousListValueCache.get(z);return typeof P<"u"?P:null}}},322:(rt,U,R)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.NativeFunctionCall=void 0;const D=R(464),A=R(27),S=R(914),x=R(781),M=R(9),z=R(774),P=R(233);class N extends M.InkObject{constructor(){if(super(),this._name=null,this._numberOfParameters=0,this._prototype=null,this._isPrototype=!1,this._operationFuncs=null,0===arguments.length)N.GenerateNativeFunctionsIfNecessary();else if(1===arguments.length){let w=arguments[0];N.GenerateNativeFunctionsIfNecessary(),this.name=w}else if(2===arguments.length){let w=arguments[0],K=arguments[1];this._isPrototype=!0,this.name=w,this.numberOfParameters=K}}static CallWithName(w){return new N(w)}static CallExistsWithName(w){return this.GenerateNativeFunctionsIfNecessary(),this._nativeFunctions.get(w)}get name(){return null===this._name?P.throwNullException("NativeFunctionCall._name"):this._name}set name(w){this._name=w,this._isPrototype||(null===N._nativeFunctions?P.throwNullException("NativeFunctionCall._nativeFunctions"):this._prototype=N._nativeFunctions.get(this._name)||null)}get numberOfParameters(){return this._prototype?this._prototype.numberOfParameters:this._numberOfParameters}set numberOfParameters(w){this._numberOfParameters=w}Call(w){if(this._prototype)return this._prototype.Call(w);if(this.numberOfParameters!=w.length)throw new Error("Unexpected number of parameters");let K=!1;for(let _ of w){if(_ instanceof S.Void)throw new A.StoryException('Attempting to perform operation on a void value. Did you forget to "return" a value from a function you called here?');_ instanceof D.ListValue&&(K=!0)}if(2==w.length&&K)return this.CallBinaryListOperation(w);let d=this.CoerceValuesToSingleType(w),p=d[0].valueType;return p==D.ValueType.Int||p==D.ValueType.Float||p==D.ValueType.String||p==D.ValueType.DivertTarget||p==D.ValueType.List?this.CallType(d):null}CallType(w){let K=z.asOrThrows(w[0],D.Value),d=K.valueType,p=K,_=w.length;if(2==_||1==_){if(null===this._operationFuncs)return P.throwNullException("NativeFunctionCall._operationFuncs");let T=this._operationFuncs.get(d);if(!T)throw new A.StoryException("Cannot perform operation "+this.name+" on "+D.ValueType[d]);if(2==_){let k=z.asOrThrows(w[1],D.Value),O=T;if(null===p.value||null===k.value)return P.throwNullException("NativeFunctionCall.Call BinaryOp values");let Z=O(p.value,k.value);return D.Value.Create(Z)}{let W=T;if(null===p.value)return P.throwNullException("NativeFunctionCall.Call UnaryOp value");let k=W(p.value);return D.Value.Create(k,this.name===N.Int?D.ValueType.Int:this.name===N.Float?D.ValueType.Float:K.valueType)}}throw new Error("Unexpected number of parameters to NativeFunctionCall: "+w.length)}CallBinaryListOperation(w){if(("+"==this.name||"-"==this.name)&&w[0]instanceof D.ListValue&&w[1]instanceof D.IntValue)return this.CallListIncrementOperation(w);let K=z.asOrThrows(w[0],D.Value),d=z.asOrThrows(w[1],D.Value);if(!("&&"!=this.name&&"||"!=this.name||K.valueType==D.ValueType.List&&d.valueType==D.ValueType.List)){if(null===this._operationFuncs)return P.throwNullException("NativeFunctionCall._operationFuncs");let p=this._operationFuncs.get(D.ValueType.Int);if(null===p)return P.throwNullException("NativeFunctionCall.CallBinaryListOperation op");let _=z.asBooleanOrThrows(p(K.isTruthy?1:0,d.isTruthy?1:0));return new D.BoolValue(_)}if(K.valueType==D.ValueType.List&&d.valueType==D.ValueType.List)return this.CallType([K,d]);throw new A.StoryException("Can not call use "+this.name+" operation on "+D.ValueType[K.valueType]+" and "+D.ValueType[d.valueType])}CallListIncrementOperation(w){let K=z.asOrThrows(w[0],D.ListValue),d=z.asOrThrows(w[1],D.IntValue),p=new x.InkList;if(null===K.value)return P.throwNullException("NativeFunctionCall.CallListIncrementOperation listVal.value");for(let[_,T]of K.value){let W=x.InkListItem.fromSerializedKey(_);if(null===this._operationFuncs)return P.throwNullException("NativeFunctionCall._operationFuncs");let k=this._operationFuncs.get(D.ValueType.Int);if(null===d.value)return P.throwNullException("NativeFunctionCall.CallListIncrementOperation intVal.value");let O=k(T,d.value),Z=null;if(null===K.value.origins)return P.throwNullException("NativeFunctionCall.CallListIncrementOperation listVal.value.origins");for(let _e of K.value.origins)if(_e.name==W.originName){Z=_e;break}if(null!=Z){let _e=Z.TryGetItemWithValue(O,x.InkListItem.Null);_e.exists&&p.Add(_e.result,O)}}return new D.ListValue(p)}CoerceValuesToSingleType(w){let K=D.ValueType.Int,d=null;for(let _ of w){let T=z.asOrThrows(_,D.Value);T.valueType>K&&(K=T.valueType),T.valueType==D.ValueType.List&&(d=z.asOrNull(T,D.ListValue))}let p=[];if(D.ValueType[K]==D.ValueType[D.ValueType.List])for(let _ of w){let T=z.asOrThrows(_,D.Value);if(T.valueType==D.ValueType.List)p.push(T);else{if(T.valueType!=D.ValueType.Int)throw new A.StoryException("Cannot mix Lists and "+D.ValueType[T.valueType]+" values in this operation");{let W=parseInt(T.valueObject);if(d=z.asOrThrows(d,D.ListValue),null===d.value)return P.throwNullException("NativeFunctionCall.CoerceValuesToSingleType specialCaseList.value");let k=d.value.originOfMaxItem;if(null===k)return P.throwNullException("NativeFunctionCall.CoerceValuesToSingleType list");let O=k.TryGetItemWithValue(W,x.InkListItem.Null);if(!O.exists)throw new A.StoryException("Could not find List item with the value "+W+" in "+k.name);{let Z=new D.ListValue(O.result,W);p.push(Z)}}}}else for(let _ of w){let W=z.asOrThrows(_,D.Value).Cast(K);p.push(W)}return p}static Identity(w){return w}static GenerateNativeFunctionsIfNecessary(){if(null==this._nativeFunctions){this._nativeFunctions=new Map,this.AddIntBinaryOp(this.Add,(d,p)=>d+p),this.AddIntBinaryOp(this.Subtract,(d,p)=>d-p),this.AddIntBinaryOp(this.Multiply,(d,p)=>d*p),this.AddIntBinaryOp(this.Divide,(d,p)=>Math.floor(d/p)),this.AddIntBinaryOp(this.Mod,(d,p)=>d%p),this.AddIntUnaryOp(this.Negate,d=>-d),this.AddIntBinaryOp(this.Equal,(d,p)=>d==p),this.AddIntBinaryOp(this.Greater,(d,p)=>d>p),this.AddIntBinaryOp(this.Less,(d,p)=>d<p),this.AddIntBinaryOp(this.GreaterThanOrEquals,(d,p)=>d>=p),this.AddIntBinaryOp(this.LessThanOrEquals,(d,p)=>d<=p),this.AddIntBinaryOp(this.NotEquals,(d,p)=>d!=p),this.AddIntUnaryOp(this.Not,d=>0==d),this.AddIntBinaryOp(this.And,(d,p)=>0!=d&&0!=p),this.AddIntBinaryOp(this.Or,(d,p)=>0!=d||0!=p),this.AddIntBinaryOp(this.Max,(d,p)=>Math.max(d,p)),this.AddIntBinaryOp(this.Min,(d,p)=>Math.min(d,p)),this.AddIntBinaryOp(this.Pow,(d,p)=>Math.pow(d,p)),this.AddIntUnaryOp(this.Floor,N.Identity),this.AddIntUnaryOp(this.Ceiling,N.Identity),this.AddIntUnaryOp(this.Int,N.Identity),this.AddIntUnaryOp(this.Float,d=>d),this.AddFloatBinaryOp(this.Add,(d,p)=>d+p),this.AddFloatBinaryOp(this.Subtract,(d,p)=>d-p),this.AddFloatBinaryOp(this.Multiply,(d,p)=>d*p),this.AddFloatBinaryOp(this.Divide,(d,p)=>d/p),this.AddFloatBinaryOp(this.Mod,(d,p)=>d%p),this.AddFloatUnaryOp(this.Negate,d=>-d),this.AddFloatBinaryOp(this.Equal,(d,p)=>d==p),this.AddFloatBinaryOp(this.Greater,(d,p)=>d>p),this.AddFloatBinaryOp(this.Less,(d,p)=>d<p),this.AddFloatBinaryOp(this.GreaterThanOrEquals,(d,p)=>d>=p),this.AddFloatBinaryOp(this.LessThanOrEquals,(d,p)=>d<=p),this.AddFloatBinaryOp(this.NotEquals,(d,p)=>d!=p),this.AddFloatUnaryOp(this.Not,d=>0==d),this.AddFloatBinaryOp(this.And,(d,p)=>0!=d&&0!=p),this.AddFloatBinaryOp(this.Or,(d,p)=>0!=d||0!=p),this.AddFloatBinaryOp(this.Max,(d,p)=>Math.max(d,p)),this.AddFloatBinaryOp(this.Min,(d,p)=>Math.min(d,p)),this.AddFloatBinaryOp(this.Pow,(d,p)=>Math.pow(d,p)),this.AddFloatUnaryOp(this.Floor,d=>Math.floor(d)),this.AddFloatUnaryOp(this.Ceiling,d=>Math.ceil(d)),this.AddFloatUnaryOp(this.Int,d=>Math.floor(d)),this.AddFloatUnaryOp(this.Float,N.Identity),this.AddStringBinaryOp(this.Add,(d,p)=>d+p),this.AddStringBinaryOp(this.Equal,(d,p)=>d===p),this.AddStringBinaryOp(this.NotEquals,(d,p)=>d!==p),this.AddStringBinaryOp(this.Has,(d,p)=>d.includes(p)),this.AddStringBinaryOp(this.Hasnt,(d,p)=>!d.includes(p)),this.AddListBinaryOp(this.Add,(d,p)=>d.Union(p)),this.AddListBinaryOp(this.Subtract,(d,p)=>d.Without(p)),this.AddListBinaryOp(this.Has,(d,p)=>d.Contains(p)),this.AddListBinaryOp(this.Hasnt,(d,p)=>!d.Contains(p)),this.AddListBinaryOp(this.Intersect,(d,p)=>d.Intersect(p)),this.AddListBinaryOp(this.Equal,(d,p)=>d.Equals(p)),this.AddListBinaryOp(this.Greater,(d,p)=>d.GreaterThan(p)),this.AddListBinaryOp(this.Less,(d,p)=>d.LessThan(p)),this.AddListBinaryOp(this.GreaterThanOrEquals,(d,p)=>d.GreaterThanOrEquals(p)),this.AddListBinaryOp(this.LessThanOrEquals,(d,p)=>d.LessThanOrEquals(p)),this.AddListBinaryOp(this.NotEquals,(d,p)=>!d.Equals(p)),this.AddListBinaryOp(this.And,(d,p)=>d.Count>0&&p.Count>0),this.AddListBinaryOp(this.Or,(d,p)=>d.Count>0||p.Count>0),this.AddListUnaryOp(this.Not,d=>0==d.Count?1:0),this.AddListUnaryOp(this.Invert,d=>d.inverse),this.AddListUnaryOp(this.All,d=>d.all),this.AddListUnaryOp(this.ListMin,d=>d.MinAsList()),this.AddListUnaryOp(this.ListMax,d=>d.MaxAsList()),this.AddListUnaryOp(this.Count,d=>d.Count),this.AddListUnaryOp(this.ValueOfList,d=>d.maxItem.Value);let K=(d,p)=>!d.Equals(p);this.AddOpToNativeFunc(this.Equal,2,D.ValueType.DivertTarget,(d,p)=>d.Equals(p)),this.AddOpToNativeFunc(this.NotEquals,2,D.ValueType.DivertTarget,K)}}AddOpFuncForType(w,K){null==this._operationFuncs&&(this._operationFuncs=new Map),this._operationFuncs.set(w,K)}static AddOpToNativeFunc(w,K,d,p){if(null===this._nativeFunctions)return P.throwNullException("NativeFunctionCall._nativeFunctions");let _=this._nativeFunctions.get(w);_||(_=new N(w,K),this._nativeFunctions.set(w,_)),_.AddOpFuncForType(d,p)}static AddIntBinaryOp(w,K){this.AddOpToNativeFunc(w,2,D.ValueType.Int,K)}static AddIntUnaryOp(w,K){this.AddOpToNativeFunc(w,1,D.ValueType.Int,K)}static AddFloatBinaryOp(w,K){this.AddOpToNativeFunc(w,2,D.ValueType.Float,K)}static AddFloatUnaryOp(w,K){this.AddOpToNativeFunc(w,1,D.ValueType.Float,K)}static AddStringBinaryOp(w,K){this.AddOpToNativeFunc(w,2,D.ValueType.String,K)}static AddListBinaryOp(w,K){this.AddOpToNativeFunc(w,2,D.ValueType.List,K)}static AddListUnaryOp(w,K){this.AddOpToNativeFunc(w,1,D.ValueType.List,K)}toString(){return'Native "'+this.name+'"'}}U.NativeFunctionCall=N,N.Add="+",N.Subtract="-",N.Divide="/",N.Multiply="*",N.Mod="%",N.Negate="_",N.Equal="==",N.Greater=">",N.Less="<",N.GreaterThanOrEquals=">=",N.LessThanOrEquals="<=",N.NotEquals="!=",N.Not="!",N.And="&&",N.Or="||",N.Min="MIN",N.Max="MAX",N.Pow="POW",N.Floor="FLOOR",N.Ceiling="CEILING",N.Int="INT",N.Float="FLOAT",N.Has="?",N.Hasnt="!?",N.Intersect="^",N.ListMin="LIST_MIN",N.ListMax="LIST_MAX",N.All="LIST_ALL",N.Count="LIST_COUNT",N.ValueOfList="LIST_VALUE",N.Invert="LIST_INVERT",N._nativeFunctions=null},233:(rt,U)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.throwNullException=U.NullException=void 0;class R extends Error{}U.NullException=R,U.throwNullException=function D(A){throw new R(`${A} is null or undefined`)}},9:(rt,U,R)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.InkObject=void 0;const D=R(783),A=R(570),S=R(731),x=R(774),M=R(233);U.InkObject=class z{constructor(){this.parent=null,this._debugMetadata=null,this._path=null}get debugMetadata(){return null===this._debugMetadata&&this.parent?this.parent.debugMetadata:this._debugMetadata}set debugMetadata(N){this._debugMetadata=N}get ownDebugMetadata(){return this._debugMetadata}DebugLineNumberOfPath(N){if(null===N)return null;let Y=this.rootContentContainer;if(Y){let w=Y.ContentAtPath(N).obj;if(w){let K=w.debugMetadata;if(null!==K)return K.startLineNumber}}return null}get path(){if(null==this._path)if(null==this.parent)this._path=new D.Path;else{let N=[],Y=this,w=x.asOrNull(Y.parent,A.Container);for(;null!==w;){let K=x.asINamedContentOrNull(Y);if(null!=K&&K.hasValidName){if(null===K.name)return M.throwNullException("namedChild.name");N.unshift(new D.Path.Component(K.name))}else N.unshift(new D.Path.Component(w.content.indexOf(Y)));Y=w,w=x.asOrNull(w.parent,A.Container)}this._path=new D.Path(N)}return this._path}ResolvePath(N){if(null===N)return M.throwNullException("path");if(N.isRelative){let Y=x.asOrNull(this,A.Container);return null===Y&&(S.Debug.Assert(null!==this.parent,"Can't resolve relative path because we don't have a parent"),Y=x.asOrNull(this.parent,A.Container),S.Debug.Assert(null!==Y,"Expected parent to be a container"),S.Debug.Assert(N.GetComponent(0).isParent),N=N.tail),null===Y?M.throwNullException("nearestContainer"):Y.ContentAtPath(N)}{let Y=this.rootContentContainer;return null===Y?M.throwNullException("contentContainer"):Y.ContentAtPath(N)}}ConvertPathToRelative(N){let Y=this.path,w=Math.min(N.length,Y.length),K=-1;for(let T=0;T<w;++T){let W=Y.GetComponent(T),k=N.GetComponent(T);if(!W.Equals(k))break;K=T}if(-1==K)return N;let d=Y.componentCount-1-K,p=[];for(let T=0;T<d;++T)p.push(D.Path.Component.ToParent());for(let T=K+1;T<N.componentCount;++T)p.push(N.GetComponent(T));return new D.Path(p,!0)}CompactPathString(N){let Y=null,w=null;return N.isRelative?(w=N.componentsString,Y=this.path.PathByAppendingPath(N).componentsString):(w=this.ConvertPathToRelative(N).componentsString,Y=N.componentsString),w.length<Y.length?w:Y}get rootContentContainer(){let N=this;for(;N.parent;)N=N.parent;return x.asOrNull(N,A.Container)}Copy(){throw Error("Not Implemented: Doesn't support copying")}SetChild(N,Y,w){N[Y]&&(N[Y]=null),N[Y]=w,N[Y]&&(N[Y].parent=this)}Equals(N){return N===this}}},188:(rt,U)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.PRNG=void 0,U.PRNG=class R{constructor(A){this.seed=A%2147483647,this.seed<=0&&(this.seed+=2147483646)}next(){return this.seed=48271*this.seed%2147483647}nextFloat(){return(this.next()-1)/2147483646}}},783:(rt,U)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.Path=void 0;class R{constructor(){if(this._components=[],this._componentsString=null,this._isRelative=!1,"string"==typeof arguments[0])this.componentsString=arguments[0];else if(arguments[0]instanceof R.Component&&arguments[1]instanceof R){let S=arguments[1];this._components.push(arguments[0]),this._components=this._components.concat(S._components)}else if(arguments[0]instanceof Array){let S=!!arguments[1];this._components=this._components.concat(arguments[0]),this._isRelative=S}}get isRelative(){return this._isRelative}get componentCount(){return this._components.length}get head(){return this._components.length>0?this._components[0]:null}get tail(){if(this._components.length>=2){let A=this._components.slice(1,this._components.length);return new R(A)}return R.self}get length(){return this._components.length}get lastComponent(){let A=this._components.length-1;return A>=0?this._components[A]:null}get containsNamedComponent(){for(let A=0,S=this._components.length;A<S;A++)if(!this._components[A].isIndex)return!0;return!1}static get self(){let A=new R;return A._isRelative=!0,A}GetComponent(A){return this._components[A]}PathByAppendingPath(A){let S=new R,x=0;for(let M=0;M<A._components.length&&A._components[M].isParent;++M)x++;for(let M=0;M<this._components.length-x;++M)S._components.push(this._components[M]);for(let M=x;M<A._components.length;++M)S._components.push(A._components[M]);return S}get componentsString(){return null==this._componentsString&&(this._componentsString=this._components.join("."),this.isRelative&&(this._componentsString="."+this._componentsString)),this._componentsString}set componentsString(A){if(this._components.length=0,this._componentsString=A,null==this._componentsString||""==this._componentsString)return;"."==this._componentsString[0]&&(this._isRelative=!0,this._componentsString=this._componentsString.substring(1));let S=this._componentsString.split(".");for(let x of S)/^(\-|\+)?([0-9]+|Infinity)$/.test(x)?this._components.push(new R.Component(parseInt(x))):this._components.push(new R.Component(x))}toString(){return this.componentsString}Equals(A){if(null==A||A._components.length!=this._components.length||A.isRelative!=this.isRelative)return!1;for(let S=0,x=A._components.length;S<x;S++)if(!A._components[S].Equals(this._components[S]))return!1;return!0}PathByAppendingComponent(A){let S=new R;return S._components.push(...this._components),S._components.push(A),S}}U.Path=R,R.parentId="^",function(D){class A{constructor(x){this.index=-1,this.name=null,"string"==typeof x?this.name=x:this.index=x}get isIndex(){return this.index>=0}get isParent(){return this.name==D.parentId}static ToParent(){return new A(D.parentId)}toString(){return this.isIndex?this.index.toString():this.name}Equals(x){return null!=x&&x.isIndex==this.isIndex&&(this.isIndex?this.index==x.index:this.name==x.name)}}D.Component=A}(R=U.Path||(U.Path={}))},667:(rt,U,R)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.Pointer=void 0;const D=R(783);class A{constructor(){this.container=null,this.index=-1,2===arguments.length&&(this.container=arguments[0],this.index=arguments[1])}Resolve(){return this.index<0?this.container:null==this.container?null:0==this.container.content.length?this.container:this.index>=this.container.content.length?null:this.container.content[this.index]}get isNull(){return null==this.container}get path(){return this.isNull?null:this.index>=0?this.container.path.PathByAppendingComponent(new D.Path.Component(this.index)):this.container.path}toString(){return this.container?"Ink Pointer -> "+this.container.path.toString()+" -- index "+this.index:"Ink Pointer (null)"}copy(){return new A(this.container,this.index)}static StartOf(x){return new A(x,0)}static get Null(){return new A(null,-1)}}U.Pointer=A},336:(rt,U)=>{"use strict";var D;Object.defineProperty(U,"__esModule",{value:!0}),U.PushPopType=void 0,(D=U.PushPopType||(U.PushPopType={}))[D.Tunnel=0]="Tunnel",D[D.Function=1]="Function",D[D.FunctionEvaluationFromGame=2]="FunctionEvaluationFromGame"},946:(rt,U,R)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.SearchResult=void 0;const D=R(570);class A{constructor(){this.obj=null,this.approximate=!1}get correctObj(){return this.approximate?null:this.obj}get container(){return this.obj instanceof D.Container?this.obj:null}copy(){let x=new A;return x.obj=this.obj,x.approximate=this.approximate,x}}U.SearchResult=A},288:(rt,U)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.SimpleJson=void 0;class R{static TextToDictionary(A){return new R.Reader(A).ToDictionary()}static TextToArray(A){return new R.Reader(A).ToArray()}}U.SimpleJson=R,function(D){D.Reader=class A{constructor(M){this._rootObject=JSON.parse(M)}ToDictionary(){return this._rootObject}ToArray(){return this._rootObject}};class S{constructor(){this._currentPropertyName=null,this._currentString=null,this._stateStack=[],this._collectionStack=[],this._propertyNameStack=[],this._jsonObject=null}WriteObject(M){this.WriteObjectStart(),M(this),this.WriteObjectEnd()}WriteObjectStart(){this.StartNewObject(!0);let M={};if(this.state===D.Writer.State.Property){this.Assert(null!==this.currentCollection),this.Assert(null!==this.currentPropertyName);let z=this._propertyNameStack.pop();this.currentCollection[z]=M,this._collectionStack.push(M)}else this.state===D.Writer.State.Array?(this.Assert(null!==this.currentCollection),this.currentCollection.push(M),this._collectionStack.push(M)):(this.Assert(this.state===D.Writer.State.None),this._jsonObject=M,this._collectionStack.push(M));this._stateStack.push(new D.Writer.StateElement(D.Writer.State.Object))}WriteObjectEnd(){this.Assert(this.state===D.Writer.State.Object),this._collectionStack.pop(),this._stateStack.pop()}WriteProperty(M,z){this.WritePropertyStart(M),arguments[1]instanceof Function?(0,arguments[1])(this):this.Write(arguments[1]),this.WritePropertyEnd()}WriteIntProperty(M,z){this.WritePropertyStart(M),this.WriteInt(z),this.WritePropertyEnd()}WriteFloatProperty(M,z){this.WritePropertyStart(M),this.WriteFloat(z),this.WritePropertyEnd()}WritePropertyStart(M){this.Assert(this.state===D.Writer.State.Object),this._propertyNameStack.push(M),this.IncrementChildCount(),this._stateStack.push(new D.Writer.StateElement(D.Writer.State.Property))}WritePropertyEnd(){this.Assert(this.state===D.Writer.State.Property),this.Assert(1===this.childCount),this._stateStack.pop()}WritePropertyNameStart(){this.Assert(this.state===D.Writer.State.Object),this.IncrementChildCount(),this._currentPropertyName="",this._stateStack.push(new D.Writer.StateElement(D.Writer.State.Property)),this._stateStack.push(new D.Writer.StateElement(D.Writer.State.PropertyName))}WritePropertyNameEnd(){this.Assert(this.state===D.Writer.State.PropertyName),this.Assert(null!==this._currentPropertyName),this._propertyNameStack.push(this._currentPropertyName),this._currentPropertyName=null,this._stateStack.pop()}WritePropertyNameInner(M){this.Assert(this.state===D.Writer.State.PropertyName),this.Assert(null!==this._currentPropertyName),this._currentPropertyName+=M}WriteArrayStart(){this.StartNewObject(!0);let M=[];if(this.state===D.Writer.State.Property){this.Assert(null!==this.currentCollection),this.Assert(null!==this.currentPropertyName);let z=this._propertyNameStack.pop();this.currentCollection[z]=M,this._collectionStack.push(M)}else this.state===D.Writer.State.Array?(this.Assert(null!==this.currentCollection),this.currentCollection.push(M),this._collectionStack.push(M)):(this.Assert(this.state===D.Writer.State.None),this._jsonObject=M,this._collectionStack.push(M));this._stateStack.push(new D.Writer.StateElement(D.Writer.State.Array))}WriteArrayEnd(){this.Assert(this.state===D.Writer.State.Array),this._collectionStack.pop(),this._stateStack.pop()}Write(M,z=!0){null!==M?(this.StartNewObject(!1),this._addToCurrentObject(M)):console.error("Warning: trying to write a null value")}WriteBool(M){null!==M&&(this.StartNewObject(!1),this._addToCurrentObject(M))}WriteInt(M){null!==M&&(this.StartNewObject(!1),this._addToCurrentObject(Math.floor(M)))}WriteFloat(M){null!==M&&(this.StartNewObject(!1),M==Number.POSITIVE_INFINITY?this._addToCurrentObject(34e37):M==Number.NEGATIVE_INFINITY?this._addToCurrentObject(-34e37):isNaN(M)?this._addToCurrentObject(0):this._addToCurrentObject(M))}WriteNull(){this.StartNewObject(!1),this._addToCurrentObject(null)}WriteStringStart(){this.StartNewObject(!1),this._currentString="",this._stateStack.push(new D.Writer.StateElement(D.Writer.State.String))}WriteStringEnd(){this.Assert(this.state==D.Writer.State.String),this._stateStack.pop(),this._addToCurrentObject(this._currentString),this._currentString=null}WriteStringInner(M,z=!0){this.Assert(this.state===D.Writer.State.String),null!==M?this._currentString+=M:console.error("Warning: trying to write a null string")}toString(){return null===this._jsonObject?"":JSON.stringify(this._jsonObject)}StartNewObject(M){this.Assert(M?this.state===D.Writer.State.None||this.state===D.Writer.State.Property||this.state===D.Writer.State.Array:this.state===D.Writer.State.Property||this.state===D.Writer.State.Array),this.state===D.Writer.State.Property&&this.Assert(0===this.childCount),(this.state===D.Writer.State.Array||this.state===D.Writer.State.Property)&&this.IncrementChildCount()}get state(){return this._stateStack.length>0?this._stateStack[this._stateStack.length-1].type:D.Writer.State.None}get childCount(){return this._stateStack.length>0?this._stateStack[this._stateStack.length-1].childCount:0}get currentCollection(){return this._collectionStack.length>0?this._collectionStack[this._collectionStack.length-1]:null}get currentPropertyName(){return this._propertyNameStack.length>0?this._propertyNameStack[this._propertyNameStack.length-1]:null}IncrementChildCount(){this.Assert(this._stateStack.length>0);let M=this._stateStack.pop();M.childCount++,this._stateStack.push(M)}Assert(M){if(!M)throw Error("Assert failed while writing JSON")}_addToCurrentObject(M){this.Assert(null!==this.currentCollection),this.state===D.Writer.State.Array?(this.Assert(Array.isArray(this.currentCollection)),this.currentCollection.push(M)):this.state===D.Writer.State.Property&&(this.Assert(!Array.isArray(this.currentCollection)),this.Assert(null!==this.currentPropertyName),this.currentCollection[this.currentPropertyName]=M,this._propertyNameStack.pop())}}D.Writer=S,function(x){let M;var P;(P=M=x.State||(x.State={}))[P.None=0]="None",P[P.Object=1]="Object",P[P.Array=2]="Array",P[P.Property=3]="Property",P[P.PropertyName=4]="PropertyName",P[P.String=5]="String",x.StateElement=class z{constructor(N){this.type=D.Writer.State.None,this.childCount=0,this.type=N}}}(S=D.Writer||(D.Writer={}))}(R=U.SimpleJson||(U.SimpleJson={}))},328:(rt,U)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.StatePatch=void 0,U.StatePatch=class R{constructor(){if(this._changedVariables=new Set,this._visitCounts=new Map,this._turnIndices=new Map,1===arguments.length&&null!==arguments[0]){let A=arguments[0];this._globals=new Map(A._globals),this._changedVariables=new Set(A._changedVariables),this._visitCounts=new Map(A._visitCounts),this._turnIndices=new Map(A._turnIndices)}else this._globals=new Map,this._changedVariables=new Set,this._visitCounts=new Map,this._turnIndices=new Map}get globals(){return this._globals}get changedVariables(){return this._changedVariables}get visitCounts(){return this._visitCounts}get turnIndices(){return this._turnIndices}TryGetGlobal(A,S){return null!==A&&this._globals.has(A)?{result:this._globals.get(A),exists:!0}:{result:S,exists:!1}}SetGlobal(A,S){this._globals.set(A,S)}AddChangedVariable(A){return this._changedVariables.add(A)}TryGetVisitCount(A,S){return this._visitCounts.has(A)?{result:this._visitCounts.get(A),exists:!0}:{result:S,exists:!1}}SetVisitCount(A,S){this._visitCounts.set(A,S)}SetTurnIndex(A,S){this._turnIndices.set(A,S)}TryGetTurnIndex(A,S){return this._turnIndices.has(A)?{result:this._turnIndices.get(A),exists:!0}:{result:S,exists:!1}}}},563:(rt,U)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.Stopwatch=void 0,U.Stopwatch=class R{constructor(){this.startTime=void 0}get ElapsedMilliseconds(){return typeof this.startTime>"u"?0:(new Date).getTime()-this.startTime}Start(){this.startTime=(new Date).getTime()}Stop(){this.startTime=void 0}}},467:(rt,U,R)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.Story=U.InkList=void 0;const D=R(570),A=R(9),S=R(976),x=R(300),M=R(566),z=R(336),P=R(366),N=R(934),Y=R(43),w=R(464),K=R(783),d=R(914),p=R(339),_=R(114),T=R(520),W=R(322),k=R(27),O=R(188),Z=R(855),_e=R(65),Te=R(563),X=R(667),oe=R(781),le=R(774),L=R(233),B=R(288),fe=R(710);var xe=R(781);Object.defineProperty(U,"InkList",{enumerable:!0,get:function(){return xe.InkList}}),Number.isInteger||(Number.isInteger=function(E){return"number"==typeof E&&isFinite(E)&&E>-9007199254740992&&E<9007199254740992&&Math.floor(E)===E});class Ve extends A.InkObject{constructor(){super(),this.inkVersionMinimumCompatible=18,this.onError=null,this.onDidContinue=null,this.onMakeChoice=null,this.onEvaluateFunction=null,this.onCompleteEvaluateFunction=null,this.onChoosePathString=null,this._prevContainers=[],this.allowExternalFunctionFallbacks=!1,this._listDefinitions=null,this._variableObservers=null,this._hasValidatedExternals=!1,this._temporaryEvaluationContainer=null,this._asyncContinueActive=!1,this._stateSnapshotAtLastNewline=null,this._sawLookaheadUnsafeFunctionAfterNewline=!1,this._recursiveContinueCount=0,this._asyncSaving=!1,this._profiler=null;let E,j=null,q=null;if(arguments[0]instanceof D.Container?(E=arguments[0],typeof arguments[1]<"u"&&(j=arguments[1]),this._mainContentContainer=E):q="string"==typeof arguments[0]?B.SimpleJson.TextToDictionary(arguments[0]):arguments[0],null!=j&&(this._listDefinitions=new _e.ListDefinitionsOrigin(j)),this._externals=new Map,null!==q){let ne=q,ge=ne.inkVersion;if(null==ge)throw new Error("ink version number not found. Are you sure it's a valid .ink.json file?");let Ne=parseInt(ge);if(Ne>Ve.inkVersionCurrent)throw new Error("Version of ink used to build story was newer than the current version of the engine");if(Ne<this.inkVersionMinimumCompatible)throw new Error("Version of ink used to build story is too old to be loaded by this version of the engine");Ne!=Ve.inkVersionCurrent&&console.warn("WARNING: Version of ink used to build story doesn't match current version of engine. Non-critical, but recommend synchronising.");let $e,Xe=ne.root;if(null==Xe)throw new Error("Root node for ink not found. Are you sure it's a valid .ink.json file?");($e=ne.listDefs)&&(this._listDefinitions=S.JsonSerialisation.JTokenToListDefinitions($e)),this._mainContentContainer=le.asOrThrows(S.JsonSerialisation.JTokenToRuntimeObject(Xe),D.Container),this.ResetState()}}get currentChoices(){let E=[];if(null===this._state)return L.throwNullException("this._state");for(let j of this._state.currentChoices)j.isInvisibleDefault||(j.index=E.length,E.push(j));return E}get currentText(){return this.IfAsyncWeCant("call currentText since it's a work in progress"),this.state.currentText}get currentTags(){return this.IfAsyncWeCant("call currentTags since it's a work in progress"),this.state.currentTags}get currentErrors(){return this.state.currentErrors}get currentWarnings(){return this.state.currentWarnings}get currentFlowName(){return this.state.currentFlowName}get currentFlowIsDefaultFlow(){return this.state.currentFlowIsDefaultFlow}get aliveFlowNames(){return this.state.aliveFlowNames}get hasError(){return this.state.hasError}get hasWarning(){return this.state.hasWarning}get variablesState(){return this.state.variablesState}get listDefinitions(){return this._listDefinitions}get state(){return this._state}StartProfiling(){}EndProfiling(){}ToJson(E){let j=!1;if(E||(j=!0,E=new B.SimpleJson.Writer),E.WriteObjectStart(),E.WriteIntProperty("inkVersion",Ve.inkVersionCurrent),E.WriteProperty("root",q=>S.JsonSerialisation.WriteRuntimeContainer(q,this._mainContentContainer)),null!=this._listDefinitions){E.WritePropertyStart("listDefs"),E.WriteObjectStart();for(let q of this._listDefinitions.lists){E.WritePropertyStart(q.name),E.WriteObjectStart();for(let[ne,ge]of q.items){let Ne=oe.InkListItem.fromSerializedKey(ne);E.WriteIntProperty(Ne.itemName,ge)}E.WriteObjectEnd(),E.WritePropertyEnd()}E.WriteObjectEnd(),E.WritePropertyEnd()}if(E.WriteObjectEnd(),j)return E.toString()}ResetState(){this.IfAsyncWeCant("ResetState"),this._state=new x.StoryState(this),this._state.variablesState.ObserveVariableChange(this.VariableStateDidChangeEvent.bind(this)),this.ResetGlobals()}ResetErrors(){if(null===this._state)return L.throwNullException("this._state");this._state.ResetErrors()}ResetCallstack(){if(this.IfAsyncWeCant("ResetCallstack"),null===this._state)return L.throwNullException("this._state");this._state.ForceEnd()}ResetGlobals(){if(this._mainContentContainer.namedContent.get("global decl")){let E=this.state.currentPointer.copy();this.ChoosePath(new K.Path("global decl"),!1),this.ContinueInternal(),this.state.currentPointer=E}this.state.variablesState.SnapshotDefaultGlobals()}SwitchFlow(E){if(this.IfAsyncWeCant("switch flow"),this._asyncSaving)throw new Error("Story is already in background saving mode, can't switch flow to "+E);this.state.SwitchFlow_Internal(E)}RemoveFlow(E){this.state.RemoveFlow_Internal(E)}SwitchToDefaultFlow(){this.state.SwitchToDefaultFlow_Internal()}Continue(){return this.ContinueAsync(0),this.currentText}get canContinue(){return this.state.canContinue}get asyncContinueComplete(){return!this._asyncContinueActive}ContinueAsync(E){this._hasValidatedExternals||this.ValidateExternalBindings(),this.ContinueInternal(E)}ContinueInternal(E=0){null!=this._profiler&&this._profiler.PreContinue();let j=E>0;if(this._recursiveContinueCount++,!this._asyncContinueActive){if(this._asyncContinueActive=j,!this.canContinue)throw new Error("Can't continue - should check canContinue before calling Continue");this._state.didSafeExit=!1,this._state.ResetOutput(),1==this._recursiveContinueCount&&(this._state.variablesState.batchObservingVariableChanges=!0)}let q=new Te.Stopwatch;q.Start();let ne=!1;this._sawLookaheadUnsafeFunctionAfterNewline=!1;do{try{ne=this.ContinueSingleStep()}catch(ge){if(!(ge instanceof k.StoryException))throw ge;this.AddError(ge.message,void 0,ge.useEndLineNumber);break}if(ne||this._asyncContinueActive&&q.ElapsedMilliseconds>E)break}while(this.canContinue);if(q.Stop(),(ne||!this.canContinue)&&(null!==this._stateSnapshotAtLastNewline&&this.RestoreStateSnapshot(),this.canContinue||(this.state.callStack.canPopThread&&this.AddError("Thread available to pop, threads should always be flat by the end of evaluation?"),0==this.state.generatedChoices.length&&!this.state.didSafeExit&&null==this._temporaryEvaluationContainer&&(this.state.callStack.CanPop(z.PushPopType.Tunnel)?this.AddError("unexpectedly reached end of content. Do you need a '->->' to return from a tunnel?"):this.state.callStack.CanPop(z.PushPopType.Function)?this.AddError("unexpectedly reached end of content. Do you need a '~ return'?"):this.AddError(this.state.callStack.canPop?"unexpectedly reached end of content for unknown reason. Please debug compiler!":"ran out of content. Do you need a '-> DONE' or '-> END'?"))),this.state.didSafeExit=!1,this._sawLookaheadUnsafeFunctionAfterNewline=!1,1==this._recursiveContinueCount&&(this._state.variablesState.batchObservingVariableChanges=!1),this._asyncContinueActive=!1,null!==this.onDidContinue&&this.onDidContinue()),this._recursiveContinueCount--,null!=this._profiler&&this._profiler.PostContinue(),this.state.hasError||this.state.hasWarning){if(null===this.onError){let ge=new Z.StringBuilder;throw ge.Append("Ink had "),this.state.hasError&&(ge.Append(`${this.state.currentErrors.length}`),ge.Append(1==this.state.currentErrors.length?" error":"errors"),this.state.hasWarning&&ge.Append(" and ")),this.state.hasWarning&&(ge.Append(`${this.state.currentWarnings.length}`),ge.Append(1==this.state.currentWarnings.length?" warning":"warnings"),this.state.hasWarning&&ge.Append(" and ")),ge.Append(". It is strongly suggested that you assign an error handler to story.onError. The first issue was: "),ge.Append(this.state.hasError?this.state.currentErrors[0]:this.state.currentWarnings[0]),new k.StoryException(ge.toString())}if(this.state.hasError)for(let ge of this.state.currentErrors)this.onError(ge,fe.ErrorType.Error);if(this.state.hasWarning)for(let ge of this.state.currentWarnings)this.onError(ge,fe.ErrorType.Warning);this.ResetErrors()}}ContinueSingleStep(){if(null!=this._profiler&&this._profiler.PreStep(),this.Step(),null!=this._profiler&&this._profiler.PostStep(),!this.canContinue&&!this.state.callStack.elementIsEvaluateFromGame&&this.TryFollowDefaultInvisibleChoice(),null!=this._profiler&&this._profiler.PreSnapshot(),!this.state.inStringEvaluation){if(null!==this._stateSnapshotAtLastNewline){if(null===this._stateSnapshotAtLastNewline.currentTags)return L.throwNullException("this._stateAtLastNewline.currentTags");if(null===this.state.currentTags)return L.throwNullException("this.state.currentTags");let E=this.CalculateNewlineOutputStateChange(this._stateSnapshotAtLastNewline.currentText,this.state.currentText,this._stateSnapshotAtLastNewline.currentTags.length,this.state.currentTags.length);if(E==Ve.OutputStateChange.ExtendedBeyondNewline||this._sawLookaheadUnsafeFunctionAfterNewline)return this.RestoreStateSnapshot(),!0;E==Ve.OutputStateChange.NewlineRemoved&&this.DiscardSnapshot()}this.state.outputStreamEndsInNewline&&(this.canContinue?null==this._stateSnapshotAtLastNewline&&this.StateSnapshot():this.DiscardSnapshot())}return null!=this._profiler&&this._profiler.PostSnapshot(),!1}CalculateNewlineOutputStateChange(E,j,q,ne){if(null===E)return L.throwNullException("prevText");if(null===j)return L.throwNullException("currText");let ge=j.length>=E.length&&E.length>0&&"\n"==j.charAt(E.length-1);if(q==ne&&E.length==j.length&&ge)return Ve.OutputStateChange.NoChange;if(!ge)return Ve.OutputStateChange.NewlineRemoved;if(ne>q)return Ve.OutputStateChange.ExtendedBeyondNewline;for(let Ne=E.length;Ne<j.length;Ne++){let Xe=j.charAt(Ne);if(" "!=Xe&&"\t"!=Xe)return Ve.OutputStateChange.ExtendedBeyondNewline}return Ve.OutputStateChange.NoChange}ContinueMaximally(){this.IfAsyncWeCant("ContinueMaximally");let E=new Z.StringBuilder;for(;this.canContinue;)E.Append(this.Continue());return E.toString()}ContentAtPath(E){return this.mainContentContainer.ContentAtPath(E)}KnotContainerWithName(E){let j=this.mainContentContainer.namedContent.get(E);return j instanceof D.Container?j:null}PointerAtPath(E){if(0==E.length)return X.Pointer.Null;let j=new X.Pointer,q=E.length,ne=null;return null===E.lastComponent?L.throwNullException("path.lastComponent"):(E.lastComponent.isIndex?(q=E.length-1,ne=this.mainContentContainer.ContentAtPath(E,void 0,q),j.container=ne.container,j.index=E.lastComponent.index):(ne=this.mainContentContainer.ContentAtPath(E),j.container=ne.container,j.index=-1),null==ne.obj||ne.obj==this.mainContentContainer&&q>0?this.Error("Failed to find content at path '"+E+"', and no approximation of it was possible."):ne.approximate&&this.Warning("Failed to find content at path '"+E+"', so it was approximated to: '"+ne.obj.path+"'."),j)}StateSnapshot(){this._stateSnapshotAtLastNewline=this._state,this._state=this._state.CopyAndStartPatching()}RestoreStateSnapshot(){null===this._stateSnapshotAtLastNewline&&L.throwNullException("_stateSnapshotAtLastNewline"),this._stateSnapshotAtLastNewline.RestoreAfterPatch(),this._state=this._stateSnapshotAtLastNewline,this._stateSnapshotAtLastNewline=null,this._asyncSaving||this._state.ApplyAnyPatch()}DiscardSnapshot(){this._asyncSaving||this._state.ApplyAnyPatch(),this._stateSnapshotAtLastNewline=null}CopyStateForBackgroundThreadSave(){if(this.IfAsyncWeCant("start saving on a background thread"),this._asyncSaving)throw new Error("Story is already in background saving mode, can't call CopyStateForBackgroundThreadSave again!");let E=this._state;return this._state=this._state.CopyAndStartPatching(),this._asyncSaving=!0,E}BackgroundSaveComplete(){null===this._stateSnapshotAtLastNewline&&this._state.ApplyAnyPatch(),this._asyncSaving=!1}Step(){let E=!0,j=this.state.currentPointer.copy();if(j.isNull)return;let q=le.asOrNull(j.Resolve(),D.Container);for(;q&&(this.VisitContainer(q,!0),0!=q.content.length);)j=X.Pointer.StartOf(q),q=le.asOrNull(j.Resolve(),D.Container);this.state.currentPointer=j.copy(),null!=this._profiler&&this._profiler.Step(this.state.callStack);let ne=j.Resolve(),ge=this.PerformLogicAndFlowControl(ne);if(this.state.currentPointer.isNull)return;ge&&(E=!1);let Ne=le.asOrNull(ne,P.ChoicePoint);if(Ne){let $e=this.ProcessChoice(Ne);$e&&this.state.generatedChoices.push($e),ne=null,E=!1}if(ne instanceof D.Container&&(E=!1),E){let $e=le.asOrNull(ne,w.VariablePointerValue);if($e&&-1==$e.contextIndex){let z2=this.state.callStack.ContextForVariableNamed($e.variableName);ne=new w.VariablePointerValue($e.variableName,z2)}this.state.inExpressionEvaluation?this.state.PushEvaluationStack(ne):this.state.PushToOutputStream(ne)}this.NextContent();let Xe=le.asOrNull(ne,M.ControlCommand);Xe&&Xe.commandType==M.ControlCommand.CommandType.StartThread&&this.state.callStack.PushThread()}VisitContainer(E,j){(!E.countingAtStartOnly||j)&&(E.visitsShouldBeCounted&&this.state.IncrementVisitCountForContainer(E),E.turnIndexShouldBeCounted&&this.state.RecordTurnIndexVisitToContainer(E))}VisitChangedContainersDueToDivert(){let E=this.state.previousPointer.copy(),j=this.state.currentPointer.copy();if(j.isNull||-1==j.index)return;if(this._prevContainers.length=0,!E.isNull){let Ne=E.Resolve(),Xe=le.asOrNull(Ne,D.Container)||le.asOrNull(E.container,D.Container);for(;Xe;)this._prevContainers.push(Xe),Xe=le.asOrNull(Xe.parent,D.Container)}let q=j.Resolve();if(null==q)return;let ne=le.asOrNull(q.parent,D.Container),ge=!0;for(;ne&&(this._prevContainers.indexOf(ne)<0||ne.countingAtStartOnly);){let Ne=ne.content.length>0&&q==ne.content[0]&&ge;Ne||(ge=!1),this.VisitContainer(ne,Ne),q=ne,ne=le.asOrNull(ne.parent,D.Container)}}PopChoiceStringAndTags(E){let j=le.asOrThrows(this.state.PopEvaluationStack(),w.StringValue);for(;this.state.evaluationStack.length>0&&null!=le.asOrNull(this.state.PeekEvaluationStack(),p.Tag);){let q=le.asOrNull(this.state.PopEvaluationStack(),p.Tag);q&&E.push(q.text)}return j.value}ProcessChoice(E){let j=!0;if(E.hasCondition){let Xe=this.state.PopEvaluationStack();this.IsTruthy(Xe)||(j=!1)}let q="",ne="",ge=[];if(E.hasChoiceOnlyContent&&(ne=this.PopChoiceStringAndTags(ge)||""),E.hasStartContent&&(q=this.PopChoiceStringAndTags(ge)||""),E.onceOnly&&this.state.VisitCountForContainer(E.choiceTarget)>0&&(j=!1),!j)return null;let Ne=new N.Choice;return Ne.targetPath=E.pathOnChoice,Ne.sourcePath=E.path.toString(),Ne.isInvisibleDefault=E.isInvisibleDefault,Ne.threadAtGeneration=this.state.callStack.ForkThread(),Ne.tags=ge.reverse(),Ne.text=(q+ne).replace(/^[ \t]+|[ \t]+$/g,""),Ne}IsTruthy(E){if(E instanceof w.Value){let q=E;return q instanceof w.DivertTargetValue?(this.Error("Shouldn't use a divert target (to "+q.targetPath+") as a conditional value. Did you intend a function call 'likeThis()' or a read count check 'likeThis'? (no arrows)"),!1):q.isTruthy}return!1}PerformLogicAndFlowControl(E){if(null==E)return!1;if(E instanceof Y.Divert){let j=E;if(j.isConditional){let q=this.state.PopEvaluationStack();if(!this.IsTruthy(q))return!0}if(j.hasVariableTarget){let q=j.variableDivertName,ne=this.state.variablesState.GetVariableWithName(q);if(null==ne)this.Error("Tried to divert using a target from a variable that could not be found ("+q+")");else if(!(ne instanceof w.DivertTargetValue)){let Ne=le.asOrNull(ne,w.IntValue),Xe="Tried to divert to a target from a variable, but the variable ("+q+") didn't contain a divert target, it ";Xe+=Ne instanceof w.IntValue&&0==Ne.value?"was empty/null (the value 0).":"contained '"+ne+"'.",this.Error(Xe)}let ge=le.asOrThrows(ne,w.DivertTargetValue);this.state.divertedPointer=this.PointerAtPath(ge.targetPath)}else{if(j.isExternal)return this.CallExternalFunction(j.targetPathString,j.externalArgs),!0;this.state.divertedPointer=j.targetPointer.copy()}return j.pushesToStack&&this.state.callStack.Push(j.stackPushType,void 0,this.state.outputStream.length),this.state.divertedPointer.isNull&&!j.isExternal&&this.Error(j&&j.debugMetadata&&null!=j.debugMetadata.sourceName?"Divert target doesn't exist: "+j.debugMetadata.sourceName:"Divert resolution failed: "+j),!0}if(E instanceof M.ControlCommand){let j=E;switch(j.commandType){case M.ControlCommand.CommandType.EvalStart:this.Assert(!1===this.state.inExpressionEvaluation,"Already in expression evaluation?"),this.state.inExpressionEvaluation=!0;break;case M.ControlCommand.CommandType.EvalEnd:this.Assert(!0===this.state.inExpressionEvaluation,"Not in expression evaluation mode"),this.state.inExpressionEvaluation=!1;break;case M.ControlCommand.CommandType.EvalOutput:if(this.state.evaluationStack.length>0){let vt=this.state.PopEvaluationStack();if(!(vt instanceof d.Void)){let It=new w.StringValue(vt.toString());this.state.PushToOutputStream(It)}}break;case M.ControlCommand.CommandType.NoOp:break;case M.ControlCommand.CommandType.Duplicate:this.state.PushEvaluationStack(this.state.PeekEvaluationStack());break;case M.ControlCommand.CommandType.PopEvaluatedValue:this.state.PopEvaluationStack();break;case M.ControlCommand.CommandType.PopFunction:case M.ControlCommand.CommandType.PopTunnel:let q=j.commandType==M.ControlCommand.CommandType.PopFunction?z.PushPopType.Function:z.PushPopType.Tunnel,ne=null;if(q==z.PushPopType.Tunnel){let vt=this.state.PopEvaluationStack();ne=le.asOrNull(vt,w.DivertTargetValue),null===ne&&this.Assert(vt instanceof d.Void,"Expected void if ->-> doesn't override target")}if(this.state.TryExitFunctionEvaluationFromGame())break;if(this.state.callStack.currentElement.type==q&&this.state.callStack.canPop)this.state.PopCallStack(),ne&&(this.state.divertedPointer=this.PointerAtPath(ne.targetPath));else{let vt=new Map;vt.set(z.PushPopType.Function,"function return statement (~ return)"),vt.set(z.PushPopType.Tunnel,"tunnel onwards statement (->->)");let It=vt.get(this.state.callStack.currentElement.type);this.state.callStack.canPop||(It="end of flow (-> END or choice)");let c2="Found "+vt.get(q)+", when expected "+It;this.Error(c2)}break;case M.ControlCommand.CommandType.BeginString:this.state.PushToOutputStream(j),this.Assert(!0===this.state.inExpressionEvaluation,"Expected to be in an expression when evaluating a string"),this.state.inExpressionEvaluation=!1;break;case M.ControlCommand.CommandType.BeginTag:this.state.PushToOutputStream(j);break;case M.ControlCommand.CommandType.EndTag:if(this.state.inStringEvaluation){let vt=[],It=0;for(let N2=this.state.outputStream.length-1;N2>=0;--N2){let C2=this.state.outputStream[N2];It++;let Q1=le.asOrNull(C2,M.ControlCommand);if(null!=Q1){if(Q1.commandType==M.ControlCommand.CommandType.BeginTag)break;this.Error("Unexpected ControlCommand while extracting tag from choice");break}C2 instanceof w.StringValue&&vt.push(C2)}this.state.PopFromOutputStream(It);let c2=new Z.StringBuilder;for(let N2 of vt)c2.Append(N2.toString());let X1=new p.Tag(this.state.CleanOutputWhitespace(c2.toString()));this.state.PushEvaluationStack(X1)}else this.state.PushToOutputStream(j);break;case M.ControlCommand.CommandType.EndString:{let vt=[],It=[],c2=0;for(let N2=this.state.outputStream.length-1;N2>=0;--N2){let C2=this.state.outputStream[N2];c2++;let Q1=le.asOrNull(C2,M.ControlCommand);if(Q1&&Q1.commandType==M.ControlCommand.CommandType.BeginString)break;C2 instanceof p.Tag&&It.push(C2),C2 instanceof w.StringValue&&vt.push(C2)}this.state.PopFromOutputStream(c2);for(let N2 of It)this.state.PushToOutputStream(N2);vt=vt.reverse();let X1=new Z.StringBuilder;for(let N2 of vt)X1.Append(N2.toString());this.state.inExpressionEvaluation=!0,this.state.PushEvaluationStack(new w.StringValue(X1.toString()));break}case M.ControlCommand.CommandType.ChoiceCount:this.state.PushEvaluationStack(new w.IntValue(this.state.generatedChoices.length));break;case M.ControlCommand.CommandType.Turns:this.state.PushEvaluationStack(new w.IntValue(this.state.currentTurnIndex+1));break;case M.ControlCommand.CommandType.TurnsSince:case M.ControlCommand.CommandType.ReadCount:let Ne=this.state.PopEvaluationStack();if(!(Ne instanceof w.DivertTargetValue)){let vt="";Ne instanceof w.IntValue&&(vt=". Did you accidentally pass a read count ('knot_name') instead of a target ('-> knot_name')?"),this.Error("TURNS_SINCE / READ_COUNT expected a divert target (knot, stitch, label name), but saw "+Ne+vt);break}let z2,Xe=le.asOrThrows(Ne,w.DivertTargetValue),$e=le.asOrNull(this.ContentAtPath(Xe.targetPath).correctObj,D.Container);null!=$e?z2=j.commandType==M.ControlCommand.CommandType.TurnsSince?this.state.TurnsSinceForContainer($e):this.state.VisitCountForContainer($e):(z2=j.commandType==M.ControlCommand.CommandType.TurnsSince?-1:0,this.Warning("Failed to find container for "+j.toString()+" lookup at "+Xe.targetPath.toString())),this.state.PushEvaluationStack(new w.IntValue(z2));break;case M.ControlCommand.CommandType.Random:{let vt=le.asOrNull(this.state.PopEvaluationStack(),w.IntValue),It=le.asOrNull(this.state.PopEvaluationStack(),w.IntValue);if(null==It||!(It instanceof w.IntValue))return this.Error("Invalid value for minimum parameter of RANDOM(min, max)");if(null==vt||!(It instanceof w.IntValue))return this.Error("Invalid value for maximum parameter of RANDOM(min, max)");if(null===vt.value)return L.throwNullException("maxInt.value");if(null===It.value)return L.throwNullException("minInt.value");let c2=vt.value-It.value+1;(!isFinite(c2)||c2>Number.MAX_SAFE_INTEGER)&&(c2=Number.MAX_SAFE_INTEGER,this.Error("RANDOM was called with a range that exceeds the size that ink numbers can use.")),c2<=0&&this.Error("RANDOM was called with minimum as "+It.value+" and maximum as "+vt.value+". The maximum must be larger");let C2=new O.PRNG(this.state.storySeed+this.state.previousRandom).next();this.state.PushEvaluationStack(new w.IntValue(C2%c2+It.value)),this.state.previousRandom=C2;break}case M.ControlCommand.CommandType.SeedRandom:let g1=le.asOrNull(this.state.PopEvaluationStack(),w.IntValue);if(null==g1||!(g1 instanceof w.IntValue))return this.Error("Invalid value passed to SEED_RANDOM");if(null===g1.value)return L.throwNullException("minInt.value");this.state.storySeed=g1.value,this.state.previousRandom=0,this.state.PushEvaluationStack(new d.Void);break;case M.ControlCommand.CommandType.VisitIndex:let bt=this.state.VisitCountForContainer(this.state.currentPointer.container)-1;this.state.PushEvaluationStack(new w.IntValue(bt));break;case M.ControlCommand.CommandType.SequenceShuffleIndex:let Je=this.NextSequenceShuffleIndex();this.state.PushEvaluationStack(new w.IntValue(Je));break;case M.ControlCommand.CommandType.StartThread:break;case M.ControlCommand.CommandType.Done:this.state.callStack.canPopThread?this.state.callStack.PopThread():(this.state.didSafeExit=!0,this.state.currentPointer=X.Pointer.Null);break;case M.ControlCommand.CommandType.End:this.state.ForceEnd();break;case M.ControlCommand.CommandType.ListFromInt:let Yt=le.asOrNull(this.state.PopEvaluationStack(),w.IntValue),Re=le.asOrThrows(this.state.PopEvaluationStack(),w.StringValue);if(null===Yt)throw new k.StoryException("Passed non-integer when creating a list element from a numerical value.");let vn=null;if(null===this.listDefinitions)return L.throwNullException("this.listDefinitions");let el=this.listDefinitions.TryListGetDefinition(Re.value,null);if(!el.exists)throw new k.StoryException("Failed to find LIST called "+Re.value);{if(null===Yt.value)return L.throwNullException("minInt.value");let vt=el.result.TryGetItemWithValue(Yt.value,oe.InkListItem.Null);vt.exists&&(vn=new w.ListValue(vt.result,Yt.value))}null==vn&&(vn=new w.ListValue),this.state.PushEvaluationStack(vn);break;case M.ControlCommand.CommandType.ListRange:let t4=le.asOrNull(this.state.PopEvaluationStack(),w.Value),tl=le.asOrNull(this.state.PopEvaluationStack(),w.Value),Ca=le.asOrNull(this.state.PopEvaluationStack(),w.ListValue);if(null===Ca||null===tl||null===t4)throw new k.StoryException("Expected list, minimum and maximum for LIST_RANGE");if(null===Ca.value)return L.throwNullException("targetList.value");let Pf=Ca.value.ListWithSubRange(tl.valueObject,t4.valueObject);this.state.PushEvaluationStack(new w.ListValue(Pf));break;case M.ControlCommand.CommandType.ListRandom:{let vt=this.state.PopEvaluationStack();if(null===vt)throw new k.StoryException("Expected list for LIST_RANDOM");let It=vt.value,c2=null;if(null===It)throw L.throwNullException("list");if(0==It.Count)c2=new oe.InkList;else{let C2=new O.PRNG(this.state.storySeed+this.state.previousRandom).next(),Q1=C2%It.Count,nl=It.entries();for(let Cn=0;Cn<=Q1-1;Cn++)nl.next();let il=nl.next().value,n4={Key:oe.InkListItem.fromSerializedKey(il[0]),Value:il[1]};if(null===n4.Key.originName)return L.throwNullException("randomItem.Key.originName");c2=new oe.InkList(n4.Key.originName,this),c2.Add(n4.Key,n4.Value),this.state.previousRandom=C2}this.state.PushEvaluationStack(new w.ListValue(c2));break}default:this.Error("unhandled ControlCommand: "+j)}return!0}if(E instanceof _.VariableAssignment){let j=E,q=this.state.PopEvaluationStack();return this.state.variablesState.Assign(j,q),!0}if(E instanceof T.VariableReference){let j=E,q=null;if(null!=j.pathForCount){let ge=this.state.VisitCountForContainer(j.containerForCount);q=new w.IntValue(ge)}else q=this.state.variablesState.GetVariableWithName(j.name),null==q&&(this.Warning("Variable not found: '"+j.name+"'. Using default value of 0 (false). This can happen with temporary variables if the declaration hasn't yet been hit. Globals are always given a default value on load if a value doesn't exist in the save state."),q=new w.IntValue(0));return this.state.PushEvaluationStack(q),!0}if(E instanceof W.NativeFunctionCall){let j=E,q=this.state.PopEvaluationStack(j.numberOfParameters),ne=j.Call(q);return this.state.PushEvaluationStack(ne),!0}return!1}ChoosePathString(E,j=!0,q=[]){if(this.IfAsyncWeCant("call ChoosePathString right now"),null!==this.onChoosePathString&&this.onChoosePathString(E,q),j)this.ResetCallstack();else if(this.state.callStack.currentElement.type==z.PushPopType.Function){let ne="",ge=this.state.callStack.currentElement.currentPointer.container;throw null!=ge&&(ne="("+ge.path.toString()+") "),new Error("Story was running a function "+ne+"when you called ChoosePathString("+E+") - this is almost certainly not not what you want! Full stack trace: \n"+this.state.callStack.callStackTrace)}this.state.PassArgumentsToEvaluationStack(q),this.ChoosePath(new K.Path(E))}IfAsyncWeCant(E){if(this._asyncContinueActive)throw new Error("Can't "+E+". Story is in the middle of a ContinueAsync(). Make more ContinueAsync() calls or a single Continue() call beforehand.")}ChoosePath(E,j=!0){this.state.SetChosenPath(E,j),this.VisitChangedContainersDueToDivert()}ChooseChoiceIndex(E){let j=this.currentChoices;this.Assert(E>=0&&E<j.length,"choice out of range");let q=j[E];return null!==this.onMakeChoice&&this.onMakeChoice(q),null===q.threadAtGeneration?L.throwNullException("choiceToChoose.threadAtGeneration"):null===q.targetPath?L.throwNullException("choiceToChoose.targetPath"):(this.state.callStack.currentThread=q.threadAtGeneration,void this.ChoosePath(q.targetPath))}HasFunction(E){try{return null!=this.KnotContainerWithName(E)}catch{return!1}}EvaluateFunction(E,j=[],q=!1){if(null!==this.onEvaluateFunction&&this.onEvaluateFunction(E,j),this.IfAsyncWeCant("evaluate a function"),null==E)throw new Error("Function is null");if(""==E||""==E.trim())throw new Error("Function is empty or white space.");let ne=this.KnotContainerWithName(E);if(null==ne)throw new Error("Function doesn't exist: '"+E+"'");let ge=[];ge.push(...this.state.outputStream),this._state.ResetOutput(),this.state.StartFunctionEvaluationFromGame(ne,j);let Ne=new Z.StringBuilder;for(;this.canContinue;)Ne.Append(this.Continue());let Xe=Ne.toString();this._state.ResetOutput(ge);let $e=this.state.CompleteFunctionEvaluationFromGame();return null!=this.onCompleteEvaluateFunction&&this.onCompleteEvaluateFunction(E,j,Xe,$e),q?{returned:$e,output:Xe}:$e}EvaluateExpression(E){let j=this.state.callStack.elements.length;this.state.callStack.Push(z.PushPopType.Tunnel),this._temporaryEvaluationContainer=E,this.state.GoToStart();let q=this.state.evaluationStack.length;return this.Continue(),this._temporaryEvaluationContainer=null,this.state.callStack.elements.length>j&&this.state.PopCallStack(),this.state.evaluationStack.length>q?this.state.PopEvaluationStack():null}CallExternalFunction(E,j){if(null===E)return L.throwNullException("funcName");let q=this._externals.get(E),ne=null,ge=typeof q<"u";if(ge&&!q.lookAheadSafe&&null!==this._stateSnapshotAtLastNewline)return void(this._sawLookaheadUnsafeFunctionAfterNewline=!0);if(!ge){if(this.allowExternalFunctionFallbacks)return ne=this.KnotContainerWithName(E),this.Assert(null!==ne,"Trying to call EXTERNAL function '"+E+"' which has not been bound, and fallback ink function could not be found."),this.state.callStack.Push(z.PushPopType.Function,void 0,this.state.outputStream.length),void(this.state.divertedPointer=X.Pointer.StartOf(ne));this.Assert(!1,"Trying to call EXTERNAL function '"+E+"' which has not been bound (and ink fallbacks disabled).")}let Ne=[];for(let z2=0;z2<j;++z2){let bt=le.asOrThrows(this.state.PopEvaluationStack(),w.Value).valueObject;Ne.push(bt)}Ne.reverse();let Xe=q.function(Ne),$e=null;null!=Xe?($e=w.Value.Create(Xe),this.Assert(null!==$e,"Could not create ink value from returned object of type "+typeof Xe)):$e=new d.Void,this.state.PushEvaluationStack($e)}BindExternalFunctionGeneral(E,j,q=!0){this.IfAsyncWeCant("bind an external function"),this.Assert(!this._externals.has(E),"Function '"+E+"' has already been bound."),this._externals.set(E,{function:j,lookAheadSafe:q})}TryCoerce(E){return E}BindExternalFunction(E,j,q=!1){this.Assert(null!=j,"Can't bind a null function"),this.BindExternalFunctionGeneral(E,ne=>{this.Assert(ne.length>=j.length,"External function expected "+j.length+" arguments");let ge=[];for(let Ne=0,Xe=ne.length;Ne<Xe;Ne++)ge[Ne]=this.TryCoerce(ne[Ne]);return j.apply(null,ge)},q)}UnbindExternalFunction(E){this.IfAsyncWeCant("unbind an external a function"),this.Assert(this._externals.has(E),"Function '"+E+"' has not been bound."),this._externals.delete(E)}ValidateExternalBindings(){let E=null,j=null,q=arguments[1]||new Set;if(arguments[0]instanceof D.Container&&(E=arguments[0]),arguments[0]instanceof A.InkObject&&(j=arguments[0]),null===E&&null===j)if(this.ValidateExternalBindings(this._mainContentContainer,q),this._hasValidatedExternals=!0,0==q.size)this._hasValidatedExternals=!0;else{let ne="Error: Missing function binding for external";ne+=q.size>1?"s":"",ne+=": '",ne+=Array.from(q).join("', '"),ne+="' ",ne+=this.allowExternalFunctionFallbacks?", and no fallback ink function found.":" (ink fallbacks disabled)",this.Error(ne)}else if(null!=E){for(let ne of E.content){let ge=ne;(null==ge||!ge.hasValidName)&&this.ValidateExternalBindings(ne,q)}for(let[,ne]of E.namedContent)this.ValidateExternalBindings(le.asOrNull(ne,A.InkObject),q)}else if(null!=j){let ne=le.asOrNull(j,Y.Divert);if(ne&&ne.isExternal){let ge=ne.targetPathString;if(null===ge)return L.throwNullException("name");this._externals.has(ge)||this.allowExternalFunctionFallbacks&&this.mainContentContainer.namedContent.has(ge)||q.add(ge)}}}ObserveVariable(E,j){if(this.IfAsyncWeCant("observe a new variable"),null===this._variableObservers&&(this._variableObservers=new Map),!this.state.variablesState.GlobalVariableExistsWithName(E))throw new Error("Cannot observe variable '"+E+"' because it wasn't declared in the ink story.");this._variableObservers.has(E)?this._variableObservers.get(E).push(j):this._variableObservers.set(E,[j])}ObserveVariables(E,j){for(let q=0,ne=E.length;q<ne;q++)this.ObserveVariable(E[q],j[q])}RemoveVariableObserver(E,j){if(this.IfAsyncWeCant("remove a variable observer"),null!==this._variableObservers)if(null!=j){if(this._variableObservers.has(j))if(null!=E){let q=this._variableObservers.get(j);null!=q&&(q.splice(q.indexOf(E),1),0===q.length&&this._variableObservers.delete(j))}else this._variableObservers.delete(j)}else if(null!=E){let q=this._variableObservers.keys();for(let ne of q){let ge=this._variableObservers.get(ne);null!=ge&&(ge.splice(ge.indexOf(E),1),0===ge.length&&this._variableObservers.delete(ne))}}}VariableStateDidChangeEvent(E,j){if(null===this._variableObservers)return;let q=this._variableObservers.get(E);if(typeof q<"u"){if(!(j instanceof w.Value))throw new Error("Tried to get the value of a variable that isn't a standard type");let ne=le.asOrThrows(j,w.Value);for(let ge of q)ge(E,ne.valueObject)}}get globalTags(){return this.TagsAtStartOfFlowContainerWithPathString("")}TagsForContentAtPath(E){return this.TagsAtStartOfFlowContainerWithPathString(E)}TagsAtStartOfFlowContainerWithPathString(E){let j=new K.Path(E),q=this.ContentAtPath(j).container;if(null===q)return L.throwNullException("flowContainer");for(;;){let Ne=q.content[0];if(!(Ne instanceof D.Container))break;q=Ne}let ne=!1,ge=null;for(let Ne of q.content){let Xe=le.asOrNull(Ne,M.ControlCommand);if(null!=Xe)Xe.commandType==M.ControlCommand.CommandType.BeginTag?ne=!0:Xe.commandType==M.ControlCommand.CommandType.EndTag&&(ne=!1);else{if(!ne)break;{let $e=le.asOrNull(Ne,w.StringValue);null!==$e?(null===ge&&(ge=[]),null!==$e.value&&ge.push($e.value)):this.Error("Tag contained non-text content. Only plain text is allowed when using globalTags or TagsAtContentPath. If you want to evaluate dynamic content, you need to use story.Continue().")}}}return ge}BuildStringOfHierarchy(){let E=new Z.StringBuilder;return this.mainContentContainer.BuildStringOfHierarchy(E,0,this.state.currentPointer.Resolve()),E.toString()}BuildStringOfContainer(E){let j=new Z.StringBuilder;return E.BuildStringOfHierarchy(j,0,this.state.currentPointer.Resolve()),j.toString()}NextContent(){if(this.state.previousPointer=this.state.currentPointer.copy(),(this.state.divertedPointer.isNull||(this.state.currentPointer=this.state.divertedPointer.copy(),this.state.divertedPointer=X.Pointer.Null,this.VisitChangedContainersDueToDivert(),this.state.currentPointer.isNull))&&!this.IncrementContentPointer()){let j=!1;this.state.callStack.CanPop(z.PushPopType.Function)?(this.state.PopCallStack(z.PushPopType.Function),this.state.inExpressionEvaluation&&this.state.PushEvaluationStack(new d.Void),j=!0):this.state.callStack.canPopThread?(this.state.callStack.PopThread(),j=!0):this.state.TryExitFunctionEvaluationFromGame(),j&&!this.state.currentPointer.isNull&&this.NextContent()}}IncrementContentPointer(){let E=!0,j=this.state.callStack.currentElement.currentPointer.copy();if(j.index++,null===j.container)return L.throwNullException("pointer.container");for(;j.index>=j.container.content.length;){E=!1;let q=le.asOrNull(j.container.parent,D.Container);if(!(q instanceof D.Container))break;let ne=q.content.indexOf(j.container);if(-1==ne)break;if(j=new X.Pointer(q,ne),j.index++,E=!0,null===j.container)return L.throwNullException("pointer.container")}return E||(j=X.Pointer.Null),this.state.callStack.currentElement.currentPointer=j.copy(),E}TryFollowDefaultInvisibleChoice(){let E=this._state.currentChoices,j=E.filter(ne=>ne.isInvisibleDefault);if(0==j.length||E.length>j.length)return!1;let q=j[0];return null===q.targetPath?L.throwNullException("choice.targetPath"):null===q.threadAtGeneration?L.throwNullException("choice.threadAtGeneration"):(this.state.callStack.currentThread=q.threadAtGeneration,null!==this._stateSnapshotAtLastNewline&&(this.state.callStack.currentThread=this.state.callStack.ForkThread()),this.ChoosePath(q.targetPath,!1),!0)}NextSequenceShuffleIndex(){let E=le.asOrNull(this.state.PopEvaluationStack(),w.IntValue);if(!(E instanceof w.IntValue))return this.Error("expected number of elements in sequence for shuffle index"),0;let j=this.state.currentPointer.container;if(null===j)return L.throwNullException("seqContainer");if(null===E.value)return L.throwNullException("numElementsIntVal.value");let q=E.value,ge=le.asOrThrows(this.state.PopEvaluationStack(),w.IntValue).value;if(null===ge)return L.throwNullException("seqCount");let Ne=ge/q,Xe=ge%q,$e=j.path.toString(),z2=0;for(let Yt=0,Re=$e.length;Yt<Re;Yt++)z2+=$e.charCodeAt(Yt)||0;let bt=new O.PRNG(Math.floor(z2+Ne+this.state.storySeed)),Je=[];for(let Yt=0;Yt<q;++Yt)Je.push(Yt);for(let Yt=0;Yt<=Xe;++Yt){let Re=bt.next()%Je.length,vn=Je[Re];if(Je.splice(Re,1),Yt==Xe)return vn}throw new Error("Should never reach here")}Error(E,j=!1){let q=new k.StoryException(E);throw q.useEndLineNumber=j,q}Warning(E){this.AddError(E,!0)}AddError(E,j=!1,q=!1){let ne=this.currentDebugMetadata,ge=j?"WARNING":"ERROR";this.state.AddError(E=null!=ne?"RUNTIME "+ge+": '"+ne.fileName+"' line "+(q?ne.endLineNumber:ne.startLineNumber)+": "+E:this.state.currentPointer.isNull?"RUNTIME "+ge+": "+E:"RUNTIME "+ge+": ("+this.state.currentPointer+"): "+E,j),j||this.state.ForceEnd()}Assert(E,j=null){if(0==E)throw null==j&&(j="Story assert"),new Error(j+" "+this.currentDebugMetadata)}get currentDebugMetadata(){let E,j=this.state.currentPointer;if(!j.isNull&&null!==j.Resolve()&&(E=j.Resolve().debugMetadata,null!==E))return E;for(let q=this.state.callStack.elements.length-1;q>=0;--q)if(j=this.state.callStack.elements[q].currentPointer,!j.isNull&&null!==j.Resolve()&&(E=j.Resolve().debugMetadata,null!==E))return E;for(let q=this.state.outputStream.length-1;q>=0;--q)if(E=this.state.outputStream[q].debugMetadata,null!==E)return E;return null}get mainContentContainer(){return this._temporaryEvaluationContainer?this._temporaryEvaluationContainer:this._mainContentContainer}}U.Story=Ve,Ve.inkVersionCurrent=21,function(Ye){let E;var j;(j=E=Ye.OutputStateChange||(Ye.OutputStateChange={}))[j.NoChange=0]="NoChange",j[j.ExtendedBeyondNewline=1]="ExtendedBeyondNewline",j[j.NewlineRemoved=2]="NewlineRemoved"}(Ve=U.Story||(U.Story={}))},27:(rt,U)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.StoryException=void 0;class R extends Error{constructor(A){super(A),this.useEndLineNumber=!1,this.message=A,this.name="StoryException"}}U.StoryException=R},300:(rt,U,R)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.StoryState=void 0;const D=R(169),A=R(109),S=R(464),x=R(336),M=R(339),z=R(871),P=R(783),N=R(566),Y=R(855),w=R(976),K=R(188),d=R(914),p=R(667),_=R(953),T=R(774),W=R(731),k=R(233),O=R(467),Z=R(328),_e=R(288),Te=R(22),X=R(781);class oe{constructor(L){this.kInkSaveStateVersion=10,this.kMinCompatibleLoadVersion=8,this.onDidLoadState=null,this._currentErrors=null,this._currentWarnings=null,this.divertedPointer=p.Pointer.Null,this._currentTurnIndex=0,this.storySeed=0,this.previousRandom=0,this.didSafeExit=!1,this._currentText=null,this._currentTags=null,this._outputStreamTextDirty=!0,this._outputStreamTagsDirty=!0,this._patch=null,this._aliveFlowNames=null,this._namedFlows=null,this.kDefaultFlowName="DEFAULT_FLOW",this._aliveFlowNamesDirty=!0,this.story=L,this._currentFlow=new Te.Flow(this.kDefaultFlowName,L),this.OutputStreamDirty(),this._aliveFlowNamesDirty=!0,this._evaluationStack=[],this._variablesState=new A.VariablesState(this.callStack,L.listDefinitions),this._visitCounts=new Map,this._turnIndices=new Map,this.currentTurnIndex=-1;let B=(new Date).getTime();this.storySeed=new K.PRNG(B).next()%100,this.previousRandom=0,this.GoToStart()}ToJson(L=!1){let B=new _e.SimpleJson.Writer;return this.WriteJson(B),B.toString()}toJson(L=!1){return this.ToJson(L)}LoadJson(L){let B=_e.SimpleJson.TextToDictionary(L);this.LoadJsonObj(B),null!==this.onDidLoadState&&this.onDidLoadState()}VisitCountAtPathString(L){let B;if(null!==this._patch){let fe=this.story.ContentAtPath(new P.Path(L)).container;if(null===fe)throw new Error("Content at path not found: "+L);if(B=this._patch.TryGetVisitCount(fe,0),B.exists)return B.result}return B=_.tryGetValueFromMap(this._visitCounts,L,null),B.exists?B.result:0}VisitCountForContainer(L){if(null===L)return k.throwNullException("container");if(!L.visitsShouldBeCounted)return this.story.Error("Read count for target ("+L.name+" - on "+L.debugMetadata+") unknown. The story may need to be compiled with countAllVisits flag (-c)."),0;if(null!==this._patch){let xe=this._patch.TryGetVisitCount(L,0);if(xe.exists)return xe.result}let B=L.path.toString(),fe=_.tryGetValueFromMap(this._visitCounts,B,null);return fe.exists?fe.result:0}IncrementVisitCountForContainer(L){if(null!==this._patch){let xe=this.VisitCountForContainer(L);return xe++,void this._patch.SetVisitCount(L,xe)}let B=L.path.toString(),fe=_.tryGetValueFromMap(this._visitCounts,B,null);this._visitCounts.set(B,fe.exists?fe.result+1:1)}RecordTurnIndexVisitToContainer(L){if(null!==this._patch)return void this._patch.SetTurnIndex(L,this.currentTurnIndex);let B=L.path.toString();this._turnIndices.set(B,this.currentTurnIndex)}TurnsSinceForContainer(L){if(L.turnIndexShouldBeCounted||this.story.Error("TURNS_SINCE() for target ("+L.name+" - on "+L.debugMetadata+") unknown. The story may need to be compiled with countAllVisits flag (-c)."),null!==this._patch){let xe=this._patch.TryGetTurnIndex(L,0);if(xe.exists)return this.currentTurnIndex-xe.result}let B=L.path.toString(),fe=_.tryGetValueFromMap(this._turnIndices,B,0);return fe.exists?this.currentTurnIndex-fe.result:-1}get callstackDepth(){return this.callStack.depth}get outputStream(){return this._currentFlow.outputStream}get currentChoices(){return this.canContinue?[]:this._currentFlow.currentChoices}get generatedChoices(){return this._currentFlow.currentChoices}get currentErrors(){return this._currentErrors}get currentWarnings(){return this._currentWarnings}get variablesState(){return this._variablesState}set variablesState(L){this._variablesState=L}get callStack(){return this._currentFlow.callStack}get evaluationStack(){return this._evaluationStack}get currentTurnIndex(){return this._currentTurnIndex}set currentTurnIndex(L){this._currentTurnIndex=L}get currentPathString(){let L=this.currentPointer;return L.isNull?null:null===L.path?k.throwNullException("pointer.path"):L.path.toString()}get currentPointer(){return this.callStack.currentElement.currentPointer.copy()}set currentPointer(L){this.callStack.currentElement.currentPointer=L.copy()}get previousPointer(){return this.callStack.currentThread.previousPointer.copy()}set previousPointer(L){this.callStack.currentThread.previousPointer=L.copy()}get canContinue(){return!this.currentPointer.isNull&&!this.hasError}get hasError(){return null!=this.currentErrors&&this.currentErrors.length>0}get hasWarning(){return null!=this.currentWarnings&&this.currentWarnings.length>0}get currentText(){if(this._outputStreamTextDirty){let L=new Y.StringBuilder,B=!1;for(let fe of this.outputStream){let xe=T.asOrNull(fe,S.StringValue);if(B||null===xe){let Ve=T.asOrNull(fe,N.ControlCommand);null!==Ve&&(Ve.commandType==N.ControlCommand.CommandType.BeginTag?B=!0:Ve.commandType==N.ControlCommand.CommandType.EndTag&&(B=!1))}else L.Append(xe.value)}this._currentText=this.CleanOutputWhitespace(L.toString()),this._outputStreamTextDirty=!1}return this._currentText}CleanOutputWhitespace(L){let B=new Y.StringBuilder,fe=-1,xe=0;for(let Ve=0;Ve<L.length;Ve++){let Ye=L.charAt(Ve),E=" "==Ye||"\t"==Ye;E&&-1==fe&&(fe=Ve),E||("\n"!=Ye&&fe>0&&fe!=xe&&B.Append(" "),fe=-1),"\n"==Ye&&(xe=Ve+1),E||B.Append(Ye)}return B.toString()}get currentTags(){if(this._outputStreamTagsDirty){this._currentTags=[];let L=!1,B=new Y.StringBuilder;for(let fe of this.outputStream){let xe=T.asOrNull(fe,N.ControlCommand);if(null!=xe){if(xe.commandType==N.ControlCommand.CommandType.BeginTag){if(L&&B.Length>0){let Ve=this.CleanOutputWhitespace(B.toString());this._currentTags.push(Ve),B.Clear()}L=!0}else if(xe.commandType==N.ControlCommand.CommandType.EndTag){if(B.Length>0){let Ve=this.CleanOutputWhitespace(B.toString());this._currentTags.push(Ve),B.Clear()}L=!1}}else if(L){let Ve=T.asOrNull(fe,S.StringValue);null!==Ve&&B.Append(Ve.value)}else{let Ve=T.asOrNull(fe,M.Tag);null!=Ve&&null!=Ve.text&&Ve.text.length>0&&this._currentTags.push(Ve.text)}}if(B.Length>0){let fe=this.CleanOutputWhitespace(B.toString());this._currentTags.push(fe),B.Clear()}this._outputStreamTagsDirty=!1}return this._currentTags}get currentFlowName(){return this._currentFlow.name}get currentFlowIsDefaultFlow(){return this._currentFlow.name==this.kDefaultFlowName}get aliveFlowNames(){if(this._aliveFlowNamesDirty){if(this._aliveFlowNames=[],null!=this._namedFlows)for(let L of this._namedFlows.keys())L!=this.kDefaultFlowName&&this._aliveFlowNames.push(L);this._aliveFlowNamesDirty=!1}return this._aliveFlowNames}get inExpressionEvaluation(){return this.callStack.currentElement.inExpressionEvaluation}set inExpressionEvaluation(L){this.callStack.currentElement.inExpressionEvaluation=L}GoToStart(){this.callStack.currentElement.currentPointer=p.Pointer.StartOf(this.story.mainContentContainer)}SwitchFlow_Internal(L){if(null===L)throw new Error("Must pass a non-null string to Story.SwitchFlow");if(null===this._namedFlows&&(this._namedFlows=new Map,this._namedFlows.set(this.kDefaultFlowName,this._currentFlow)),L===this._currentFlow.name)return;let B,fe=_.tryGetValueFromMap(this._namedFlows,L,null);fe.exists?B=fe.result:(B=new Te.Flow(L,this.story),this._namedFlows.set(L,B),this._aliveFlowNamesDirty=!0),this._currentFlow=B,this.variablesState.callStack=this._currentFlow.callStack,this.OutputStreamDirty()}SwitchToDefaultFlow_Internal(){null!==this._namedFlows&&this.SwitchFlow_Internal(this.kDefaultFlowName)}RemoveFlow_Internal(L){if(null===L)throw new Error("Must pass a non-null string to Story.DestroyFlow");if(L===this.kDefaultFlowName)throw new Error("Cannot destroy default flow");if(this._currentFlow.name===L&&this.SwitchToDefaultFlow_Internal(),null===this._namedFlows)return k.throwNullException("this._namedFlows");this._namedFlows.delete(L),this._aliveFlowNamesDirty=!0}CopyAndStartPatching(){let L=new oe(this.story);if(L._patch=new Z.StatePatch(this._patch),L._currentFlow.name=this._currentFlow.name,L._currentFlow.callStack=new D.CallStack(this._currentFlow.callStack),L._currentFlow.currentChoices.push(...this._currentFlow.currentChoices),L._currentFlow.outputStream.push(...this._currentFlow.outputStream),L.OutputStreamDirty(),null!==this._namedFlows){L._namedFlows=new Map;for(let[B,fe]of this._namedFlows)L._namedFlows.set(B,fe),L._aliveFlowNamesDirty=!0;L._namedFlows.set(this._currentFlow.name,L._currentFlow)}return this.hasError&&(L._currentErrors=[],L._currentErrors.push(...this.currentErrors||[])),this.hasWarning&&(L._currentWarnings=[],L._currentWarnings.push(...this.currentWarnings||[])),L.variablesState=this.variablesState,L.variablesState.callStack=L.callStack,L.variablesState.patch=L._patch,L.evaluationStack.push(...this.evaluationStack),this.divertedPointer.isNull||(L.divertedPointer=this.divertedPointer.copy()),L.previousPointer=this.previousPointer.copy(),L._visitCounts=this._visitCounts,L._turnIndices=this._turnIndices,L.currentTurnIndex=this.currentTurnIndex,L.storySeed=this.storySeed,L.previousRandom=this.previousRandom,L.didSafeExit=this.didSafeExit,L}RestoreAfterPatch(){this.variablesState.callStack=this.callStack,this.variablesState.patch=this._patch}ApplyAnyPatch(){if(null!==this._patch){this.variablesState.ApplyPatch();for(let[L,B]of this._patch.visitCounts)this.ApplyCountChanges(L,B,!0);for(let[L,B]of this._patch.turnIndices)this.ApplyCountChanges(L,B,!1);this._patch=null}}ApplyCountChanges(L,B,fe){(fe?this._visitCounts:this._turnIndices).set(L.path.toString(),B)}WriteJson(L){if(L.WriteObjectStart(),L.WritePropertyStart("flows"),L.WriteObjectStart(),null!==this._namedFlows)for(let[B,fe]of this._namedFlows)L.WriteProperty(B,xe=>fe.WriteJson(xe));else L.WriteProperty(this._currentFlow.name,B=>this._currentFlow.WriteJson(B));if(L.WriteObjectEnd(),L.WritePropertyEnd(),L.WriteProperty("currentFlowName",this._currentFlow.name),L.WriteProperty("variablesState",B=>this.variablesState.WriteJson(B)),L.WriteProperty("evalStack",B=>w.JsonSerialisation.WriteListRuntimeObjs(B,this.evaluationStack)),!this.divertedPointer.isNull){if(null===this.divertedPointer.path)return k.throwNullException("divertedPointer");L.WriteProperty("currentDivertTarget",this.divertedPointer.path.componentsString)}L.WriteProperty("visitCounts",B=>w.JsonSerialisation.WriteIntDictionary(B,this._visitCounts)),L.WriteProperty("turnIndices",B=>w.JsonSerialisation.WriteIntDictionary(B,this._turnIndices)),L.WriteIntProperty("turnIdx",this.currentTurnIndex),L.WriteIntProperty("storySeed",this.storySeed),L.WriteIntProperty("previousRandom",this.previousRandom),L.WriteIntProperty("inkSaveVersion",this.kInkSaveStateVersion),L.WriteIntProperty("inkFormatVersion",O.Story.inkVersionCurrent),L.WriteObjectEnd()}LoadJsonObj(L){let B=L,fe=B.inkSaveVersion;if(null==fe)throw new Error("ink save format incorrect, can't load.");if(parseInt(fe)<this.kMinCompatibleLoadVersion)throw new Error("Ink save format isn't compatible with the current version (saw '"+fe+"', but minimum is "+this.kMinCompatibleLoadVersion+"), so can't load.");let xe=B.flows;if(null!=xe){let Ye=xe;1===Object.keys(Ye).length?this._namedFlows=null:null===this._namedFlows?this._namedFlows=new Map:this._namedFlows.clear();let E=Object.entries(Ye);for(let[j,q]of E){let ne=j,ge=q,Ne=new Te.Flow(ne,this.story,ge);if(1===Object.keys(Ye).length)this._currentFlow=new Te.Flow(ne,this.story,ge);else{if(null===this._namedFlows)return k.throwNullException("this._namedFlows");this._namedFlows.set(ne,Ne)}}null!=this._namedFlows&&this._namedFlows.size>1&&(this._currentFlow=this._namedFlows.get(B.currentFlowName))}else this._namedFlows=null,this._currentFlow.name=this.kDefaultFlowName,this._currentFlow.callStack.SetJsonToken(B.callstackThreads,this.story),this._currentFlow.outputStream=w.JsonSerialisation.JArrayToRuntimeObjList(B.outputStream),this._currentFlow.currentChoices=w.JsonSerialisation.JArrayToRuntimeObjList(B.currentChoices),this._currentFlow.LoadFlowChoiceThreads(B.choiceThreads,this.story);this.OutputStreamDirty(),this._aliveFlowNamesDirty=!0,this.variablesState.SetJsonToken(B.variablesState),this.variablesState.callStack=this._currentFlow.callStack,this._evaluationStack=w.JsonSerialisation.JArrayToRuntimeObjList(B.evalStack);let Ve=B.currentDivertTarget;if(null!=Ve){let Ye=new P.Path(Ve.toString());this.divertedPointer=this.story.PointerAtPath(Ye)}this._visitCounts=w.JsonSerialisation.JObjectToIntDictionary(B.visitCounts),this._turnIndices=w.JsonSerialisation.JObjectToIntDictionary(B.turnIndices),this.currentTurnIndex=parseInt(B.turnIdx),this.storySeed=parseInt(B.storySeed),this.previousRandom=parseInt(B.previousRandom)}ResetErrors(){this._currentErrors=null,this._currentWarnings=null}ResetOutput(L=null){this.outputStream.length=0,null!==L&&this.outputStream.push(...L),this.OutputStreamDirty()}PushToOutputStream(L){let B=T.asOrNull(L,S.StringValue);if(null!==B){let fe=this.TrySplittingHeadTailWhitespace(B);if(null!==fe){for(let xe of fe)this.PushToOutputStreamIndividual(xe);return void this.OutputStreamDirty()}}this.PushToOutputStreamIndividual(L),this.OutputStreamDirty()}PopFromOutputStream(L){this.outputStream.splice(this.outputStream.length-L,L),this.OutputStreamDirty()}TrySplittingHeadTailWhitespace(L){let B=L.value;if(null===B)return k.throwNullException("single.value");let fe=-1,xe=-1;for(let ne=0;ne<B.length;ne++){let ge=B[ne];if("\n"!=ge){if(" "==ge||"\t"==ge)continue;break}-1==fe&&(fe=ne),xe=ne}let Ve=-1,Ye=-1;for(let ne=B.length-1;ne>=0;ne--){let ge=B[ne];if("\n"!=ge){if(" "==ge||"\t"==ge)continue;break}-1==Ve&&(Ve=ne),Ye=ne}if(-1==fe&&-1==Ve)return null;let E=[],j=0,q=B.length;if(-1!=fe){if(fe>0){let ne=new S.StringValue(B.substring(0,fe));E.push(ne)}E.push(new S.StringValue("\n")),j=xe+1}if(-1!=Ve&&(q=Ye),q>j){let ne=B.substring(j,q-j);E.push(new S.StringValue(ne))}if(-1!=Ve&&Ye>xe&&(E.push(new S.StringValue("\n")),Ve<B.length-1)){let ge=new S.StringValue(B.substring(Ve+1,B.length-Ve-1));E.push(ge)}return E}PushToOutputStreamIndividual(L){let B=T.asOrNull(L,z.Glue),fe=T.asOrNull(L,S.StringValue),xe=!0;if(B)this.TrimNewlinesFromOutputStream(),xe=!0;else if(fe){let Ve=-1,Ye=this.callStack.currentElement;Ye.type==x.PushPopType.Function&&(Ve=Ye.functionStartInOutputStream);let E=-1;for(let q=this.outputStream.length-1;q>=0;q--){let ne=this.outputStream[q],ge=ne instanceof N.ControlCommand?ne:null;if(null!=(ne instanceof z.Glue?ne:null)){E=q;break}if(null!=ge&&ge.commandType==N.ControlCommand.CommandType.BeginString){q>=Ve&&(Ve=-1);break}}let j=-1;if(j=-1!=E&&-1!=Ve?Math.min(Ve,E):-1!=E?E:Ve,-1!=j){if(fe.isNewline)xe=!1;else if(fe.isNonWhitespace&&(E>-1&&this.RemoveExistingGlue(),Ve>-1)){let q=this.callStack.elements;for(let ne=q.length-1;ne>=0;ne--){let ge=q[ne];if(ge.type!=x.PushPopType.Function)break;ge.functionStartInOutputStream=-1}}}else fe.isNewline&&(this.outputStreamEndsInNewline||!this.outputStreamContainsContent)&&(xe=!1)}if(xe){if(null===L)return k.throwNullException("obj");this.outputStream.push(L),this.OutputStreamDirty()}}TrimNewlinesFromOutputStream(){let L=-1,B=this.outputStream.length-1;for(;B>=0;){let fe=this.outputStream[B],xe=T.asOrNull(fe,N.ControlCommand),Ve=T.asOrNull(fe,S.StringValue);if(null!=xe||null!=Ve&&Ve.isNonWhitespace)break;null!=Ve&&Ve.isNewline&&(L=B),B--}if(L>=0)for(B=L;B<this.outputStream.length;)T.asOrNull(this.outputStream[B],S.StringValue)?this.outputStream.splice(B,1):B++;this.OutputStreamDirty()}RemoveExistingGlue(){for(let L=this.outputStream.length-1;L>=0;L--){let B=this.outputStream[L];if(B instanceof z.Glue)this.outputStream.splice(L,1);else if(B instanceof N.ControlCommand)break}this.OutputStreamDirty()}get outputStreamEndsInNewline(){if(this.outputStream.length>0)for(let L=this.outputStream.length-1;L>=0&&!(this.outputStream[L]instanceof N.ControlCommand);L--){let fe=this.outputStream[L];if(fe instanceof S.StringValue){if(fe.isNewline)return!0;if(fe.isNonWhitespace)break}}return!1}get outputStreamContainsContent(){for(let L of this.outputStream)if(L instanceof S.StringValue)return!0;return!1}get inStringEvaluation(){for(let L=this.outputStream.length-1;L>=0;L--){let B=T.asOrNull(this.outputStream[L],N.ControlCommand);if(B instanceof N.ControlCommand&&B.commandType==N.ControlCommand.CommandType.BeginString)return!0}return!1}PushEvaluationStack(L){let B=T.asOrNull(L,S.ListValue);if(B){let fe=B.value;if(null===fe)return k.throwNullException("rawList");if(null!=fe.originNames){fe.origins||(fe.origins=[]),fe.origins.length=0;for(let xe of fe.originNames){if(null===this.story.listDefinitions)return k.throwNullException("StoryState.story.listDefinitions");let Ve=this.story.listDefinitions.TryListGetDefinition(xe,null);if(null===Ve.result)return k.throwNullException("StoryState def.result");fe.origins.indexOf(Ve.result)<0&&fe.origins.push(Ve.result)}}}if(null===L)return k.throwNullException("obj");this.evaluationStack.push(L)}PopEvaluationStack(L){if(typeof L>"u"){let B=this.evaluationStack.pop();return T.nullIfUndefined(B)}{if(L>this.evaluationStack.length)throw new Error("trying to pop too many objects");let B=this.evaluationStack.splice(this.evaluationStack.length-L,L);return T.nullIfUndefined(B)}}PeekEvaluationStack(){return this.evaluationStack[this.evaluationStack.length-1]}ForceEnd(){this.callStack.Reset(),this._currentFlow.currentChoices.length=0,this.currentPointer=p.Pointer.Null,this.previousPointer=p.Pointer.Null,this.didSafeExit=!0}TrimWhitespaceFromFunctionEnd(){W.Debug.Assert(this.callStack.currentElement.type==x.PushPopType.Function);let L=this.callStack.currentElement.functionStartInOutputStream;-1==L&&(L=0);for(let B=this.outputStream.length-1;B>=L;B--){let fe=this.outputStream[B],xe=T.asOrNull(fe,S.StringValue),Ve=T.asOrNull(fe,N.ControlCommand);if(null!=xe){if(Ve)break;if(!xe.isNewline&&!xe.isInlineWhitespace)break;this.outputStream.splice(B,1),this.OutputStreamDirty()}}}PopCallStack(L=null){this.callStack.currentElement.type==x.PushPopType.Function&&this.TrimWhitespaceFromFunctionEnd(),this.callStack.Pop(L)}SetChosenPath(L,B){this._currentFlow.currentChoices.length=0;let fe=this.story.PointerAtPath(L);!fe.isNull&&-1==fe.index&&(fe.index=0),this.currentPointer=fe,B&&this.currentTurnIndex++}StartFunctionEvaluationFromGame(L,B){this.callStack.Push(x.PushPopType.FunctionEvaluationFromGame,this.evaluationStack.length),this.callStack.currentElement.currentPointer=p.Pointer.StartOf(L),this.PassArgumentsToEvaluationStack(B)}PassArgumentsToEvaluationStack(L){if(null!==L)for(let B=0;B<L.length;B++){if(!("number"==typeof L[B]||"string"==typeof L[B]||"boolean"==typeof L[B]||L[B]instanceof X.InkList))throw new Error((T.nullIfUndefined(arguments[B]),"null"));this.PushEvaluationStack(S.Value.Create(L[B]))}}TryExitFunctionEvaluationFromGame(){return this.callStack.currentElement.type==x.PushPopType.FunctionEvaluationFromGame&&(this.currentPointer=p.Pointer.Null,this.didSafeExit=!0,!0)}CompleteFunctionEvaluationFromGame(){if(this.callStack.currentElement.type!=x.PushPopType.FunctionEvaluationFromGame)throw new Error("Expected external function evaluation to be complete. Stack trace: "+this.callStack.callStackTrace);let L=this.callStack.currentElement.evaluationStackHeightWhenPushed,B=null;for(;this.evaluationStack.length>L;){let fe=this.PopEvaluationStack();null===B&&(B=fe)}if(this.PopCallStack(x.PushPopType.FunctionEvaluationFromGame),B){if(B instanceof d.Void)return null;let fe=T.asOrThrows(B,S.Value);return fe.valueType==S.ValueType.DivertTarget?fe.valueObject.toString():fe.valueObject}return null}AddError(L,B){B?(null==this._currentWarnings&&(this._currentWarnings=[]),this._currentWarnings.push(L)):(null==this._currentErrors&&(this._currentErrors=[]),this._currentErrors.push(L))}OutputStreamDirty(){this._outputStreamTextDirty=!0,this._outputStreamTagsDirty=!0}}U.StoryState=oe},855:(rt,U)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.StringBuilder=void 0,U.StringBuilder=class R{constructor(A){A=typeof A<"u"?A.toString():"",this.string=A}get Length(){return this.string.length}Append(A){null!==A&&(this.string+=A)}AppendLine(A){typeof A<"u"&&this.Append(A),this.string+="\n"}AppendFormat(A,...S){this.string+=A.replace(/{(\d+)}/g,(x,M)=>typeof S[M]<"u"?S[M]:x)}toString(){return this.string}Clear(){this.string=""}}},339:(rt,U,R)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.Tag=void 0;const D=R(9);U.Tag=class A extends D.InkObject{constructor(x){super(),this.text=x.toString()||""}toString(){return"# "+this.text}}},953:(rt,U)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.tryParseFloat=U.tryParseInt=U.tryGetValueFromMap=void 0,U.tryGetValueFromMap=function R(S,x,M){if(null===S)return{result:M,exists:!1};let z=S.get(x);return typeof z>"u"?{result:M,exists:!1}:{result:z,exists:!0}},U.tryParseInt=function D(S,x=0){let M=parseInt(S);return Number.isNaN(M)?{result:x,exists:!1}:{result:M,exists:!0}},U.tryParseFloat=function A(S,x=0){let M=parseFloat(S);return Number.isNaN(M)?{result:x,exists:!1}:{result:M,exists:!0}}},774:(rt,U)=>{"use strict";function P(Y,w){return Y}Object.defineProperty(U,"__esModule",{value:!0}),U.filterUndef=U.isEquatable=U.nullIfUndefined=U.asINamedContentOrNull=U.asBooleanOrThrows=U.asNumberOrThrows=U.asOrThrows=U.asOrNull=void 0,U.asOrNull=function R(Y,w){return Y instanceof w?P(Y):null},U.asOrThrows=function D(Y,w){if(Y instanceof w)return P(Y);throw new Error(`${Y} is not of type ${w}`)},U.asNumberOrThrows=function A(Y){if("number"==typeof Y)return Y;throw new Error(`${Y} is not a number`)},U.asBooleanOrThrows=function S(Y){if("boolean"==typeof Y)return Y;throw new Error(`${Y} is not a boolean`)},U.asINamedContentOrNull=function x(Y){return Y.hasValidName&&Y.name?Y:null},U.nullIfUndefined=function M(Y){return typeof Y>"u"?null:Y},U.isEquatable=function z(Y){return"object"==typeof Y&&"function"==typeof Y.Equals},U.filterUndef=function N(Y){return null!=Y}},464:(rt,U,R)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.ValueType=U.ListValue=U.VariablePointerValue=U.DivertTargetValue=U.StringValue=U.FloatValue=U.IntValue=U.BoolValue=U.Value=U.AbstractValue=void 0;const D=R(9),A=R(783),S=R(781),x=R(27),M=R(774),z=R(953),P=R(233);class N extends D.InkObject{static Create(Z,_e){if(_e){if(_e===k.Int&&Number.isInteger(Number(Z)))return new K(Number(Z));if(_e===k.Float&&!isNaN(Z))return new d(Number(Z))}return"boolean"==typeof Z?new w(Boolean(Z)):"string"==typeof Z?new p(String(Z)):Number.isInteger(Number(Z))?new K(Number(Z)):isNaN(Z)?Z instanceof A.Path?new _(M.asOrThrows(Z,A.Path)):Z instanceof S.InkList?new W(M.asOrThrows(Z,S.InkList)):null:new d(Number(Z))}Copy(){return M.asOrThrows(N.Create(this.valueObject),D.InkObject)}BadCastException(Z){return new x.StoryException("Can't cast "+this.valueObject+" from "+this.valueType+" to "+Z)}}U.AbstractValue=N;class Y extends N{constructor(Z){super(),this.value=Z}get valueObject(){return this.value}toString(){return null===this.value?P.throwNullException("Value.value"):this.value.toString()}}U.Value=Y;class w extends Y{constructor(Z){super(Z||!1)}get isTruthy(){return Boolean(this.value)}get valueType(){return k.Bool}Cast(Z){if(null===this.value)return P.throwNullException("Value.value");if(Z==this.valueType)return this;if(Z==k.Int)return new K(this.value?1:0);if(Z==k.Float)return new d(this.value?1:0);if(Z==k.String)return new p(this.value?"true":"false");throw this.BadCastException(Z)}toString(){return this.value?"true":"false"}}U.BoolValue=w;class K extends Y{constructor(Z){super(Z||0)}get isTruthy(){return 0!=this.value}get valueType(){return k.Int}Cast(Z){if(null===this.value)return P.throwNullException("Value.value");if(Z==this.valueType)return this;if(Z==k.Bool)return new w(0!==this.value);if(Z==k.Float)return new d(this.value);if(Z==k.String)return new p(""+this.value);throw this.BadCastException(Z)}}U.IntValue=K;class d extends Y{constructor(Z){super(Z||0)}get isTruthy(){return 0!=this.value}get valueType(){return k.Float}Cast(Z){if(null===this.value)return P.throwNullException("Value.value");if(Z==this.valueType)return this;if(Z==k.Bool)return new w(0!==this.value);if(Z==k.Int)return new K(this.value);if(Z==k.String)return new p(""+this.value);throw this.BadCastException(Z)}}U.FloatValue=d;class p extends Y{constructor(Z){if(super(Z||""),this._isNewline="\n"==this.value,this._isInlineWhitespace=!0,null===this.value)return P.throwNullException("Value.value");this.value.length>0&&this.value.split("").every(_e=>" "==_e||"\t"==_e||(this._isInlineWhitespace=!1,!1))}get valueType(){return k.String}get isTruthy(){return null===this.value?P.throwNullException("Value.value"):this.value.length>0}get isNewline(){return this._isNewline}get isInlineWhitespace(){return this._isInlineWhitespace}get isNonWhitespace(){return!this.isNewline&&!this.isInlineWhitespace}Cast(Z){if(Z==this.valueType)return this;if(Z==k.Int){let _e=z.tryParseInt(this.value);if(_e.exists)return new K(_e.result);throw this.BadCastException(Z)}if(Z==k.Float){let _e=z.tryParseFloat(this.value);if(_e.exists)return new d(_e.result);throw this.BadCastException(Z)}throw this.BadCastException(Z)}}U.StringValue=p;class _ extends Y{constructor(Z=null){super(Z)}get valueType(){return k.DivertTarget}get targetPath(){return null===this.value?P.throwNullException("Value.value"):this.value}set targetPath(Z){this.value=Z}get isTruthy(){throw new Error("Shouldn't be checking the truthiness of a divert target")}Cast(Z){if(Z==this.valueType)return this;throw this.BadCastException(Z)}toString(){return"DivertTargetValue("+this.targetPath+")"}}U.DivertTargetValue=_;class T extends Y{constructor(Z,_e=-1){super(Z),this._contextIndex=_e}get contextIndex(){return this._contextIndex}set contextIndex(Z){this._contextIndex=Z}get variableName(){return null===this.value?P.throwNullException("Value.value"):this.value}set variableName(Z){this.value=Z}get valueType(){return k.VariablePointer}get isTruthy(){throw new Error("Shouldn't be checking the truthiness of a variable pointer")}Cast(Z){if(Z==this.valueType)return this;throw this.BadCastException(Z)}toString(){return"VariablePointerValue("+this.variableName+")"}Copy(){return new T(this.variableName,this.contextIndex)}}U.VariablePointerValue=T;class W extends Y{get isTruthy(){return null===this.value?P.throwNullException("this.value"):this.value.Count>0}get valueType(){return k.List}Cast(Z){if(null===this.value)return P.throwNullException("Value.value");if(Z==k.Int){let _e=this.value.maxItem;return new K(_e.Key.isNull?0:_e.Value)}if(Z==k.Float){let _e=this.value.maxItem;return new d(_e.Key.isNull?0:_e.Value)}if(Z==k.String){let _e=this.value.maxItem;return new p(_e.Key.isNull?"":_e.Key.toString())}if(Z==this.valueType)return this;throw this.BadCastException(Z)}constructor(Z,_e){super(null),Z||_e?Z instanceof S.InkList?this.value=new S.InkList(Z):Z instanceof S.InkListItem&&"number"==typeof _e&&(this.value=new S.InkList({Key:Z,Value:_e})):this.value=new S.InkList}static RetainListOriginsForAssignment(Z,_e){let Te=M.asOrNull(Z,W),X=M.asOrNull(_e,W);return X&&null===X.value?P.throwNullException("newList.value"):Te&&null===Te.value?P.throwNullException("oldList.value"):void(Te&&X&&0==X.value.Count&&X.value.SetInitialOriginNames(Te.value.originNames))}}var k,O;U.ListValue=W,(O=k=U.ValueType||(U.ValueType={}))[O.Bool=-1]="Bool",O[O.Int=0]="Int",O[O.Float=1]="Float",O[O.List=2]="List",O[O.String=3]="String",O[O.DivertTarget=4]="DivertTarget",O[O.VariablePointer=5]="VariablePointer"},114:(rt,U,R)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.VariableAssignment=void 0;const D=R(9);U.VariableAssignment=class A extends D.InkObject{constructor(x,M){super(),this.variableName=x||null,this.isNewDeclaration=!!M,this.isGlobal=!1}toString(){return"VarAssign to "+this.variableName}}},520:(rt,U,R)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.VariableReference=void 0;const D=R(9),A=R(783);U.VariableReference=class S extends D.InkObject{constructor(M=null){super(),this.pathForCount=null,this.name=M}get containerForCount(){return null===this.pathForCount?null:this.ResolvePath(this.pathForCount).container}get pathStringForCount(){return null===this.pathForCount?null:this.CompactPathString(this.pathForCount)}set pathStringForCount(M){this.pathForCount=null===M?null:new A.Path(M)}toString(){return null!=this.name?"var("+this.name+")":"read_count("+this.pathStringForCount+")"}}},109:(rt,U,R)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.VariablesState=void 0;const D=R(464),A=R(27),S=R(976),x=R(774),M=R(953),z=R(233);class N extends class{}{constructor(w,K){super(),this.variableChangedEventCallbacks=[],this.patch=null,this._batchObservingVariableChanges=!1,this._defaultGlobalVariables=new Map,this._changedVariablesForBatchObs=new Set,this._globalVariables=new Map,this._callStack=w,this._listDefsOrigin=K;try{return new Proxy(this,{get:(p,_)=>_ in p?p[_]:p.$(_),set:(p,_,T)=>(_ in p?p[_]=T:p.$(_,T),!0)})}catch{}}variableChangedEvent(w,K){for(let d of this.variableChangedEventCallbacks)d(w,K)}get batchObservingVariableChanges(){return this._batchObservingVariableChanges}set batchObservingVariableChanges(w){if(this._batchObservingVariableChanges=w,w)this._changedVariablesForBatchObs=new Set;else if(null!=this._changedVariablesForBatchObs){for(let K of this._changedVariablesForBatchObs){let d=this._globalVariables.get(K);d?this.variableChangedEvent(K,d):z.throwNullException("currentValue")}this._changedVariablesForBatchObs=null}}get callStack(){return this._callStack}set callStack(w){this._callStack=w}$(w,K){if(typeof K>"u"){let d=null;return null!==this.patch&&(d=this.patch.TryGetGlobal(w,null),d.exists)?d.result.valueObject:(d=this._globalVariables.get(w),typeof d>"u"&&(d=this._defaultGlobalVariables.get(w)),typeof d<"u"?d.valueObject:null)}{if(typeof this._defaultGlobalVariables.get(w)>"u")throw new A.StoryException("Cannot assign to a variable ("+w+") that hasn't been declared in the story");let d=D.Value.Create(K);if(null==d)throw null==K?new Error("Cannot pass null to VariableState"):new Error("Invalid value passed to VariableState: "+K.toString());this.SetGlobal(w,d)}}ApplyPatch(){if(null===this.patch)return z.throwNullException("this.patch");for(let[w,K]of this.patch.globals)this._globalVariables.set(w,K);if(null!==this._changedVariablesForBatchObs)for(let w of this.patch.changedVariables)this._changedVariablesForBatchObs.add(w);this.patch=null}SetJsonToken(w){this._globalVariables.clear();for(let[K,d]of this._defaultGlobalVariables){let p=w[K];if(typeof p<"u"){let _=S.JsonSerialisation.JTokenToRuntimeObject(p);if(null===_)return z.throwNullException("tokenInkObject");this._globalVariables.set(K,_)}else this._globalVariables.set(K,d)}}WriteJson(w){w.WriteObjectStart();for(let[K,d]of this._globalVariables){let p=K,_=d;if(N.dontSaveDefaultValues&&this._defaultGlobalVariables.has(p)){let T=this._defaultGlobalVariables.get(p);if(this.RuntimeObjectsEqual(_,T))continue}w.WritePropertyStart(p),S.JsonSerialisation.WriteRuntimeObject(w,_),w.WritePropertyEnd()}w.WriteObjectEnd()}RuntimeObjectsEqual(w,K){if(null===w)return z.throwNullException("obj1");if(null===K)return z.throwNullException("obj2");if(w.constructor!==K.constructor)return!1;let d=x.asOrNull(w,D.BoolValue);if(null!==d)return d.value===x.asOrThrows(K,D.BoolValue).value;let p=x.asOrNull(w,D.IntValue);if(null!==p)return p.value===x.asOrThrows(K,D.IntValue).value;let _=x.asOrNull(w,D.FloatValue);if(null!==_)return _.value===x.asOrThrows(K,D.FloatValue).value;let T=x.asOrNull(w,D.Value),W=x.asOrNull(K,D.Value);if(null!==T&&null!==W)return x.isEquatable(T.valueObject)&&x.isEquatable(W.valueObject)?T.valueObject.Equals(W.valueObject):T.valueObject===W.valueObject;throw new Error("FastRoughDefinitelyEquals: Unsupported runtime object type: "+w.constructor.name)}GetVariableWithName(w,K=-1){let d=this.GetRawVariableWithName(w,K),p=x.asOrNull(d,D.VariablePointerValue);return null!==p&&(d=this.ValueAtVariablePointer(p)),d}TryGetDefaultVariableValue(w){let K=M.tryGetValueFromMap(this._defaultGlobalVariables,w,null);return K.exists?K.result:null}GlobalVariableExistsWithName(w){return this._globalVariables.has(w)||null!==this._defaultGlobalVariables&&this._defaultGlobalVariables.has(w)}GetRawVariableWithName(w,K){let d=null;if(0==K||-1==K){let p=null;if(null!==this.patch&&(p=this.patch.TryGetGlobal(w,null),p.exists)||(p=M.tryGetValueFromMap(this._globalVariables,w,null),p.exists)||null!==this._defaultGlobalVariables&&(p=M.tryGetValueFromMap(this._defaultGlobalVariables,w,null),p.exists))return p.result;if(null===this._listDefsOrigin)return z.throwNullException("VariablesState._listDefsOrigin");let _=this._listDefsOrigin.FindSingleItemListWithName(w);if(_)return _}return d=this._callStack.GetTemporaryVariableWithName(w,K),d}ValueAtVariablePointer(w){return this.GetVariableWithName(w.variableName,w.contextIndex)}Assign(w,K){let d=w.variableName;if(null===d)return z.throwNullException("name");let p=-1,_=!1;if(_=w.isNewDeclaration?w.isGlobal:this.GlobalVariableExistsWithName(d),w.isNewDeclaration){let T=x.asOrNull(K,D.VariablePointerValue);null!==T&&(K=this.ResolveVariablePointer(T))}else{let T=null;do{T=x.asOrNull(this.GetRawVariableWithName(d,p),D.VariablePointerValue),null!=T&&(d=T.variableName,p=T.contextIndex,_=0==p)}while(null!=T)}_?this.SetGlobal(d,K):this._callStack.SetTemporaryVariable(d,K,w.isNewDeclaration,p)}SnapshotDefaultGlobals(){this._defaultGlobalVariables=new Map(this._globalVariables)}RetainListOriginsForAssignment(w,K){let d=x.asOrThrows(w,D.ListValue),p=x.asOrThrows(K,D.ListValue);d.value&&p.value&&0==p.value.Count&&p.value.SetInitialOriginNames(d.value.originNames)}SetGlobal(w,K){let d=null;if(null===this.patch&&(d=M.tryGetValueFromMap(this._globalVariables,w,null)),null!==this.patch&&(d=this.patch.TryGetGlobal(w,null),d.exists||(d=M.tryGetValueFromMap(this._globalVariables,w,null))),D.ListValue.RetainListOriginsForAssignment(d.result,K),null===w)return z.throwNullException("variableName");if(null!==this.patch?this.patch.SetGlobal(w,K):this._globalVariables.set(w,K),null!==this.variableChangedEvent&&null!==d&&K!==d.result)if(this.batchObservingVariableChanges){if(null===this._changedVariablesForBatchObs)return z.throwNullException("this._changedVariablesForBatchObs");null!==this.patch?this.patch.AddChangedVariable(w):null!==this._changedVariablesForBatchObs&&this._changedVariablesForBatchObs.add(w)}else this.variableChangedEvent(w,K)}ResolveVariablePointer(w){let K=w.contextIndex;-1==K&&(K=this.GetContextIndexOfVariableNamed(w.variableName));let d=this.GetRawVariableWithName(w.variableName,K);return x.asOrNull(d,D.VariablePointerValue)??new D.VariablePointerValue(w.variableName,K)}GetContextIndexOfVariableNamed(w){return this.GlobalVariableExistsWithName(w)?0:this._callStack.currentElementIndex}ObserveVariableChange(w){this.variableChangedEventCallbacks.push(w)}}U.VariablesState=N,N.dontSaveDefaultValues=!0},914:(rt,U,R)=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.Void=void 0;const D=R(9);U.Void=class A extends D.InkObject{}}},rt=>{rt(rt.s=164)}]);